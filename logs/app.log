2024-08-21 15:17:19,738 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_o7kqy3dpQaYyceebwTRvGdSu', assistant_id='asst_ig3DY9RgboOKNACsSM5nwXC3', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='The email has been sent to Parker asking about his work. If you need any further assistance, feel free to ask!'), type='text')], created_at=1724278629, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_0V5OQKYQPjOcqoIOJ5IePhDS', status=None, thread_id='thread_GYZI9KOX3frFfuCei2Az5UD5'), Message(id='msg_4bWuCVNA3OxuvtQzoHwV9HfO', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724278623, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_GYZI9KOX3frFfuCei2Az5UD5')], object='list', first_id='msg_o7kqy3dpQaYyceebwTRvGdSu', last_id='msg_4bWuCVNA3OxuvtQzoHwV9HfO', has_more=False)
2024-08-21 15:17:26,957 - slack_ai_assistant - DEBUG - Executing function: create_draft with parameters: {'to': 'parkerjohnsonbeard@gmail.com', 'subject': 'Checking In: How Is Your Work Going?', 'body': 'Hi Parker,\n\nI hope this message finds you well. I just wanted to check in and see how things are going with your work. Looking forward to hearing from you soon.\n\nBest regards,\n\n[Your Name]'}
2024-08-21 15:17:26,958 - slack_ai_assistant - DEBUG - GmailIntegration executing function: create_draft with params: {'to': 'parkerjohnsonbeard@gmail.com', 'subject': 'Checking In: How Is Your Work Going?', 'body': 'Hi Parker,\n\nI hope this message finds you well. I just wanted to check in and see how things are going with your work. Looking forward to hearing from you soon.\n\nBest regards,\n\n[Your Name]'}
2024-08-21 15:17:26,958 - slack_ai_assistant - DEBUG - Structured JSON for draft: {'to': 'parkerjohnsonbeard@gmail.com', 'subject': 'Checking In: How Is Your Work Going?', 'body': 'Hi Parker,\n\nI hope this message finds you well. I just wanted to check in and see how things are going with your work. Looking forward to hearing from you soon.\n\nBest regards,\n\n[Your Name]'}
2024-08-21 15:17:30,691 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_4bWuCVNA3OxuvtQzoHwV9HfO', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724278623, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_GYZI9KOX3frFfuCei2Az5UD5'), Message(id='msg_o7kqy3dpQaYyceebwTRvGdSu', assistant_id='asst_ig3DY9RgboOKNACsSM5nwXC3', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='The email has been sent to Parker asking about his work. If you need any further assistance, feel free to ask!'), type='text')], created_at=1724278629, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_0V5OQKYQPjOcqoIOJ5IePhDS', status=None, thread_id='thread_GYZI9KOX3frFfuCei2Az5UD5'), Message(id='msg_8bmsfsPL0l9B8WHXl5l5kXID', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going'"), type='text')], created_at=1724278640, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_GYZI9KOX3frFfuCei2Az5UD5'), Message(id='msg_rKWs3gbyXTzBJ2TTfFyFZhiJ', assistant_id='asst_ig3DY9RgboOKNACsSM5nwXC3', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='A draft email has been created for Parker asking about his work. If you need any further adjustments or assistance, just let me know!'), type='text')], created_at=1724278649, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_k8I4tjUSgRaw13wIP3q2NhD2', status=None, thread_id='thread_GYZI9KOX3frFfuCei2Az5UD5')], object='list', first_id='msg_4bWuCVNA3OxuvtQzoHwV9HfO', last_id='msg_rKWs3gbyXTzBJ2TTfFyFZhiJ', has_more=False)
2024-08-21 15:17:30,691 - slack_ai_assistant - DEBUG - Messages: SyncCursorPage[Message](data=[Message(id='msg_4bWuCVNA3OxuvtQzoHwV9HfO', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724278623, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_GYZI9KOX3frFfuCei2Az5UD5'), Message(id='msg_o7kqy3dpQaYyceebwTRvGdSu', assistant_id='asst_ig3DY9RgboOKNACsSM5nwXC3', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='The email has been sent to Parker asking about his work. If you need any further assistance, feel free to ask!'), type='text')], created_at=1724278629, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_0V5OQKYQPjOcqoIOJ5IePhDS', status=None, thread_id='thread_GYZI9KOX3frFfuCei2Az5UD5'), Message(id='msg_8bmsfsPL0l9B8WHXl5l5kXID', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going'"), type='text')], created_at=1724278640, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_GYZI9KOX3frFfuCei2Az5UD5'), Message(id='msg_rKWs3gbyXTzBJ2TTfFyFZhiJ', assistant_id='asst_ig3DY9RgboOKNACsSM5nwXC3', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='A draft email has been created for Parker asking about his work. If you need any further adjustments or assistance, just let me know!'), type='text')], created_at=1724278649, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_k8I4tjUSgRaw13wIP3q2NhD2', status=None, thread_id='thread_GYZI9KOX3frFfuCei2Az5UD5')], object='list', first_id='msg_4bWuCVNA3OxuvtQzoHwV9HfO', last_id='msg_rKWs3gbyXTzBJ2TTfFyFZhiJ', has_more=False)
2024-08-21 15:17:30,692 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 15:17:30,692 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_0V5OQKYQPjOcqoIOJ5IePhDS
2024-08-21 15:17:30,692 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 15:17:30,692 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_k8I4tjUSgRaw13wIP3q2NhD2
2024-08-21 15:17:30,692 - slack_ai_assistant - DEBUG - Dispatch result: {'thread_id': 'thread_GYZI9KOX3frFfuCei2Az5UD5', 'run_id': 'run_k8I4tjUSgRaw13wIP3q2NhD2', 'assistant_response': 'A draft email has been created for Parker asking about his work. If you need any further adjustments or assistance, just let me know!'}
2024-08-21 15:17:30,692 - slack_ai_assistant - DEBUG - Thread ID: thread_GYZI9KOX3frFfuCei2Az5UD5, Run ID: run_k8I4tjUSgRaw13wIP3q2NhD2
2024-08-21 15:17:30,692 - slack_ai_assistant - DEBUG - Function outputs: None
2024-08-21 15:17:30,692 - slack_ai_assistant - DEBUG - Assistant response: A draft email has been created for Parker asking about his work. If you need any further adjustments or assistance, just let me know!
2024-08-21 15:17:30,693 - slack_ai_assistant - DEBUG - Sending assistant response: A draft email has been created for Parker asking about his work. If you need any further adjustments or assistance, just let me know!
2024-08-21 15:17:30,693 - slack_ai_assistant - DEBUG - Sending Slack response - Channel: C789012, Response: A draft email has been created for Parker asking about his work. If you need any further adjustments or assistance, just let me know!
2024-08-21 15:17:33,515 - slack_ai_assistant - DEBUG - Formatted Slack message: {'channel': 'C789012', 'text': 'A draft email has been created for Parker asking about his work. If you need any further adjustments or assistance, just let me know!', 'blocks': [{'type': 'section', 'text': {'type': 'mrkdwn', 'text': 'A draft email has been created for *Parker* asking about his work.'}}, {'type': 'divider'}, {'type': 'section', 'text': {'type': 'mrkdwn', 'text': 'If you need any further adjustments or assistance, just let me know!'}}, {'type': 'context', 'elements': [{'type': 'mrkdwn', 'text': 'This message is to keep you informed about the communication with Parker.'}]}]}
2024-08-21 15:17:33,515 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'channel': 'C789012', 'text': 'A draft email has been created for Parker asking about his work. If you need any further adjustments or assistance, just let me know!', 'blocks': [{'type': 'section', 'text': {'type': 'mrkdwn', 'text': 'A draft email has been created for *Parker* asking about his work.'}}, {'type': 'divider'}, {'type': 'section', 'text': {'type': 'mrkdwn', 'text': 'If you need any further adjustments or assistance, just let me know!'}}, {'type': 'context', 'elements': [{'type': 'mrkdwn', 'text': 'This message is to keep you informed about the communication with Parker.'}]}]}
2024-08-21 15:17:33,516 - slack_ai_assistant - DEBUG - Test case 2 processed in 20.23 seconds
2024-08-21 15:17:33,516 - slack_ai_assistant - DEBUG - Result: None
2024-08-21 15:17:33,516 - slack_ai_assistant - DEBUG - 
Gmail integration tests completed in 57.84 seconds
2024-08-21 15:17:33,516 - slack_ai_assistant - DEBUG - Main function completed
2024-08-21 15:17:33,517 - slack_ai_assistant - DEBUG - Script completed
2024-08-21 15:48:12,861 - slack_ai_assistant - INFO - Google authentication initialized successfully
2024-08-21 15:48:13,428 - slack_ai_assistant - INFO - Updated TravelAssistant with new tools and instructions
2024-08-21 15:48:13,589 - slack_ai_assistant - INFO - Updated EmailAssistant with new tools and instructions
2024-08-21 15:48:13,729 - slack_ai_assistant - INFO - Updated GeneralAssistant with new tools and instructions
2024-08-21 15:48:13,878 - slack_ai_assistant - INFO - Updated ClassifierAssistant with new tools and instructions
2024-08-21 15:48:14,065 - slack_ai_assistant - INFO - Updated ScheduleAssistant with new tools and instructions
2024-08-21 15:48:14,232 - slack_ai_assistant - INFO - Updated FamilyAssistant with new tools and instructions
2024-08-21 15:48:14,366 - slack_ai_assistant - INFO - Updated TodoAssistant with new tools and instructions
2024-08-21 15:48:14,512 - slack_ai_assistant - INFO - Updated DocumentAssistant with new tools and instructions
2024-08-21 15:48:14,512 - slack_ai_assistant - DEBUG - Creating Slack bot
2024-08-21 15:48:14,639 - slack_ai_assistant - DEBUG - Slack bot created successfully
2024-08-21 15:48:14,639 - slack_ai_assistant - INFO - Starting the AI-Powered Personal Assistant Slack Bot
2024-08-21 15:49:00,196 - slack_ai_assistant - INFO - Google authentication initialized successfully
2024-08-21 15:49:00,196 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 15:49:00,641 - slack_ai_assistant - DEBUG - Updated TravelAssistant with new tools and instructions
2024-08-21 15:49:00,830 - slack_ai_assistant - DEBUG - Updated CalendarAssistant with new tools and instructions
2024-08-21 15:49:00,995 - slack_ai_assistant - DEBUG - Updated FamilyAssistant with new tools and instructions
2024-08-21 15:49:01,149 - slack_ai_assistant - DEBUG - Updated TodoAssistant with new tools and instructions
2024-08-21 15:49:01,304 - slack_ai_assistant - DEBUG - Updated DocumentAssistant with new tools and instructions
2024-08-21 15:49:01,438 - slack_ai_assistant - DEBUG - Updated GmailAssistant with new tools and instructions
2024-08-21 15:49:01,566 - slack_ai_assistant - DEBUG - Updated ScheduleEmailAssistant with new tools and instructions
2024-08-21 15:49:01,749 - slack_ai_assistant - DEBUG - Updated GeneralAssistant with new tools and instructions
2024-08-21 15:49:01,919 - slack_ai_assistant - DEBUG - Updated ClassifierAssistant with new tools and instructions
2024-08-21 15:49:01,919 - slack_ai_assistant - DEBUG - Assistants update completed
2024-08-21 15:49:01,919 - slack_ai_assistant - DEBUG - Creating Slack bot
2024-08-21 15:49:02,040 - slack_ai_assistant - DEBUG - Slack bot created successfully
2024-08-21 15:49:02,040 - slack_ai_assistant - INFO - Starting the AI-Powered Personal Assistant Slack Bot
2024-08-21 15:49:29,085 - slack_ai_assistant - DEBUG - Received message event: {'user': 'U079WGB6T0X', 'type': 'message', 'ts': '1724280568.513339', 'client_msg_id': '90ef9ea1-173f-409f-9852-7b178e6df21f', 'text': 'send an email to <mailto:parkerjohnsonbeard@gmail.com|parkerjohnsonbeard@gmail.com> asking how his day is going', 'team': 'T07APNY0M4Z', 'blocks': [{'type': 'rich_text', 'block_id': '1ubET', 'elements': [{'type': 'rich_text_section', 'elements': [{'type': 'text', 'text': 'send an email to '}, {'type': 'link', 'url': 'mailto:parkerjohnsonbeard@gmail.com', 'text': 'parkerjohnsonbeard@gmail.com'}, {'type': 'text', 'text': ' asking how his day is going'}]}]}], 'channel': 'C07A869GUDT', 'event_ts': '1724280568.513339', 'channel_type': 'channel'}
2024-08-21 15:49:29,086 - slack_ai_assistant - DEBUG - Processing message event - Text: send an email to <mailto:parkerjohnsonbeard@gmail.com|parkerjohnsonbeard@gmail.com> asking how his day is going, User: U079WGB6T0X, Channel: C07A869GUDT
2024-08-21 15:49:30,092 - slack_ai_assistant - DEBUG - Dispatching message
2024-08-21 15:49:30,092 - slack_ai_assistant - INFO - Starting dispatch for user input: send an email to <mailto:parkerjohnsonbeard@gmail.com|parkerjohnsonbeard@gmail.com> asking how his day is going
2024-08-21 15:49:30,795 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_TnARZB2XJeUOEXa2W0KCm9F9', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='send an email to <mailto:parkerjohnsonbeard@gmail.com|parkerjohnsonbeard@gmail.com> asking how his day is going'), type='text')], created_at=1724280570, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_QRYVLZRHN06EwJq7JitGi21y')], object='list', first_id='msg_TnARZB2XJeUOEXa2W0KCm9F9', last_id='msg_TnARZB2XJeUOEXa2W0KCm9F9', has_more=False)
2024-08-21 15:49:33,002 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_TnARZB2XJeUOEXa2W0KCm9F9', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='send an email to <mailto:parkerjohnsonbeard@gmail.com|parkerjohnsonbeard@gmail.com> asking how his day is going'), type='text')], created_at=1724280570, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_QRYVLZRHN06EwJq7JitGi21y'), Message(id='msg_jvVtOkePwaXCT7lSn9WCwVO6', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724280572, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_IzTVDDV4UNKuM2TUs1P9ZxbZ', status=None, thread_id='thread_QRYVLZRHN06EwJq7JitGi21y')], object='list', first_id='msg_TnARZB2XJeUOEXa2W0KCm9F9', last_id='msg_jvVtOkePwaXCT7lSn9WCwVO6', has_more=False)
2024-08-21 15:49:33,002 - slack_ai_assistant - DEBUG - Messages: SyncCursorPage[Message](data=[Message(id='msg_TnARZB2XJeUOEXa2W0KCm9F9', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='send an email to <mailto:parkerjohnsonbeard@gmail.com|parkerjohnsonbeard@gmail.com> asking how his day is going'), type='text')], created_at=1724280570, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_QRYVLZRHN06EwJq7JitGi21y'), Message(id='msg_jvVtOkePwaXCT7lSn9WCwVO6', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724280572, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_IzTVDDV4UNKuM2TUs1P9ZxbZ', status=None, thread_id='thread_QRYVLZRHN06EwJq7JitGi21y')], object='list', first_id='msg_TnARZB2XJeUOEXa2W0KCm9F9', last_id='msg_jvVtOkePwaXCT7lSn9WCwVO6', has_more=False)
2024-08-21 15:49:33,003 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 15:49:33,003 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_IzTVDDV4UNKuM2TUs1P9ZxbZ
2024-08-21 15:49:33,003 - slack_ai_assistant - INFO - Selected assistant: GmailAssistant
2024-08-21 15:49:38,591 - slack_ai_assistant - DEBUG - Executing function: send_email with parameters: {'to': 'parkerjohnsonbeard@gmail.com', 'subject': "Checking In: How's Your Day Going?", 'body': 'Hi Parker,\n\nI hope this message finds you well. I was just thinking of you and wanted to check in to see how your day is going.\n\nLooking forward to hearing from you!\n\nBest regards,'}
2024-08-21 15:49:38,592 - slack_ai_assistant - DEBUG - GmailIntegration executing function: send_email with params: {'to': 'parkerjohnsonbeard@gmail.com', 'subject': "Checking In: How's Your Day Going?", 'body': 'Hi Parker,\n\nI hope this message finds you well. I was just thinking of you and wanted to check in to see how your day is going.\n\nLooking forward to hearing from you!\n\nBest regards,'}
2024-08-21 15:49:38,592 - slack_ai_assistant - DEBUG - Structured JSON for email: {'to': 'parkerjohnsonbeard@gmail.com', 'subject': "Checking In: How's Your Day Going?", 'body': 'Hi Parker,\n\nI hope this message finds you well. I was just thinking of you and wanted to check in to see how your day is going.\n\nLooking forward to hearing from you!\n\nBest regards,'}
2024-08-21 15:49:40,865 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_z1mu2hi0hscl2zp6qG1tC6yO', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='send an email to <mailto:parkerjohnsonbeard@gmail.com|parkerjohnsonbeard@gmail.com> asking how his day is going'), type='text')], created_at=1724280573, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_4zRIoh8NlNbjo0gU6VMHngCS'), Message(id='msg_J8m82Za5QF7NEOWheWBPFuiQ', assistant_id='asst_ig3DY9RgboOKNACsSM5nwXC3', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='The email has been sent to Parker Johnson asking how his day is going. If you need any further assistance, feel free to ask!'), type='text')], created_at=1724280579, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_b1yMWU2tqYbgfp2PBNgIVd5s', status=None, thread_id='thread_4zRIoh8NlNbjo0gU6VMHngCS')], object='list', first_id='msg_z1mu2hi0hscl2zp6qG1tC6yO', last_id='msg_J8m82Za5QF7NEOWheWBPFuiQ', has_more=False)
2024-08-21 15:49:40,866 - slack_ai_assistant - DEBUG - Messages: SyncCursorPage[Message](data=[Message(id='msg_z1mu2hi0hscl2zp6qG1tC6yO', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='send an email to <mailto:parkerjohnsonbeard@gmail.com|parkerjohnsonbeard@gmail.com> asking how his day is going'), type='text')], created_at=1724280573, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_4zRIoh8NlNbjo0gU6VMHngCS'), Message(id='msg_J8m82Za5QF7NEOWheWBPFuiQ', assistant_id='asst_ig3DY9RgboOKNACsSM5nwXC3', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='The email has been sent to Parker Johnson asking how his day is going. If you need any further assistance, feel free to ask!'), type='text')], created_at=1724280579, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_b1yMWU2tqYbgfp2PBNgIVd5s', status=None, thread_id='thread_4zRIoh8NlNbjo0gU6VMHngCS')], object='list', first_id='msg_z1mu2hi0hscl2zp6qG1tC6yO', last_id='msg_J8m82Za5QF7NEOWheWBPFuiQ', has_more=False)
2024-08-21 15:49:40,866 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 15:49:40,866 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_b1yMWU2tqYbgfp2PBNgIVd5s
2024-08-21 15:49:40,866 - slack_ai_assistant - DEBUG - Dispatch result: {'thread_id': 'thread_4zRIoh8NlNbjo0gU6VMHngCS', 'run_id': 'run_b1yMWU2tqYbgfp2PBNgIVd5s', 'assistant_response': 'The email has been sent to Parker Johnson asking how his day is going. If you need any further assistance, feel free to ask!'}
2024-08-21 15:49:40,866 - slack_ai_assistant - DEBUG - Thread ID: thread_4zRIoh8NlNbjo0gU6VMHngCS, Run ID: run_b1yMWU2tqYbgfp2PBNgIVd5s
2024-08-21 15:49:40,866 - slack_ai_assistant - DEBUG - Function outputs: None
2024-08-21 15:49:40,866 - slack_ai_assistant - DEBUG - Assistant response: The email has been sent to Parker Johnson asking how his day is going. If you need any further assistance, feel free to ask!
2024-08-21 15:49:40,867 - slack_ai_assistant - DEBUG - Sending assistant response: The email has been sent to Parker Johnson asking how his day is going. If you need any further assistance, feel free to ask!
2024-08-21 15:49:40,867 - slack_ai_assistant - DEBUG - Sending Slack response - Channel: C07A869GUDT, Response: The email has been sent to Parker Johnson asking how his day is going. If you need any further assistance, feel free to ask!
2024-08-21 15:49:43,019 - slack_ai_assistant - DEBUG - Formatted Slack message: {'channel': 'C07A869GUDT', 'text': 'Email sent to Parker Johnson regarding his day', 'blocks': [{'type': 'section', 'text': {'type': 'mrkdwn', 'text': 'The email has been sent to *Parker Johnson* asking how his day is going.'}}, {'type': 'divider'}, {'type': 'section', 'text': {'type': 'mrkdwn', 'text': 'If you need any further assistance, feel free to ask!'}}, {'type': 'divider'}, {'type': 'context', 'elements': [{'type': 'mrkdwn', 'text': 'For any questions or follow-ups, please reach out at your convenience.'}]}]}
2024-08-21 16:04:24,753 - slack_ai_assistant - DEBUG - Script started
2024-08-21 16:04:24,754 - slack_ai_assistant - DEBUG - Starting main function
2024-08-21 16:04:24,754 - slack_ai_assistant - DEBUG - Starting gmail_integration_test
2024-08-21 16:04:24,754 - slack_ai_assistant - DEBUG - Initializing Google authentication...
2024-08-21 16:04:24,756 - slack_ai_assistant - INFO - Google authentication initialized successfully
2024-08-21 16:04:24,756 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 16:04:24,756 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 16:04:25,279 - slack_ai_assistant - DEBUG - Updated TravelAssistant with new tools and instructions
2024-08-21 16:04:25,499 - slack_ai_assistant - DEBUG - Updated CalendarAssistant with new tools and instructions
2024-08-21 16:04:25,678 - slack_ai_assistant - DEBUG - Updated FamilyAssistant with new tools and instructions
2024-08-21 16:04:25,858 - slack_ai_assistant - DEBUG - Updated TodoAssistant with new tools and instructions
2024-08-21 16:04:26,054 - slack_ai_assistant - DEBUG - Updated DocumentAssistant with new tools and instructions
2024-08-21 16:04:26,238 - slack_ai_assistant - DEBUG - Updated GmailAssistant with new tools and instructions
2024-08-21 16:04:26,389 - slack_ai_assistant - DEBUG - Updated ScheduleEmailAssistant with new tools and instructions
2024-08-21 16:04:26,518 - slack_ai_assistant - DEBUG - Updated GeneralAssistant with new tools and instructions
2024-08-21 16:04:26,653 - slack_ai_assistant - DEBUG - Updated ClassifierAssistant with new tools and instructions
2024-08-21 16:04:26,653 - slack_ai_assistant - DEBUG - Assistants update completed
2024-08-21 16:04:26,653 - slack_ai_assistant - DEBUG - Initializing components...
2024-08-21 16:04:26,674 - slack_ai_assistant - DEBUG - Components initialized in 1.92 seconds
2024-08-21 16:04:26,674 - slack_ai_assistant - DEBUG - 
Processing test case 1: Send Email...
2024-08-21 16:04:26,674 - slack_ai_assistant - DEBUG - Processing message event - Text: send an email to parkerjohnsonbeard@gmail.com asking how his work is going.', User: U123456, Channel: C789012
2024-08-21 16:04:27,334 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'm looking into that for you.", 'channel': 'C789012'}
2024-08-21 16:04:27,334 - slack_ai_assistant - DEBUG - Dispatching message
2024-08-21 16:04:27,334 - slack_ai_assistant - INFO - Starting dispatch for user input: send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'
2024-08-21 16:04:28,023 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_pfl8EkKu7A7Uxu39EYlGxKwZ', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724281467, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_MjPRhcptX1zaAx4yKtZOJygS')], object='list', first_id='msg_pfl8EkKu7A7Uxu39EYlGxKwZ', last_id='msg_pfl8EkKu7A7Uxu39EYlGxKwZ', has_more=False)
2024-08-21 16:04:30,553 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_pfl8EkKu7A7Uxu39EYlGxKwZ', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724281467, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_MjPRhcptX1zaAx4yKtZOJygS'), Message(id='msg_eNyirSKUcK45GORDxx1REK4c', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724281469, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_ZvGF09nM9JPs6hD68zSQSK7Q', status=None, thread_id='thread_MjPRhcptX1zaAx4yKtZOJygS')], object='list', first_id='msg_pfl8EkKu7A7Uxu39EYlGxKwZ', last_id='msg_eNyirSKUcK45GORDxx1REK4c', has_more=False)
2024-08-21 16:04:30,554 - slack_ai_assistant - DEBUG - Messages: SyncCursorPage[Message](data=[Message(id='msg_pfl8EkKu7A7Uxu39EYlGxKwZ', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724281467, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_MjPRhcptX1zaAx4yKtZOJygS'), Message(id='msg_eNyirSKUcK45GORDxx1REK4c', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724281469, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_ZvGF09nM9JPs6hD68zSQSK7Q', status=None, thread_id='thread_MjPRhcptX1zaAx4yKtZOJygS')], object='list', first_id='msg_pfl8EkKu7A7Uxu39EYlGxKwZ', last_id='msg_eNyirSKUcK45GORDxx1REK4c', has_more=False)
2024-08-21 16:04:30,554 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 16:04:30,554 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_ZvGF09nM9JPs6hD68zSQSK7Q
2024-08-21 16:04:30,554 - slack_ai_assistant - ERROR - Error in dispatch: 'str' object has no attribute 'value'
Traceback (most recent call last):
  File "/Users/parkerbeard/BeardoGPT/app/assistants/dispatcher.py", line 33, in dispatch
    assistant_name = AssistantConfig.get_assistant_name(self.current_category.value)
                                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'value'
2024-08-21 16:04:30,556 - slack_ai_assistant - DEBUG - Dispatch result: {'thread_id': None, 'run_id': None, 'error': "'str' object has no attribute 'value'"}
2024-08-21 16:04:30,556 - slack_ai_assistant - ERROR - Error in dispatch result: 'str' object has no attribute 'value'
2024-08-21 16:04:30,556 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'm sorry, but I encountered an error: 'str' object has no attribute 'value'", 'channel': 'C789012'}
2024-08-21 16:04:30,556 - slack_ai_assistant - DEBUG - Test case 1 processed in 3.88 seconds
2024-08-21 16:04:30,556 - slack_ai_assistant - DEBUG - Result: None
2024-08-21 16:04:30,556 - slack_ai_assistant - DEBUG - 
Processing test case 2: Create Draft...
2024-08-21 16:04:30,556 - slack_ai_assistant - DEBUG - Processing message event - Text: create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going', User: U123456, Channel: C789012
2024-08-21 16:04:31,138 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'm working on that email draft for you.", 'channel': 'C789012'}
2024-08-21 16:04:31,138 - slack_ai_assistant - DEBUG - Dispatching message
2024-08-21 16:04:31,138 - slack_ai_assistant - INFO - Starting dispatch for user input: create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going'
2024-08-21 16:04:31,499 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_Pnwt0QGKro5kGhiwufmmOjDI', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going'"), type='text')], created_at=1724281471, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_MjPRhcptX1zaAx4yKtZOJygS'), Message(id='msg_eNyirSKUcK45GORDxx1REK4c', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724281469, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_ZvGF09nM9JPs6hD68zSQSK7Q', status=None, thread_id='thread_MjPRhcptX1zaAx4yKtZOJygS'), Message(id='msg_pfl8EkKu7A7Uxu39EYlGxKwZ', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724281467, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_MjPRhcptX1zaAx4yKtZOJygS')], object='list', first_id='msg_Pnwt0QGKro5kGhiwufmmOjDI', last_id='msg_pfl8EkKu7A7Uxu39EYlGxKwZ', has_more=False)
2024-08-21 16:04:33,570 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_pfl8EkKu7A7Uxu39EYlGxKwZ', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724281467, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_MjPRhcptX1zaAx4yKtZOJygS'), Message(id='msg_eNyirSKUcK45GORDxx1REK4c', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724281469, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_ZvGF09nM9JPs6hD68zSQSK7Q', status=None, thread_id='thread_MjPRhcptX1zaAx4yKtZOJygS'), Message(id='msg_Pnwt0QGKro5kGhiwufmmOjDI', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going'"), type='text')], created_at=1724281471, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_MjPRhcptX1zaAx4yKtZOJygS'), Message(id='msg_OPSbh9YT4N2L44c82IN19Ojm', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724281472, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_ezWmjFtyh3fzyzMILFp9e8Rq', status=None, thread_id='thread_MjPRhcptX1zaAx4yKtZOJygS')], object='list', first_id='msg_pfl8EkKu7A7Uxu39EYlGxKwZ', last_id='msg_OPSbh9YT4N2L44c82IN19Ojm', has_more=False)
2024-08-21 16:04:33,571 - slack_ai_assistant - DEBUG - Messages: SyncCursorPage[Message](data=[Message(id='msg_pfl8EkKu7A7Uxu39EYlGxKwZ', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724281467, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_MjPRhcptX1zaAx4yKtZOJygS'), Message(id='msg_eNyirSKUcK45GORDxx1REK4c', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724281469, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_ZvGF09nM9JPs6hD68zSQSK7Q', status=None, thread_id='thread_MjPRhcptX1zaAx4yKtZOJygS'), Message(id='msg_Pnwt0QGKro5kGhiwufmmOjDI', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going'"), type='text')], created_at=1724281471, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_MjPRhcptX1zaAx4yKtZOJygS'), Message(id='msg_OPSbh9YT4N2L44c82IN19Ojm', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724281472, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_ezWmjFtyh3fzyzMILFp9e8Rq', status=None, thread_id='thread_MjPRhcptX1zaAx4yKtZOJygS')], object='list', first_id='msg_pfl8EkKu7A7Uxu39EYlGxKwZ', last_id='msg_OPSbh9YT4N2L44c82IN19Ojm', has_more=False)
2024-08-21 16:04:33,571 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 16:04:33,571 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_ZvGF09nM9JPs6hD68zSQSK7Q
2024-08-21 16:04:33,571 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 16:04:33,571 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_ezWmjFtyh3fzyzMILFp9e8Rq
2024-08-21 16:04:33,571 - slack_ai_assistant - ERROR - Error in dispatch: 'str' object has no attribute 'value'
Traceback (most recent call last):
  File "/Users/parkerbeard/BeardoGPT/app/assistants/dispatcher.py", line 33, in dispatch
    assistant_name = AssistantConfig.get_assistant_name(self.current_category.value)
                                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'value'
2024-08-21 16:04:33,572 - slack_ai_assistant - DEBUG - Dispatch result: {'thread_id': None, 'run_id': None, 'error': "'str' object has no attribute 'value'"}
2024-08-21 16:04:33,572 - slack_ai_assistant - ERROR - Error in dispatch result: 'str' object has no attribute 'value'
2024-08-21 16:04:33,572 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'm sorry, but I encountered an error: 'str' object has no attribute 'value'", 'channel': 'C789012'}
2024-08-21 16:04:33,572 - slack_ai_assistant - DEBUG - Test case 2 processed in 3.02 seconds
2024-08-21 16:04:33,572 - slack_ai_assistant - DEBUG - Result: None
2024-08-21 16:04:33,572 - slack_ai_assistant - DEBUG - 
Gmail integration tests completed in 8.82 seconds
2024-08-21 16:04:33,572 - slack_ai_assistant - DEBUG - Main function completed
2024-08-21 16:04:33,573 - slack_ai_assistant - DEBUG - Script completed
2024-08-21 16:06:01,042 - slack_ai_assistant - DEBUG - Script started
2024-08-21 16:06:01,043 - slack_ai_assistant - DEBUG - Starting main function
2024-08-21 16:06:01,043 - slack_ai_assistant - DEBUG - Starting gmail_integration_test
2024-08-21 16:06:01,043 - slack_ai_assistant - DEBUG - Initializing Google authentication...
2024-08-21 16:06:01,045 - slack_ai_assistant - INFO - Google authentication initialized successfully
2024-08-21 16:06:01,045 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 16:06:01,045 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 16:06:01,605 - slack_ai_assistant - DEBUG - Updated TravelAssistant with new tools and instructions
2024-08-21 16:06:01,811 - slack_ai_assistant - DEBUG - Updated CalendarAssistant with new tools and instructions
2024-08-21 16:06:01,979 - slack_ai_assistant - DEBUG - Updated FamilyAssistant with new tools and instructions
2024-08-21 16:06:02,105 - slack_ai_assistant - DEBUG - Updated TodoAssistant with new tools and instructions
2024-08-21 16:06:02,238 - slack_ai_assistant - DEBUG - Updated DocumentAssistant with new tools and instructions
2024-08-21 16:06:02,390 - slack_ai_assistant - DEBUG - Updated GmailAssistant with new tools and instructions
2024-08-21 16:06:02,541 - slack_ai_assistant - DEBUG - Updated ScheduleEmailAssistant with new tools and instructions
2024-08-21 16:06:02,707 - slack_ai_assistant - DEBUG - Updated GeneralAssistant with new tools and instructions
2024-08-21 16:06:02,852 - slack_ai_assistant - DEBUG - Updated ClassifierAssistant with new tools and instructions
2024-08-21 16:06:02,853 - slack_ai_assistant - DEBUG - Assistants update completed
2024-08-21 16:06:02,853 - slack_ai_assistant - DEBUG - Initializing components...
2024-08-21 16:06:02,874 - slack_ai_assistant - DEBUG - Components initialized in 1.83 seconds
2024-08-21 16:06:02,874 - slack_ai_assistant - DEBUG - 
Processing test case 1: Send Email...
2024-08-21 16:06:02,874 - slack_ai_assistant - DEBUG - Processing message event - Text: send an email to parkerjohnsonbeard@gmail.com asking how his work is going.', User: U123456, Channel: C789012
2024-08-21 16:06:04,160 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'm looking into that for you.", 'channel': 'C789012'}
2024-08-21 16:06:04,161 - slack_ai_assistant - DEBUG - Dispatching message
2024-08-21 16:06:04,161 - slack_ai_assistant - INFO - Starting dispatch for user input: send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'
2024-08-21 16:06:04,884 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_jD2kDh8nCmy7exr0m0fHHPS9', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724281564, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_PIu0eZO5WAEmlbFCFSAwshRj')], object='list', first_id='msg_jD2kDh8nCmy7exr0m0fHHPS9', last_id='msg_jD2kDh8nCmy7exr0m0fHHPS9', has_more=False)
2024-08-21 16:06:06,908 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_jD2kDh8nCmy7exr0m0fHHPS9', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724281564, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_PIu0eZO5WAEmlbFCFSAwshRj'), Message(id='msg_KfCzndaes7ktsEfiDKScnnCo', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724281566, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_9zhg6za1zTrCJ2LJBdctfY6E', status=None, thread_id='thread_PIu0eZO5WAEmlbFCFSAwshRj')], object='list', first_id='msg_jD2kDh8nCmy7exr0m0fHHPS9', last_id='msg_KfCzndaes7ktsEfiDKScnnCo', has_more=False)
2024-08-21 16:06:06,908 - slack_ai_assistant - DEBUG - Messages: SyncCursorPage[Message](data=[Message(id='msg_jD2kDh8nCmy7exr0m0fHHPS9', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724281564, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_PIu0eZO5WAEmlbFCFSAwshRj'), Message(id='msg_KfCzndaes7ktsEfiDKScnnCo', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724281566, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_9zhg6za1zTrCJ2LJBdctfY6E', status=None, thread_id='thread_PIu0eZO5WAEmlbFCFSAwshRj')], object='list', first_id='msg_jD2kDh8nCmy7exr0m0fHHPS9', last_id='msg_KfCzndaes7ktsEfiDKScnnCo', has_more=False)
2024-08-21 16:06:06,908 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 16:06:06,908 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_9zhg6za1zTrCJ2LJBdctfY6E
2024-08-21 16:06:06,908 - slack_ai_assistant - ERROR - Error in dispatch: 'AssistantCategory' object has no attribute 'lower'
Traceback (most recent call last):
  File "/Users/parkerbeard/BeardoGPT/app/assistants/dispatcher.py", line 36, in dispatch
    assistant_name = AssistantConfig.get_assistant_name(category_enum)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/config/assistant_config.py", line 46, in get_assistant_name
    return cls.ASSISTANT_NAMES[AssistantCategory(category.lower())]
                                                 ^^^^^^^^^^^^^^
AttributeError: 'AssistantCategory' object has no attribute 'lower'
2024-08-21 16:06:06,910 - slack_ai_assistant - DEBUG - Dispatch result: {'thread_id': None, 'run_id': None, 'error': "'AssistantCategory' object has no attribute 'lower'"}
2024-08-21 16:06:06,910 - slack_ai_assistant - ERROR - Error in dispatch result: 'AssistantCategory' object has no attribute 'lower'
2024-08-21 16:06:06,910 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'm sorry, but I encountered an error: 'AssistantCategory' object has no attribute 'lower'", 'channel': 'C789012'}
2024-08-21 16:06:06,910 - slack_ai_assistant - DEBUG - Test case 1 processed in 4.04 seconds
2024-08-21 16:06:06,910 - slack_ai_assistant - DEBUG - Result: None
2024-08-21 16:06:06,910 - slack_ai_assistant - DEBUG - 
Processing test case 2: Create Draft...
2024-08-21 16:06:06,910 - slack_ai_assistant - DEBUG - Processing message event - Text: create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going', User: U123456, Channel: C789012
2024-08-21 16:06:07,241 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'm looking into that for you.", 'channel': 'C789012'}
2024-08-21 16:06:07,241 - slack_ai_assistant - DEBUG - Dispatching message
2024-08-21 16:06:07,241 - slack_ai_assistant - INFO - Starting dispatch for user input: create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going'
2024-08-21 16:06:07,527 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_G9MCdqkiYm6IIRsgGzBNVjGZ', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going'"), type='text')], created_at=1724281567, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_PIu0eZO5WAEmlbFCFSAwshRj'), Message(id='msg_KfCzndaes7ktsEfiDKScnnCo', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724281566, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_9zhg6za1zTrCJ2LJBdctfY6E', status=None, thread_id='thread_PIu0eZO5WAEmlbFCFSAwshRj'), Message(id='msg_jD2kDh8nCmy7exr0m0fHHPS9', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724281564, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_PIu0eZO5WAEmlbFCFSAwshRj')], object='list', first_id='msg_G9MCdqkiYm6IIRsgGzBNVjGZ', last_id='msg_jD2kDh8nCmy7exr0m0fHHPS9', has_more=False)
2024-08-21 16:06:09,541 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_jD2kDh8nCmy7exr0m0fHHPS9', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724281564, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_PIu0eZO5WAEmlbFCFSAwshRj'), Message(id='msg_KfCzndaes7ktsEfiDKScnnCo', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724281566, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_9zhg6za1zTrCJ2LJBdctfY6E', status=None, thread_id='thread_PIu0eZO5WAEmlbFCFSAwshRj'), Message(id='msg_G9MCdqkiYm6IIRsgGzBNVjGZ', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going'"), type='text')], created_at=1724281567, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_PIu0eZO5WAEmlbFCFSAwshRj'), Message(id='msg_sdPLoZPs6YNvgUjkGrNfmyNX', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724281568, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_pzX8kJZi3QZ7MhebAXegd9Yq', status=None, thread_id='thread_PIu0eZO5WAEmlbFCFSAwshRj')], object='list', first_id='msg_jD2kDh8nCmy7exr0m0fHHPS9', last_id='msg_sdPLoZPs6YNvgUjkGrNfmyNX', has_more=False)
2024-08-21 16:06:09,541 - slack_ai_assistant - DEBUG - Messages: SyncCursorPage[Message](data=[Message(id='msg_jD2kDh8nCmy7exr0m0fHHPS9', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724281564, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_PIu0eZO5WAEmlbFCFSAwshRj'), Message(id='msg_KfCzndaes7ktsEfiDKScnnCo', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724281566, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_9zhg6za1zTrCJ2LJBdctfY6E', status=None, thread_id='thread_PIu0eZO5WAEmlbFCFSAwshRj'), Message(id='msg_G9MCdqkiYm6IIRsgGzBNVjGZ', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going'"), type='text')], created_at=1724281567, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_PIu0eZO5WAEmlbFCFSAwshRj'), Message(id='msg_sdPLoZPs6YNvgUjkGrNfmyNX', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724281568, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_pzX8kJZi3QZ7MhebAXegd9Yq', status=None, thread_id='thread_PIu0eZO5WAEmlbFCFSAwshRj')], object='list', first_id='msg_jD2kDh8nCmy7exr0m0fHHPS9', last_id='msg_sdPLoZPs6YNvgUjkGrNfmyNX', has_more=False)
2024-08-21 16:06:09,541 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 16:06:09,541 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_9zhg6za1zTrCJ2LJBdctfY6E
2024-08-21 16:06:09,542 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 16:06:09,542 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_pzX8kJZi3QZ7MhebAXegd9Yq
2024-08-21 16:06:09,542 - slack_ai_assistant - ERROR - Error in dispatch: 'AssistantCategory' object has no attribute 'lower'
Traceback (most recent call last):
  File "/Users/parkerbeard/BeardoGPT/app/assistants/dispatcher.py", line 36, in dispatch
    assistant_name = AssistantConfig.get_assistant_name(category_enum)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/config/assistant_config.py", line 46, in get_assistant_name
    return cls.ASSISTANT_NAMES[AssistantCategory(category.lower())]
                                                 ^^^^^^^^^^^^^^
AttributeError: 'AssistantCategory' object has no attribute 'lower'
2024-08-21 16:06:09,542 - slack_ai_assistant - DEBUG - Dispatch result: {'thread_id': None, 'run_id': None, 'error': "'AssistantCategory' object has no attribute 'lower'"}
2024-08-21 16:06:09,542 - slack_ai_assistant - ERROR - Error in dispatch result: 'AssistantCategory' object has no attribute 'lower'
2024-08-21 16:06:09,542 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'm sorry, but I encountered an error: 'AssistantCategory' object has no attribute 'lower'", 'channel': 'C789012'}
2024-08-21 16:06:09,543 - slack_ai_assistant - DEBUG - Test case 2 processed in 2.63 seconds
2024-08-21 16:06:09,543 - slack_ai_assistant - DEBUG - Result: None
2024-08-21 16:06:09,543 - slack_ai_assistant - DEBUG - 
Gmail integration tests completed in 8.50 seconds
2024-08-21 16:06:09,543 - slack_ai_assistant - DEBUG - Main function completed
2024-08-21 16:06:09,544 - slack_ai_assistant - DEBUG - Script completed
2024-08-21 16:07:52,225 - slack_ai_assistant - DEBUG - Script started
2024-08-21 16:07:52,226 - slack_ai_assistant - DEBUG - Starting main function
2024-08-21 16:07:52,226 - slack_ai_assistant - DEBUG - Starting gmail_integration_test
2024-08-21 16:07:52,226 - slack_ai_assistant - DEBUG - Initializing Google authentication...
2024-08-21 16:07:52,228 - slack_ai_assistant - INFO - Google authentication initialized successfully
2024-08-21 16:07:52,229 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 16:07:52,229 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 16:07:52,748 - slack_ai_assistant - DEBUG - Updated TravelAssistant with new tools and instructions
2024-08-21 16:07:52,924 - slack_ai_assistant - DEBUG - Updated CalendarAssistant with new tools and instructions
2024-08-21 16:07:53,048 - slack_ai_assistant - DEBUG - Updated FamilyAssistant with new tools and instructions
2024-08-21 16:07:53,237 - slack_ai_assistant - DEBUG - Updated TodoAssistant with new tools and instructions
2024-08-21 16:07:53,361 - slack_ai_assistant - DEBUG - Updated DocumentAssistant with new tools and instructions
2024-08-21 16:07:53,557 - slack_ai_assistant - DEBUG - Updated GmailAssistant with new tools and instructions
2024-08-21 16:07:53,700 - slack_ai_assistant - DEBUG - Updated ScheduleEmailAssistant with new tools and instructions
2024-08-21 16:07:53,825 - slack_ai_assistant - DEBUG - Updated GeneralAssistant with new tools and instructions
2024-08-21 16:07:53,973 - slack_ai_assistant - DEBUG - Updated ClassifierAssistant with new tools and instructions
2024-08-21 16:07:53,973 - slack_ai_assistant - DEBUG - Assistants update completed
2024-08-21 16:07:53,973 - slack_ai_assistant - DEBUG - Initializing components...
2024-08-21 16:07:53,998 - slack_ai_assistant - DEBUG - Components initialized in 1.77 seconds
2024-08-21 16:07:53,998 - slack_ai_assistant - DEBUG - 
Processing test case 1: Send Email...
2024-08-21 16:07:53,998 - slack_ai_assistant - DEBUG - Processing message event - Text: send an email to parkerjohnsonbeard@gmail.com asking how his work is going.', User: U123456, Channel: C789012
2024-08-21 16:07:54,576 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'm looking into that for you.", 'channel': 'C789012'}
2024-08-21 16:07:54,576 - slack_ai_assistant - DEBUG - Dispatching message
2024-08-21 16:07:54,577 - slack_ai_assistant - INFO - Starting dispatch for user input: send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'
2024-08-21 16:07:55,341 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_LkCCv1aes1IErlcwFXo2mmRY', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724281675, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_cQUk2eJz2bECFBglZS1jzOtl')], object='list', first_id='msg_LkCCv1aes1IErlcwFXo2mmRY', last_id='msg_LkCCv1aes1IErlcwFXo2mmRY', has_more=False)
2024-08-21 16:07:57,182 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_LkCCv1aes1IErlcwFXo2mmRY', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724281675, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_cQUk2eJz2bECFBglZS1jzOtl'), Message(id='msg_spQnxoDYtAHrwe92PQw1tn5V', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724281676, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_TOJ8alWpYlEAaYCohezwcGku', status=None, thread_id='thread_cQUk2eJz2bECFBglZS1jzOtl')], object='list', first_id='msg_LkCCv1aes1IErlcwFXo2mmRY', last_id='msg_spQnxoDYtAHrwe92PQw1tn5V', has_more=False)
2024-08-21 16:07:57,183 - slack_ai_assistant - DEBUG - Messages: SyncCursorPage[Message](data=[Message(id='msg_LkCCv1aes1IErlcwFXo2mmRY', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724281675, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_cQUk2eJz2bECFBglZS1jzOtl'), Message(id='msg_spQnxoDYtAHrwe92PQw1tn5V', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724281676, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_TOJ8alWpYlEAaYCohezwcGku', status=None, thread_id='thread_cQUk2eJz2bECFBglZS1jzOtl')], object='list', first_id='msg_LkCCv1aes1IErlcwFXo2mmRY', last_id='msg_spQnxoDYtAHrwe92PQw1tn5V', has_more=False)
2024-08-21 16:07:57,183 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 16:07:57,183 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_TOJ8alWpYlEAaYCohezwcGku
2024-08-21 16:07:57,183 - slack_ai_assistant - INFO - Selected assistant: GmailAssistant
2024-08-21 16:08:01,284 - slack_ai_assistant - ERROR - Error in dispatch: type object 'AssistantConfig' has no attribute 'CATEGORY_FUNCTIONS'
Traceback (most recent call last):
  File "/Users/parkerbeard/BeardoGPT/app/assistants/dispatcher.py", line 47, in dispatch
    return await self.process_run(run, user_input, chat_history)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/assistants/dispatcher.py", line 66, in process_run
    function_outputs = await self.handle_tool_calls(tool_calls, user_input, chat_history)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/assistants/dispatcher.py", line 80, in handle_tool_calls
    category = AssistantConfig.get_assistant_name(AssistantCategory(self.get_integration_type(function_name)))
                                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/assistants/dispatcher.py", line 92, in get_integration_type
    for category, functions in AssistantConfig.CATEGORY_FUNCTIONS.items():
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'AssistantConfig' has no attribute 'CATEGORY_FUNCTIONS'
2024-08-21 16:08:01,287 - slack_ai_assistant - DEBUG - Dispatch result: {'thread_id': 'thread_42N9keqGLCDirdpHgzS6cLWq', 'run_id': None, 'error': "type object 'AssistantConfig' has no attribute 'CATEGORY_FUNCTIONS'"}
2024-08-21 16:08:01,287 - slack_ai_assistant - ERROR - Error in dispatch result: type object 'AssistantConfig' has no attribute 'CATEGORY_FUNCTIONS'
2024-08-21 16:08:01,287 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'm sorry, but I encountered an error: type object 'AssistantConfig' has no attribute 'CATEGORY_FUNCTIONS'", 'channel': 'C789012'}
2024-08-21 16:08:01,287 - slack_ai_assistant - DEBUG - Test case 1 processed in 7.29 seconds
2024-08-21 16:08:01,287 - slack_ai_assistant - DEBUG - Result: None
2024-08-21 16:08:01,287 - slack_ai_assistant - DEBUG - 
Processing test case 2: Create Draft...
2024-08-21 16:08:01,287 - slack_ai_assistant - DEBUG - Processing message event - Text: create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going', User: U123456, Channel: C789012
2024-08-21 16:08:01,932 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'm working on that email draft for you.", 'channel': 'C789012'}
2024-08-21 16:08:01,933 - slack_ai_assistant - DEBUG - Dispatching message
2024-08-21 16:08:01,933 - slack_ai_assistant - INFO - Starting dispatch for user input: create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going'
2024-08-21 16:08:02,232 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_vZktGmkm4vWGrtU4q5uLGofS', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going'"), type='text')], created_at=1724281682, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_cQUk2eJz2bECFBglZS1jzOtl'), Message(id='msg_spQnxoDYtAHrwe92PQw1tn5V', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724281676, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_TOJ8alWpYlEAaYCohezwcGku', status=None, thread_id='thread_cQUk2eJz2bECFBglZS1jzOtl'), Message(id='msg_LkCCv1aes1IErlcwFXo2mmRY', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724281675, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_cQUk2eJz2bECFBglZS1jzOtl')], object='list', first_id='msg_vZktGmkm4vWGrtU4q5uLGofS', last_id='msg_LkCCv1aes1IErlcwFXo2mmRY', has_more=False)
2024-08-21 16:08:05,780 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_LkCCv1aes1IErlcwFXo2mmRY', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724281675, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_cQUk2eJz2bECFBglZS1jzOtl'), Message(id='msg_spQnxoDYtAHrwe92PQw1tn5V', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724281676, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_TOJ8alWpYlEAaYCohezwcGku', status=None, thread_id='thread_cQUk2eJz2bECFBglZS1jzOtl'), Message(id='msg_vZktGmkm4vWGrtU4q5uLGofS', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going'"), type='text')], created_at=1724281682, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_cQUk2eJz2bECFBglZS1jzOtl'), Message(id='msg_jksH0f4Yk24RRWYur418gLYe', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724281684, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_HHU4Q7Dk2puNRlz5dOY4BYqc', status=None, thread_id='thread_cQUk2eJz2bECFBglZS1jzOtl')], object='list', first_id='msg_LkCCv1aes1IErlcwFXo2mmRY', last_id='msg_jksH0f4Yk24RRWYur418gLYe', has_more=False)
2024-08-21 16:08:05,780 - slack_ai_assistant - DEBUG - Messages: SyncCursorPage[Message](data=[Message(id='msg_LkCCv1aes1IErlcwFXo2mmRY', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724281675, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_cQUk2eJz2bECFBglZS1jzOtl'), Message(id='msg_spQnxoDYtAHrwe92PQw1tn5V', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724281676, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_TOJ8alWpYlEAaYCohezwcGku', status=None, thread_id='thread_cQUk2eJz2bECFBglZS1jzOtl'), Message(id='msg_vZktGmkm4vWGrtU4q5uLGofS', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going'"), type='text')], created_at=1724281682, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_cQUk2eJz2bECFBglZS1jzOtl'), Message(id='msg_jksH0f4Yk24RRWYur418gLYe', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724281684, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_HHU4Q7Dk2puNRlz5dOY4BYqc', status=None, thread_id='thread_cQUk2eJz2bECFBglZS1jzOtl')], object='list', first_id='msg_LkCCv1aes1IErlcwFXo2mmRY', last_id='msg_jksH0f4Yk24RRWYur418gLYe', has_more=False)
2024-08-21 16:08:05,780 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 16:08:05,780 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_TOJ8alWpYlEAaYCohezwcGku
2024-08-21 16:08:05,780 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 16:08:05,781 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_HHU4Q7Dk2puNRlz5dOY4BYqc
2024-08-21 16:08:05,781 - slack_ai_assistant - INFO - Selected assistant: GmailAssistant
2024-08-21 16:08:05,963 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_G2EKpi72ppDAQBTi4wEGXxOO', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724281677, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_42N9keqGLCDirdpHgzS6cLWq')], object='list', first_id='msg_G2EKpi72ppDAQBTi4wEGXxOO', last_id='msg_G2EKpi72ppDAQBTi4wEGXxOO', has_more=False)
2024-08-21 16:08:06,310 - slack_ai_assistant - ERROR - Error in dispatch: Error code: 400 - {'error': {'message': "Can't add messages to thread_42N9keqGLCDirdpHgzS6cLWq while a run run_tw1xkngvgd4h72fgLQJdjy0s is active.", 'type': 'invalid_request_error', 'param': None, 'code': None}}
Traceback (most recent call last):
  File "/Users/parkerbeard/BeardoGPT/app/assistants/dispatcher.py", line 44, in dispatch
    await self.assistant_manager.create_message(self.thread_id, "user", user_input)
  File "/Users/parkerbeard/BeardoGPT/app/assistants/assistant_manager.py", line 71, in create_message
    return self.client.beta.threads.messages.create(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/openai/resources/beta/threads/messages.py", line 88, in create
    return self._post(
           ^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/openai/_base_client.py", line 1259, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/openai/_base_client.py", line 936, in request
    return self._request(
           ^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/openai/_base_client.py", line 1040, in _request
    raise self._make_status_error_from_response(err.response) from None
openai.BadRequestError: Error code: 400 - {'error': {'message': "Can't add messages to thread_42N9keqGLCDirdpHgzS6cLWq while a run run_tw1xkngvgd4h72fgLQJdjy0s is active.", 'type': 'invalid_request_error', 'param': None, 'code': None}}
2024-08-21 16:08:06,321 - slack_ai_assistant - DEBUG - Dispatch result: {'thread_id': 'thread_42N9keqGLCDirdpHgzS6cLWq', 'run_id': None, 'error': 'Error code: 400 - {\'error\': {\'message\': "Can\'t add messages to thread_42N9keqGLCDirdpHgzS6cLWq while a run run_tw1xkngvgd4h72fgLQJdjy0s is active.", \'type\': \'invalid_request_error\', \'param\': None, \'code\': None}}'}
2024-08-21 16:08:06,321 - slack_ai_assistant - ERROR - Error in dispatch result: Error code: 400 - {'error': {'message': "Can't add messages to thread_42N9keqGLCDirdpHgzS6cLWq while a run run_tw1xkngvgd4h72fgLQJdjy0s is active.", 'type': 'invalid_request_error', 'param': None, 'code': None}}
2024-08-21 16:08:06,321 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': 'I\'m sorry, but I encountered an error: Error code: 400 - {\'error\': {\'message\': "Can\'t add messages to thread_42N9keqGLCDirdpHgzS6cLWq while a run run_tw1xkngvgd4h72fgLQJdjy0s is active.", \'type\': \'invalid_request_error\', \'param\': None, \'code\': None}}', 'channel': 'C789012'}
2024-08-21 16:08:06,321 - slack_ai_assistant - DEBUG - Test case 2 processed in 5.03 seconds
2024-08-21 16:08:06,321 - slack_ai_assistant - DEBUG - Result: None
2024-08-21 16:08:06,321 - slack_ai_assistant - DEBUG - 
Gmail integration tests completed in 14.10 seconds
2024-08-21 16:08:06,322 - slack_ai_assistant - DEBUG - Main function completed
2024-08-21 16:08:06,323 - slack_ai_assistant - DEBUG - Script completed
2024-08-21 16:22:00,053 - slack_ai_assistant - DEBUG - Script started
2024-08-21 16:22:00,055 - slack_ai_assistant - DEBUG - Starting main function
2024-08-21 16:22:00,055 - slack_ai_assistant - DEBUG - Starting gmail_integration_test
2024-08-21 16:22:00,055 - slack_ai_assistant - DEBUG - Initializing Google authentication...
2024-08-21 16:22:00,223 - slack_ai_assistant - INFO - Google authentication initialized successfully
2024-08-21 16:22:00,223 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 16:22:00,223 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 16:22:00,826 - slack_ai_assistant - DEBUG - Updated TravelAssistant with new tools and instructions
2024-08-21 16:22:01,141 - slack_ai_assistant - DEBUG - Updated CalendarAssistant with new tools and instructions
2024-08-21 16:22:01,278 - slack_ai_assistant - DEBUG - Updated GmailAssistant with new tools and instructions
2024-08-21 16:22:01,278 - slack_ai_assistant - DEBUG - Assistants update completed
2024-08-21 16:22:01,278 - slack_ai_assistant - DEBUG - Initializing components...
2024-08-21 16:22:01,299 - slack_ai_assistant - DEBUG - Components initialized in 1.24 seconds
2024-08-21 16:22:01,299 - slack_ai_assistant - DEBUG - 
Processing test case 1: Send Email...
2024-08-21 16:22:01,299 - slack_ai_assistant - DEBUG - Processing message event - Text: send an email to parkerjohnsonbeard@gmail.com asking how his work is going.', User: U123456, Channel: C789012
2024-08-21 16:22:02,079 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'm looking into that for you.", 'channel': 'C789012'}
2024-08-21 16:22:02,079 - slack_ai_assistant - DEBUG - Dispatching message
2024-08-21 16:22:02,079 - slack_ai_assistant - INFO - Starting dispatch for user input: send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'
2024-08-21 16:22:02,351 - slack_ai_assistant - ERROR - Error in dispatch: type object 'AssistantConfig' has no attribute 'ASSISTANT_NAMES'
Traceback (most recent call last):
  File "/Users/parkerbeard/BeardoGPT/app/assistants/dispatcher.py", line 32, in dispatch
    self.current_category = await self.classifier.classify_message(user_input)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/assistants/classifier.py", line 20, in classify_message
    await self.initialize()
  File "/Users/parkerbeard/BeardoGPT/app/assistants/classifier.py", line 13, in initialize
    self.classifier_assistant_id = assistants.get(AssistantConfig.ASSISTANT_NAMES[AssistantCategory.CLASSIFIER])
                                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'AssistantConfig' has no attribute 'ASSISTANT_NAMES'
2024-08-21 16:22:02,352 - slack_ai_assistant - DEBUG - Dispatch result: {'thread_id': None, 'run_id': None, 'error': "type object 'AssistantConfig' has no attribute 'ASSISTANT_NAMES'"}
2024-08-21 16:22:02,352 - slack_ai_assistant - ERROR - Error in dispatch result: type object 'AssistantConfig' has no attribute 'ASSISTANT_NAMES'
2024-08-21 16:22:02,352 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'm sorry, but I encountered an error: type object 'AssistantConfig' has no attribute 'ASSISTANT_NAMES'", 'channel': 'C789012'}
2024-08-21 16:22:02,352 - slack_ai_assistant - DEBUG - Test case 1 processed in 1.05 seconds
2024-08-21 16:22:02,352 - slack_ai_assistant - DEBUG - Result: None
2024-08-21 16:22:02,352 - slack_ai_assistant - DEBUG - 
Processing test case 2: Create Draft...
2024-08-21 16:22:02,352 - slack_ai_assistant - DEBUG - Processing message event - Text: create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going', User: U123456, Channel: C789012
2024-08-21 16:22:02,799 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'm drafting that email for you.", 'channel': 'C789012'}
2024-08-21 16:22:02,799 - slack_ai_assistant - DEBUG - Dispatching message
2024-08-21 16:22:02,799 - slack_ai_assistant - INFO - Starting dispatch for user input: create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going'
2024-08-21 16:22:03,004 - slack_ai_assistant - ERROR - Error in dispatch: type object 'AssistantConfig' has no attribute 'ASSISTANT_NAMES'
Traceback (most recent call last):
  File "/Users/parkerbeard/BeardoGPT/app/assistants/dispatcher.py", line 32, in dispatch
    self.current_category = await self.classifier.classify_message(user_input)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/assistants/classifier.py", line 20, in classify_message
    await self.initialize()
  File "/Users/parkerbeard/BeardoGPT/app/assistants/classifier.py", line 13, in initialize
    self.classifier_assistant_id = assistants.get(AssistantConfig.ASSISTANT_NAMES[AssistantCategory.CLASSIFIER])
                                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'AssistantConfig' has no attribute 'ASSISTANT_NAMES'
2024-08-21 16:22:03,005 - slack_ai_assistant - DEBUG - Dispatch result: {'thread_id': None, 'run_id': None, 'error': "type object 'AssistantConfig' has no attribute 'ASSISTANT_NAMES'"}
2024-08-21 16:22:03,005 - slack_ai_assistant - ERROR - Error in dispatch result: type object 'AssistantConfig' has no attribute 'ASSISTANT_NAMES'
2024-08-21 16:22:03,005 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'm sorry, but I encountered an error: type object 'AssistantConfig' has no attribute 'ASSISTANT_NAMES'", 'channel': 'C789012'}
2024-08-21 16:22:03,005 - slack_ai_assistant - DEBUG - Test case 2 processed in 0.65 seconds
2024-08-21 16:22:03,005 - slack_ai_assistant - DEBUG - Result: None
2024-08-21 16:22:03,005 - slack_ai_assistant - DEBUG - 
Gmail integration tests completed in 2.95 seconds
2024-08-21 16:22:03,006 - slack_ai_assistant - DEBUG - Main function completed
2024-08-21 16:22:03,006 - slack_ai_assistant - DEBUG - Script completed
2024-08-21 16:27:44,194 - slack_ai_assistant - DEBUG - Script started
2024-08-21 16:27:44,195 - slack_ai_assistant - DEBUG - Starting main function
2024-08-21 16:27:44,195 - slack_ai_assistant - DEBUG - Starting gmail_integration_test
2024-08-21 16:27:44,195 - slack_ai_assistant - DEBUG - Initializing Google authentication...
2024-08-21 16:27:44,196 - slack_ai_assistant - INFO - Google authentication initialized successfully
2024-08-21 16:27:44,197 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 16:27:44,197 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 16:30:41,803 - slack_ai_assistant - DEBUG - Script started
2024-08-21 16:30:41,804 - slack_ai_assistant - DEBUG - Starting main function
2024-08-21 16:30:41,804 - slack_ai_assistant - DEBUG - Starting gmail_integration_test
2024-08-21 16:30:41,804 - slack_ai_assistant - DEBUG - Initializing Google authentication...
2024-08-21 16:30:41,806 - slack_ai_assistant - INFO - Google authentication initialized successfully
2024-08-21 16:30:41,806 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 16:30:41,806 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 16:33:27,429 - slack_ai_assistant - DEBUG - Script started
2024-08-21 16:33:27,430 - slack_ai_assistant - DEBUG - Starting main function
2024-08-21 16:33:27,430 - slack_ai_assistant - DEBUG - Starting gmail_integration_test
2024-08-21 16:33:27,430 - slack_ai_assistant - DEBUG - Initializing Google authentication...
2024-08-21 16:33:27,432 - slack_ai_assistant - INFO - Google authentication initialized successfully
2024-08-21 16:33:27,432 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 16:33:27,432 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 16:33:28,036 - slack_ai_assistant - DEBUG - Updated TravelAssistant with new tools and instructions
2024-08-21 16:33:28,265 - slack_ai_assistant - DEBUG - Updated CalendarAssistant with new tools and instructions
2024-08-21 16:33:28,458 - slack_ai_assistant - DEBUG - Updated GmailAssistant with new tools and instructions
2024-08-21 16:33:28,458 - slack_ai_assistant - DEBUG - Assistants update completed
2024-08-21 16:33:28,458 - slack_ai_assistant - DEBUG - Initializing components...
2024-08-21 16:33:28,470 - slack_ai_assistant - DEBUG - Components initialized in 1.04 seconds
2024-08-21 16:33:28,471 - slack_ai_assistant - DEBUG - 
Processing test case 1: Send Email...
2024-08-21 16:33:28,471 - slack_ai_assistant - DEBUG - Processing message event - Text: send an email to parkerjohnsonbeard@gmail.com asking how his work is going.', User: U123456, Channel: C789012
2024-08-21 16:33:28,917 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'm looking into that for you.", 'channel': 'C789012'}
2024-08-21 16:33:28,917 - slack_ai_assistant - DEBUG - Dispatching message
2024-08-21 16:33:28,917 - slack_ai_assistant - INFO - Starting dispatch for user input: send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'
2024-08-21 16:33:29,118 - slack_ai_assistant - ERROR - Error in dispatch: <AssistantCategory.GENERAL: 'general'>
Traceback (most recent call last):
  File "/Users/parkerbeard/BeardoGPT/app/assistants/dispatcher.py", line 27, in dispatch
    self.current_category = await self.classifier.classify_message(user_input)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/assistants/classifier.py", line 23, in classify_message
    await self.initialize()
  File "/Users/parkerbeard/BeardoGPT/app/assistants/classifier.py", line 15, in initialize
    classifier_name = AssistantConfig.get_assistant_name(AssistantCategory.CLASSIFIER)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/config/assistant_config.py", line 37, in get_assistant_name
    return cls.CONFIGS.get(category, cls.CONFIGS[AssistantCategory.GENERAL]).ASSISTANT_NAME
                                     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: <AssistantCategory.GENERAL: 'general'>
2024-08-21 16:33:29,122 - slack_ai_assistant - ERROR - Error processing message: 'Dispatcher' object has no attribute 'thread_id'
2024-08-21 16:33:29,123 - slack_ai_assistant - ERROR - Traceback: Traceback (most recent call last):
  File "/Users/parkerbeard/BeardoGPT/app/assistants/dispatcher.py", line 27, in dispatch
    self.current_category = await self.classifier.classify_message(user_input)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/assistants/classifier.py", line 23, in classify_message
    await self.initialize()
  File "/Users/parkerbeard/BeardoGPT/app/assistants/classifier.py", line 15, in initialize
    classifier_name = AssistantConfig.get_assistant_name(AssistantCategory.CLASSIFIER)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/config/assistant_config.py", line 37, in get_assistant_name
    return cls.CONFIGS.get(category, cls.CONFIGS[AssistantCategory.GENERAL]).ASSISTANT_NAME
                                     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: <AssistantCategory.GENERAL: 'general'>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/parkerbeard/BeardoGPT/app/slack_bot.py", line 53, in process_message_event
    dispatch_result = await dispatcher.dispatch(text.lower())
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/assistants/dispatcher.py", line 46, in dispatch
    return {'thread_id': self.thread_id, 'run_id': None, 'error': str(e)}
                         ^^^^^^^^^^^^^^
AttributeError: 'Dispatcher' object has no attribute 'thread_id'

2024-08-21 16:33:29,123 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'm sorry, but I encountered an error while processing your request: 'Dispatcher' object has no attribute 'thread_id'\nPlease try again later.", 'channel': 'C789012'}
2024-08-21 16:33:29,124 - slack_ai_assistant - DEBUG - Test case 1 processed in 0.65 seconds
2024-08-21 16:33:29,124 - slack_ai_assistant - DEBUG - Result: None
2024-08-21 16:33:29,124 - slack_ai_assistant - DEBUG - 
Processing test case 2: Create Draft...
2024-08-21 16:33:29,124 - slack_ai_assistant - DEBUG - Processing message event - Text: create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going', User: U123456, Channel: C789012
2024-08-21 16:33:29,579 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'll draft that email for you.", 'channel': 'C789012'}
2024-08-21 16:33:29,580 - slack_ai_assistant - DEBUG - Dispatching message
2024-08-21 16:33:29,580 - slack_ai_assistant - INFO - Starting dispatch for user input: create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going'
2024-08-21 16:33:29,750 - slack_ai_assistant - ERROR - Error in dispatch: <AssistantCategory.GENERAL: 'general'>
Traceback (most recent call last):
  File "/Users/parkerbeard/BeardoGPT/app/assistants/dispatcher.py", line 27, in dispatch
    self.current_category = await self.classifier.classify_message(user_input)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/assistants/classifier.py", line 23, in classify_message
    await self.initialize()
  File "/Users/parkerbeard/BeardoGPT/app/assistants/classifier.py", line 15, in initialize
    classifier_name = AssistantConfig.get_assistant_name(AssistantCategory.CLASSIFIER)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/config/assistant_config.py", line 37, in get_assistant_name
    return cls.CONFIGS.get(category, cls.CONFIGS[AssistantCategory.GENERAL]).ASSISTANT_NAME
                                     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: <AssistantCategory.GENERAL: 'general'>
2024-08-21 16:33:29,751 - slack_ai_assistant - ERROR - Error processing message: 'Dispatcher' object has no attribute 'thread_id'
2024-08-21 16:33:29,752 - slack_ai_assistant - ERROR - Traceback: Traceback (most recent call last):
  File "/Users/parkerbeard/BeardoGPT/app/assistants/dispatcher.py", line 27, in dispatch
    self.current_category = await self.classifier.classify_message(user_input)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/assistants/classifier.py", line 23, in classify_message
    await self.initialize()
  File "/Users/parkerbeard/BeardoGPT/app/assistants/classifier.py", line 15, in initialize
    classifier_name = AssistantConfig.get_assistant_name(AssistantCategory.CLASSIFIER)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/config/assistant_config.py", line 37, in get_assistant_name
    return cls.CONFIGS.get(category, cls.CONFIGS[AssistantCategory.GENERAL]).ASSISTANT_NAME
                                     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: <AssistantCategory.GENERAL: 'general'>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/parkerbeard/BeardoGPT/app/slack_bot.py", line 53, in process_message_event
    dispatch_result = await dispatcher.dispatch(text.lower())
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/assistants/dispatcher.py", line 46, in dispatch
    return {'thread_id': self.thread_id, 'run_id': None, 'error': str(e)}
                         ^^^^^^^^^^^^^^
AttributeError: 'Dispatcher' object has no attribute 'thread_id'

2024-08-21 16:33:29,752 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'm sorry, but I encountered an error while processing your request: 'Dispatcher' object has no attribute 'thread_id'\nPlease try again later.", 'channel': 'C789012'}
2024-08-21 16:33:29,752 - slack_ai_assistant - DEBUG - Test case 2 processed in 0.63 seconds
2024-08-21 16:33:29,752 - slack_ai_assistant - DEBUG - Result: None
2024-08-21 16:33:29,752 - slack_ai_assistant - DEBUG - 
Gmail integration tests completed in 2.32 seconds
2024-08-21 16:33:29,752 - slack_ai_assistant - DEBUG - Main function completed
2024-08-21 16:33:29,753 - slack_ai_assistant - DEBUG - Script completed
2024-08-21 16:34:34,101 - slack_ai_assistant - DEBUG - Script started
2024-08-21 16:34:34,102 - slack_ai_assistant - DEBUG - Starting main function
2024-08-21 16:34:34,102 - slack_ai_assistant - DEBUG - Starting gmail_integration_test
2024-08-21 16:34:34,102 - slack_ai_assistant - DEBUG - Initializing Google authentication...
2024-08-21 16:34:34,105 - slack_ai_assistant - INFO - Google authentication initialized successfully
2024-08-21 16:34:34,105 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 16:34:34,105 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 16:34:34,562 - slack_ai_assistant - DEBUG - Updated TravelAssistant with new tools and instructions
2024-08-21 16:34:34,748 - slack_ai_assistant - DEBUG - Updated CalendarAssistant with new tools and instructions
2024-08-21 16:34:34,871 - slack_ai_assistant - DEBUG - Updated GmailAssistant with new tools and instructions
2024-08-21 16:34:34,871 - slack_ai_assistant - DEBUG - Assistants update completed
2024-08-21 16:34:34,871 - slack_ai_assistant - DEBUG - Initializing components...
2024-08-21 16:34:34,882 - slack_ai_assistant - DEBUG - Components initialized in 0.78 seconds
2024-08-21 16:34:34,882 - slack_ai_assistant - DEBUG - 
Processing test case 1: Send Email...
2024-08-21 16:34:34,882 - slack_ai_assistant - DEBUG - Processing message event - Text: send an email to parkerjohnsonbeard@gmail.com asking how his work is going.', User: U123456, Channel: C789012
2024-08-21 16:34:35,318 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'm looking into that for you.", 'channel': 'C789012'}
2024-08-21 16:34:35,318 - slack_ai_assistant - DEBUG - Dispatching message
2024-08-21 16:34:35,318 - slack_ai_assistant - INFO - Starting dispatch for user input: send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'
2024-08-21 16:34:35,563 - slack_ai_assistant - ERROR - Error in dispatch: <AssistantCategory.GENERAL: 'general'>
Traceback (most recent call last):
  File "/Users/parkerbeard/BeardoGPT/app/assistants/dispatcher.py", line 27, in dispatch
    self.current_category = await self.classifier.classify_message(user_input)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/assistants/classifier.py", line 23, in classify_message
    await self.initialize()
  File "/Users/parkerbeard/BeardoGPT/app/assistants/classifier.py", line 15, in initialize
    classifier_name = AssistantConfig.get_assistant_name(AssistantCategory.CLASSIFIER)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/config/assistant_config.py", line 37, in get_assistant_name
    return cls.CONFIGS.get(category, cls.CONFIGS[AssistantCategory.GENERAL]).ASSISTANT_NAME
                                     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: <AssistantCategory.GENERAL: 'general'>
2024-08-21 16:34:35,566 - slack_ai_assistant - ERROR - Error processing message: 'Dispatcher' object has no attribute 'thread_id'
2024-08-21 16:34:35,568 - slack_ai_assistant - ERROR - Traceback: Traceback (most recent call last):
  File "/Users/parkerbeard/BeardoGPT/app/assistants/dispatcher.py", line 27, in dispatch
    self.current_category = await self.classifier.classify_message(user_input)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/assistants/classifier.py", line 23, in classify_message
    await self.initialize()
  File "/Users/parkerbeard/BeardoGPT/app/assistants/classifier.py", line 15, in initialize
    classifier_name = AssistantConfig.get_assistant_name(AssistantCategory.CLASSIFIER)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/config/assistant_config.py", line 37, in get_assistant_name
    return cls.CONFIGS.get(category, cls.CONFIGS[AssistantCategory.GENERAL]).ASSISTANT_NAME
                                     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: <AssistantCategory.GENERAL: 'general'>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/parkerbeard/BeardoGPT/app/slack_bot.py", line 53, in process_message_event
    dispatch_result = await dispatcher.dispatch(text.lower())
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/assistants/dispatcher.py", line 46, in dispatch
    return {'thread_id': self.thread_id, 'run_id': None, 'error': str(e)}
                         ^^^^^^^^^^^^^^
AttributeError: 'Dispatcher' object has no attribute 'thread_id'

2024-08-21 16:34:35,568 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'm sorry, but I encountered an error while processing your request: 'Dispatcher' object has no attribute 'thread_id'\nPlease try again later.", 'channel': 'C789012'}
2024-08-21 16:34:35,568 - slack_ai_assistant - DEBUG - Test case 1 processed in 0.69 seconds
2024-08-21 16:34:35,568 - slack_ai_assistant - DEBUG - Result: None
2024-08-21 16:34:35,568 - slack_ai_assistant - DEBUG - 
Processing test case 2: Create Draft...
2024-08-21 16:34:35,568 - slack_ai_assistant - DEBUG - Processing message event - Text: create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going', User: U123456, Channel: C789012
2024-08-21 16:34:35,955 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'm drafting that email for you now.", 'channel': 'C789012'}
2024-08-21 16:34:35,956 - slack_ai_assistant - DEBUG - Dispatching message
2024-08-21 16:34:35,956 - slack_ai_assistant - INFO - Starting dispatch for user input: create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going'
2024-08-21 16:34:36,146 - slack_ai_assistant - ERROR - Error in dispatch: <AssistantCategory.GENERAL: 'general'>
Traceback (most recent call last):
  File "/Users/parkerbeard/BeardoGPT/app/assistants/dispatcher.py", line 27, in dispatch
    self.current_category = await self.classifier.classify_message(user_input)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/assistants/classifier.py", line 23, in classify_message
    await self.initialize()
  File "/Users/parkerbeard/BeardoGPT/app/assistants/classifier.py", line 15, in initialize
    classifier_name = AssistantConfig.get_assistant_name(AssistantCategory.CLASSIFIER)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/config/assistant_config.py", line 37, in get_assistant_name
    return cls.CONFIGS.get(category, cls.CONFIGS[AssistantCategory.GENERAL]).ASSISTANT_NAME
                                     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: <AssistantCategory.GENERAL: 'general'>
2024-08-21 16:34:36,147 - slack_ai_assistant - ERROR - Error processing message: 'Dispatcher' object has no attribute 'thread_id'
2024-08-21 16:34:36,147 - slack_ai_assistant - ERROR - Traceback: Traceback (most recent call last):
  File "/Users/parkerbeard/BeardoGPT/app/assistants/dispatcher.py", line 27, in dispatch
    self.current_category = await self.classifier.classify_message(user_input)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/assistants/classifier.py", line 23, in classify_message
    await self.initialize()
  File "/Users/parkerbeard/BeardoGPT/app/assistants/classifier.py", line 15, in initialize
    classifier_name = AssistantConfig.get_assistant_name(AssistantCategory.CLASSIFIER)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/config/assistant_config.py", line 37, in get_assistant_name
    return cls.CONFIGS.get(category, cls.CONFIGS[AssistantCategory.GENERAL]).ASSISTANT_NAME
                                     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: <AssistantCategory.GENERAL: 'general'>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/parkerbeard/BeardoGPT/app/slack_bot.py", line 53, in process_message_event
    dispatch_result = await dispatcher.dispatch(text.lower())
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/assistants/dispatcher.py", line 46, in dispatch
    return {'thread_id': self.thread_id, 'run_id': None, 'error': str(e)}
                         ^^^^^^^^^^^^^^
AttributeError: 'Dispatcher' object has no attribute 'thread_id'

2024-08-21 16:34:36,147 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'm sorry, but I encountered an error while processing your request: 'Dispatcher' object has no attribute 'thread_id'\nPlease try again later.", 'channel': 'C789012'}
2024-08-21 16:34:36,148 - slack_ai_assistant - DEBUG - Test case 2 processed in 0.58 seconds
2024-08-21 16:34:36,148 - slack_ai_assistant - DEBUG - Result: None
2024-08-21 16:34:36,148 - slack_ai_assistant - DEBUG - 
Gmail integration tests completed in 2.05 seconds
2024-08-21 16:34:36,148 - slack_ai_assistant - DEBUG - Main function completed
2024-08-21 16:34:36,149 - slack_ai_assistant - DEBUG - Script completed
2024-08-21 16:37:12,789 - slack_ai_assistant - DEBUG - Script started
2024-08-21 16:37:12,789 - slack_ai_assistant - DEBUG - Starting main function
2024-08-21 16:37:12,789 - slack_ai_assistant - DEBUG - Starting gmail_integration_test
2024-08-21 16:37:12,790 - slack_ai_assistant - DEBUG - Initializing Google authentication...
2024-08-21 16:37:12,791 - slack_ai_assistant - INFO - Google authentication initialized successfully
2024-08-21 16:37:12,791 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 16:37:12,791 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 16:37:13,285 - slack_ai_assistant - DEBUG - Updated TravelAssistant with new tools and instructions
2024-08-21 16:37:13,592 - slack_ai_assistant - DEBUG - Updated CalendarAssistant with new tools and instructions
2024-08-21 16:37:13,750 - slack_ai_assistant - DEBUG - Updated GmailAssistant with new tools and instructions
2024-08-21 16:37:13,750 - slack_ai_assistant - DEBUG - Assistants update completed
2024-08-21 16:37:13,750 - slack_ai_assistant - DEBUG - Initializing components...
2024-08-21 16:37:13,762 - slack_ai_assistant - DEBUG - Components initialized in 0.97 seconds
2024-08-21 16:37:13,763 - slack_ai_assistant - DEBUG - 
Processing test case 1: Send Email...
2024-08-21 16:37:13,763 - slack_ai_assistant - DEBUG - Processing message event - Text: send an email to parkerjohnsonbeard@gmail.com asking how his work is going.', User: U123456, Channel: C789012
2024-08-21 16:37:14,188 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'm looking into that for you.", 'channel': 'C789012'}
2024-08-21 16:37:14,189 - slack_ai_assistant - DEBUG - Dispatching message
2024-08-21 16:37:14,189 - slack_ai_assistant - INFO - Starting dispatch for user input: send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'
2024-08-21 16:37:14,429 - slack_ai_assistant - ERROR - Error in dispatch: <AssistantCategory.GENERAL: 'general'>
Traceback (most recent call last):
  File "/Users/parkerbeard/BeardoGPT/app/assistants/dispatcher.py", line 28, in dispatch
    self.current_category = await self.classifier.classify_message(user_input)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/assistants/classifier.py", line 23, in classify_message
    await self.initialize()
  File "/Users/parkerbeard/BeardoGPT/app/assistants/classifier.py", line 15, in initialize
    classifier_name = AssistantConfig.get_assistant_name(AssistantCategory.CLASSIFIER)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/config/assistant_config.py", line 37, in get_assistant_name
    return cls.CONFIGS.get(category, cls.CONFIGS[AssistantCategory.GENERAL]).ASSISTANT_NAME
                                     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: <AssistantCategory.GENERAL: 'general'>
2024-08-21 16:37:14,431 - slack_ai_assistant - DEBUG - Dispatch result: {'thread_id': None, 'run_id': None, 'error': "<AssistantCategory.GENERAL: 'general'>"}
2024-08-21 16:37:14,431 - slack_ai_assistant - ERROR - Error in dispatch result: <AssistantCategory.GENERAL: 'general'>
2024-08-21 16:37:14,431 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'm sorry, but I encountered an error: <AssistantCategory.GENERAL: 'general'>", 'channel': 'C789012'}
2024-08-21 16:37:14,432 - slack_ai_assistant - DEBUG - Test case 1 processed in 0.67 seconds
2024-08-21 16:37:14,432 - slack_ai_assistant - DEBUG - Result: None
2024-08-21 16:37:14,432 - slack_ai_assistant - DEBUG - 
Processing test case 2: Create Draft...
2024-08-21 16:37:14,432 - slack_ai_assistant - DEBUG - Processing message event - Text: create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going', User: U123456, Channel: C789012
2024-08-21 16:37:15,027 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': 'Im drafting that email for you now.', 'channel': 'C789012'}
2024-08-21 16:37:15,028 - slack_ai_assistant - DEBUG - Dispatching message
2024-08-21 16:37:15,028 - slack_ai_assistant - INFO - Starting dispatch for user input: create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going'
2024-08-21 16:37:15,246 - slack_ai_assistant - ERROR - Error in dispatch: <AssistantCategory.GENERAL: 'general'>
Traceback (most recent call last):
  File "/Users/parkerbeard/BeardoGPT/app/assistants/dispatcher.py", line 28, in dispatch
    self.current_category = await self.classifier.classify_message(user_input)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/assistants/classifier.py", line 23, in classify_message
    await self.initialize()
  File "/Users/parkerbeard/BeardoGPT/app/assistants/classifier.py", line 15, in initialize
    classifier_name = AssistantConfig.get_assistant_name(AssistantCategory.CLASSIFIER)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/config/assistant_config.py", line 37, in get_assistant_name
    return cls.CONFIGS.get(category, cls.CONFIGS[AssistantCategory.GENERAL]).ASSISTANT_NAME
                                     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: <AssistantCategory.GENERAL: 'general'>
2024-08-21 16:37:15,247 - slack_ai_assistant - DEBUG - Dispatch result: {'thread_id': None, 'run_id': None, 'error': "<AssistantCategory.GENERAL: 'general'>"}
2024-08-21 16:37:15,247 - slack_ai_assistant - ERROR - Error in dispatch result: <AssistantCategory.GENERAL: 'general'>
2024-08-21 16:37:15,247 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'm sorry, but I encountered an error: <AssistantCategory.GENERAL: 'general'>", 'channel': 'C789012'}
2024-08-21 16:37:15,247 - slack_ai_assistant - DEBUG - Test case 2 processed in 0.82 seconds
2024-08-21 16:37:15,247 - slack_ai_assistant - DEBUG - Result: None
2024-08-21 16:37:15,248 - slack_ai_assistant - DEBUG - 
Gmail integration tests completed in 2.46 seconds
2024-08-21 16:37:15,248 - slack_ai_assistant - DEBUG - Main function completed
2024-08-21 16:37:15,249 - slack_ai_assistant - DEBUG - Script completed
2024-08-21 16:41:16,477 - slack_ai_assistant - DEBUG - Script started
2024-08-21 16:41:16,478 - slack_ai_assistant - DEBUG - Starting main function
2024-08-21 16:41:16,478 - slack_ai_assistant - DEBUG - Starting gmail_integration_test
2024-08-21 16:41:16,478 - slack_ai_assistant - DEBUG - Initializing Google authentication...
2024-08-21 16:41:16,480 - slack_ai_assistant - INFO - Google authentication initialized successfully
2024-08-21 16:41:16,480 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 16:41:16,480 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 16:41:16,948 - slack_ai_assistant - DEBUG - Updated TravelAssistant with new tools and instructions
2024-08-21 16:41:17,150 - slack_ai_assistant - DEBUG - Updated CalendarAssistant with new tools and instructions
2024-08-21 16:41:17,349 - slack_ai_assistant - DEBUG - Updated GmailAssistant with new tools and instructions
2024-08-21 16:41:17,350 - slack_ai_assistant - DEBUG - Assistants update completed
2024-08-21 16:41:17,350 - slack_ai_assistant - DEBUG - Initializing components...
2024-08-21 16:41:17,360 - slack_ai_assistant - DEBUG - Components initialized in 0.88 seconds
2024-08-21 16:41:17,360 - slack_ai_assistant - DEBUG - 
Processing test case 1: Send Email...
2024-08-21 16:41:17,360 - slack_ai_assistant - DEBUG - Processing message event - Text: send an email to parkerjohnsonbeard@gmail.com asking how his work is going.', User: U123456, Channel: C789012
2024-08-21 16:41:17,742 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'm looking into that for you.", 'channel': 'C789012'}
2024-08-21 16:41:17,742 - slack_ai_assistant - DEBUG - Dispatching message
2024-08-21 16:41:17,742 - slack_ai_assistant - INFO - Starting dispatch for user input: send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'
2024-08-21 16:41:18,020 - slack_ai_assistant - ERROR - Error in dispatch: <AssistantCategory.GENERAL: 'general'>
Traceback (most recent call last):
  File "/Users/parkerbeard/BeardoGPT/app/assistants/dispatcher.py", line 28, in dispatch
    self.current_category = await self.classifier.classify_message(user_input)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/assistants/classifier.py", line 30, in classify_message
    await self.initialize()
  File "/Users/parkerbeard/BeardoGPT/app/assistants/classifier.py", line 15, in initialize
    classifier_name = AssistantConfig.get_assistant_name(AssistantCategory.CLASSIFIER)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/config/assistant_config.py", line 37, in get_assistant_name
    return cls.CONFIGS.get(category, cls.CONFIGS[AssistantCategory.GENERAL]).ASSISTANT_NAME
                                     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: <AssistantCategory.GENERAL: 'general'>
2024-08-21 16:41:18,021 - slack_ai_assistant - DEBUG - Dispatch result: {'thread_id': None, 'run_id': None, 'error': "<AssistantCategory.GENERAL: 'general'>"}
2024-08-21 16:41:18,021 - slack_ai_assistant - ERROR - Error in dispatch result: <AssistantCategory.GENERAL: 'general'>
2024-08-21 16:41:18,021 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'm sorry, but I encountered an error: <AssistantCategory.GENERAL: 'general'>", 'channel': 'C789012'}
2024-08-21 16:41:18,021 - slack_ai_assistant - DEBUG - Test case 1 processed in 0.66 seconds
2024-08-21 16:41:18,021 - slack_ai_assistant - DEBUG - Result: None
2024-08-21 16:41:18,021 - slack_ai_assistant - DEBUG - 
Processing test case 2: Create Draft...
2024-08-21 16:41:18,021 - slack_ai_assistant - DEBUG - Processing message event - Text: create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going', User: U123456, Channel: C789012
2024-08-21 16:41:18,913 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'm working on that draft email for you.", 'channel': 'C789012'}
2024-08-21 16:41:18,913 - slack_ai_assistant - DEBUG - Dispatching message
2024-08-21 16:41:18,913 - slack_ai_assistant - INFO - Starting dispatch for user input: create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going'
2024-08-21 16:41:19,090 - slack_ai_assistant - ERROR - Error in dispatch: <AssistantCategory.GENERAL: 'general'>
Traceback (most recent call last):
  File "/Users/parkerbeard/BeardoGPT/app/assistants/dispatcher.py", line 28, in dispatch
    self.current_category = await self.classifier.classify_message(user_input)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/assistants/classifier.py", line 30, in classify_message
    await self.initialize()
  File "/Users/parkerbeard/BeardoGPT/app/assistants/classifier.py", line 15, in initialize
    classifier_name = AssistantConfig.get_assistant_name(AssistantCategory.CLASSIFIER)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/config/assistant_config.py", line 37, in get_assistant_name
    return cls.CONFIGS.get(category, cls.CONFIGS[AssistantCategory.GENERAL]).ASSISTANT_NAME
                                     ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: <AssistantCategory.GENERAL: 'general'>
2024-08-21 16:41:19,091 - slack_ai_assistant - DEBUG - Dispatch result: {'thread_id': None, 'run_id': None, 'error': "<AssistantCategory.GENERAL: 'general'>"}
2024-08-21 16:41:19,091 - slack_ai_assistant - ERROR - Error in dispatch result: <AssistantCategory.GENERAL: 'general'>
2024-08-21 16:41:19,091 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'm sorry, but I encountered an error: <AssistantCategory.GENERAL: 'general'>", 'channel': 'C789012'}
2024-08-21 16:41:19,091 - slack_ai_assistant - DEBUG - Test case 2 processed in 1.07 seconds
2024-08-21 16:41:19,091 - slack_ai_assistant - DEBUG - Result: None
2024-08-21 16:41:19,091 - slack_ai_assistant - DEBUG - 
Gmail integration tests completed in 2.61 seconds
2024-08-21 16:41:19,091 - slack_ai_assistant - DEBUG - Main function completed
2024-08-21 16:41:19,092 - slack_ai_assistant - DEBUG - Script completed
2024-08-21 16:41:53,608 - slack_ai_assistant - DEBUG - Script started
2024-08-21 16:41:53,608 - slack_ai_assistant - DEBUG - Starting main function
2024-08-21 16:41:53,608 - slack_ai_assistant - DEBUG - Starting gmail_integration_test
2024-08-21 16:41:53,608 - slack_ai_assistant - DEBUG - Initializing Google authentication...
2024-08-21 16:41:53,610 - slack_ai_assistant - INFO - Google authentication initialized successfully
2024-08-21 16:41:53,610 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 16:41:53,610 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 16:41:54,074 - slack_ai_assistant - DEBUG - Updated TravelAssistant with new tools and instructions
2024-08-21 16:41:54,252 - slack_ai_assistant - DEBUG - Updated CalendarAssistant with new tools and instructions
2024-08-21 16:41:54,400 - slack_ai_assistant - DEBUG - Updated GmailAssistant with new tools and instructions
2024-08-21 16:41:54,401 - slack_ai_assistant - DEBUG - Assistants update completed
2024-08-21 16:41:54,401 - slack_ai_assistant - DEBUG - Initializing components...
2024-08-21 16:41:54,412 - slack_ai_assistant - DEBUG - Components initialized in 0.80 seconds
2024-08-21 16:41:54,412 - slack_ai_assistant - DEBUG - 
Processing test case 1: Send Email...
2024-08-21 16:41:54,413 - slack_ai_assistant - DEBUG - Processing message event - Text: send an email to parkerjohnsonbeard@gmail.com asking how his work is going.', User: U123456, Channel: C789012
2024-08-21 16:41:54,848 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'm looking into that for you.", 'channel': 'C789012'}
2024-08-21 16:41:54,849 - slack_ai_assistant - DEBUG - Dispatching message
2024-08-21 16:41:54,849 - slack_ai_assistant - INFO - Starting dispatch for user input: send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'
2024-08-21 16:41:55,445 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_rdE51j1FVhQPhsGYEENDJ4wd', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724283715, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_4FTNUCdYSLCvHLMRLixpmPTS')], object='list', first_id='msg_rdE51j1FVhQPhsGYEENDJ4wd', last_id='msg_rdE51j1FVhQPhsGYEENDJ4wd', has_more=False)
2024-08-21 16:41:55,445 - slack_ai_assistant - ERROR - Error in dispatch: type object 'AssistantConfig' has no attribute 'CATEGORY_DESCRIPTIONS'
Traceback (most recent call last):
  File "/Users/parkerbeard/BeardoGPT/app/assistants/dispatcher.py", line 28, in dispatch
    self.current_category = await self.classifier.classify_message(user_input)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/assistants/classifier.py", line 41, in classify_message
    instructions = self._generate_classification_instructions(context)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/assistants/classifier.py", line 56, in _generate_classification_instructions
    for i, (category, description) in enumerate(AssistantConfig.CATEGORY_DESCRIPTIONS.items())])
                                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'AssistantConfig' has no attribute 'CATEGORY_DESCRIPTIONS'
2024-08-21 16:41:55,446 - slack_ai_assistant - DEBUG - Dispatch result: {'thread_id': None, 'run_id': None, 'error': "type object 'AssistantConfig' has no attribute 'CATEGORY_DESCRIPTIONS'"}
2024-08-21 16:41:55,446 - slack_ai_assistant - ERROR - Error in dispatch result: type object 'AssistantConfig' has no attribute 'CATEGORY_DESCRIPTIONS'
2024-08-21 16:41:55,446 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'm sorry, but I encountered an error: type object 'AssistantConfig' has no attribute 'CATEGORY_DESCRIPTIONS'", 'channel': 'C789012'}
2024-08-21 16:41:55,446 - slack_ai_assistant - DEBUG - Test case 1 processed in 1.03 seconds
2024-08-21 16:41:55,446 - slack_ai_assistant - DEBUG - Result: None
2024-08-21 16:41:55,446 - slack_ai_assistant - DEBUG - 
Processing test case 2: Create Draft...
2024-08-21 16:41:55,447 - slack_ai_assistant - DEBUG - Processing message event - Text: create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going', User: U123456, Channel: C789012
2024-08-21 16:41:56,199 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'm drafting that email for you now.", 'channel': 'C789012'}
2024-08-21 16:41:56,200 - slack_ai_assistant - DEBUG - Dispatching message
2024-08-21 16:41:56,200 - slack_ai_assistant - INFO - Starting dispatch for user input: create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going'
2024-08-21 16:41:56,441 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_wkW4Ac0fif31tuj6WSxdxhlc', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going'"), type='text')], created_at=1724283716, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_4FTNUCdYSLCvHLMRLixpmPTS'), Message(id='msg_rdE51j1FVhQPhsGYEENDJ4wd', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724283715, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_4FTNUCdYSLCvHLMRLixpmPTS')], object='list', first_id='msg_wkW4Ac0fif31tuj6WSxdxhlc', last_id='msg_rdE51j1FVhQPhsGYEENDJ4wd', has_more=False)
2024-08-21 16:41:56,441 - slack_ai_assistant - ERROR - Error in dispatch: type object 'AssistantConfig' has no attribute 'CATEGORY_DESCRIPTIONS'
Traceback (most recent call last):
  File "/Users/parkerbeard/BeardoGPT/app/assistants/dispatcher.py", line 28, in dispatch
    self.current_category = await self.classifier.classify_message(user_input)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/assistants/classifier.py", line 41, in classify_message
    instructions = self._generate_classification_instructions(context)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/assistants/classifier.py", line 56, in _generate_classification_instructions
    for i, (category, description) in enumerate(AssistantConfig.CATEGORY_DESCRIPTIONS.items())])
                                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'AssistantConfig' has no attribute 'CATEGORY_DESCRIPTIONS'
2024-08-21 16:41:56,441 - slack_ai_assistant - DEBUG - Dispatch result: {'thread_id': None, 'run_id': None, 'error': "type object 'AssistantConfig' has no attribute 'CATEGORY_DESCRIPTIONS'"}
2024-08-21 16:41:56,441 - slack_ai_assistant - ERROR - Error in dispatch result: type object 'AssistantConfig' has no attribute 'CATEGORY_DESCRIPTIONS'
2024-08-21 16:41:56,442 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'm sorry, but I encountered an error: type object 'AssistantConfig' has no attribute 'CATEGORY_DESCRIPTIONS'", 'channel': 'C789012'}
2024-08-21 16:41:56,442 - slack_ai_assistant - DEBUG - Test case 2 processed in 1.00 seconds
2024-08-21 16:41:56,442 - slack_ai_assistant - DEBUG - Result: None
2024-08-21 16:41:56,442 - slack_ai_assistant - DEBUG - 
Gmail integration tests completed in 2.83 seconds
2024-08-21 16:41:56,442 - slack_ai_assistant - DEBUG - Main function completed
2024-08-21 16:41:56,443 - slack_ai_assistant - DEBUG - Script completed
2024-08-21 16:45:48,447 - slack_ai_assistant - DEBUG - Script started
2024-08-21 16:45:48,448 - slack_ai_assistant - DEBUG - Starting main function
2024-08-21 16:45:48,448 - slack_ai_assistant - DEBUG - Starting gmail_integration_test
2024-08-21 16:45:48,448 - slack_ai_assistant - DEBUG - Initializing Google authentication...
2024-08-21 16:45:48,450 - slack_ai_assistant - INFO - Google authentication initialized successfully
2024-08-21 16:45:48,450 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 16:45:48,450 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 16:45:49,083 - slack_ai_assistant - DEBUG - Updated TravelAssistant with new tools and instructions
2024-08-21 16:45:49,348 - slack_ai_assistant - DEBUG - Updated CalendarAssistant with new tools and instructions
2024-08-21 16:45:49,511 - slack_ai_assistant - DEBUG - Updated GmailAssistant with new tools and instructions
2024-08-21 16:45:49,511 - slack_ai_assistant - DEBUG - Assistants update completed
2024-08-21 16:45:49,511 - slack_ai_assistant - DEBUG - Initializing components...
2024-08-21 16:45:49,522 - slack_ai_assistant - DEBUG - Components initialized in 1.07 seconds
2024-08-21 16:45:49,522 - slack_ai_assistant - DEBUG - 
Processing test case 1: Send Email...
2024-08-21 16:45:49,522 - slack_ai_assistant - DEBUG - Processing message event - Text: send an email to parkerjohnsonbeard@gmail.com asking how his work is going.', User: U123456, Channel: C789012
2024-08-21 16:45:50,113 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'll draft that email for you.", 'channel': 'C789012'}
2024-08-21 16:45:50,113 - slack_ai_assistant - DEBUG - Dispatching message
2024-08-21 16:45:50,113 - slack_ai_assistant - INFO - Starting dispatch for user input: send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'
2024-08-21 16:45:50,928 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_Rdi0AruwE2fNespQdr0ZzMSH', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724283950, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_BpknGtXqwKCHGhLRR55Eom0F')], object='list', first_id='msg_Rdi0AruwE2fNespQdr0ZzMSH', last_id='msg_Rdi0AruwE2fNespQdr0ZzMSH', has_more=False)
2024-08-21 16:45:52,595 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_Rdi0AruwE2fNespQdr0ZzMSH', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724283950, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_BpknGtXqwKCHGhLRR55Eom0F'), Message(id='msg_enIt9dbbwbzjEETssX22gBsJ', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724283952, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_lOwKOfXhbQ0XbjtjrPEymhUa', status=None, thread_id='thread_BpknGtXqwKCHGhLRR55Eom0F')], object='list', first_id='msg_Rdi0AruwE2fNespQdr0ZzMSH', last_id='msg_enIt9dbbwbzjEETssX22gBsJ', has_more=False)
2024-08-21 16:45:52,595 - slack_ai_assistant - DEBUG - Messages: SyncCursorPage[Message](data=[Message(id='msg_Rdi0AruwE2fNespQdr0ZzMSH', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724283950, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_BpknGtXqwKCHGhLRR55Eom0F'), Message(id='msg_enIt9dbbwbzjEETssX22gBsJ', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724283952, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_lOwKOfXhbQ0XbjtjrPEymhUa', status=None, thread_id='thread_BpknGtXqwKCHGhLRR55Eom0F')], object='list', first_id='msg_Rdi0AruwE2fNespQdr0ZzMSH', last_id='msg_enIt9dbbwbzjEETssX22gBsJ', has_more=False)
2024-08-21 16:45:52,595 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 16:45:52,595 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_lOwKOfXhbQ0XbjtjrPEymhUa
2024-08-21 16:45:52,596 - slack_ai_assistant - INFO - Selected assistant: GmailAssistant
2024-08-21 16:45:55,201 - slack_ai_assistant - ERROR - Error in dispatch: type object 'AssistantConfig' has no attribute 'CATEGORY_FUNCTIONS'
Traceback (most recent call last):
  File "/Users/parkerbeard/BeardoGPT/app/assistants/dispatcher.py", line 43, in dispatch
    return await self.process_run(run, user_input, chat_history)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/assistants/dispatcher.py", line 62, in process_run
    function_outputs = await self.handle_tool_calls(tool_calls, user_input, chat_history)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/assistants/dispatcher.py", line 76, in handle_tool_calls
    category = AssistantConfig.get_assistant_name(AssistantCategory(self.get_integration_type(function_name)))
                                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/assistants/dispatcher.py", line 88, in get_integration_type
    for category, functions in AssistantConfig.CATEGORY_FUNCTIONS.items():
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'AssistantConfig' has no attribute 'CATEGORY_FUNCTIONS'
2024-08-21 16:45:55,204 - slack_ai_assistant - DEBUG - Dispatch result: {'thread_id': 'thread_4DZpZoiDKO4iv6yvtgvHy30g', 'run_id': None, 'error': "type object 'AssistantConfig' has no attribute 'CATEGORY_FUNCTIONS'"}
2024-08-21 16:45:55,204 - slack_ai_assistant - ERROR - Error in dispatch result: type object 'AssistantConfig' has no attribute 'CATEGORY_FUNCTIONS'
2024-08-21 16:45:55,204 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'm sorry, but I encountered an error: type object 'AssistantConfig' has no attribute 'CATEGORY_FUNCTIONS'", 'channel': 'C789012'}
2024-08-21 16:45:55,204 - slack_ai_assistant - DEBUG - Test case 1 processed in 5.68 seconds
2024-08-21 16:45:55,204 - slack_ai_assistant - DEBUG - Result: None
2024-08-21 16:45:55,205 - slack_ai_assistant - DEBUG - 
Processing test case 2: Create Draft...
2024-08-21 16:45:55,205 - slack_ai_assistant - DEBUG - Processing message event - Text: create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going', User: U123456, Channel: C789012
2024-08-21 16:45:55,605 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'm drafting that email for you.", 'channel': 'C789012'}
2024-08-21 16:45:55,606 - slack_ai_assistant - DEBUG - Dispatching message
2024-08-21 16:45:55,606 - slack_ai_assistant - INFO - Starting dispatch for user input: create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going'
2024-08-21 16:45:55,914 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_wS3U3KfcxIjMkPV1zQoOCQCE', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going'"), type='text')], created_at=1724283955, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_BpknGtXqwKCHGhLRR55Eom0F'), Message(id='msg_enIt9dbbwbzjEETssX22gBsJ', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724283952, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_lOwKOfXhbQ0XbjtjrPEymhUa', status=None, thread_id='thread_BpknGtXqwKCHGhLRR55Eom0F'), Message(id='msg_Rdi0AruwE2fNespQdr0ZzMSH', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724283950, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_BpknGtXqwKCHGhLRR55Eom0F')], object='list', first_id='msg_wS3U3KfcxIjMkPV1zQoOCQCE', last_id='msg_Rdi0AruwE2fNespQdr0ZzMSH', has_more=False)
2024-08-21 16:45:58,160 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_Rdi0AruwE2fNespQdr0ZzMSH', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724283950, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_BpknGtXqwKCHGhLRR55Eom0F'), Message(id='msg_enIt9dbbwbzjEETssX22gBsJ', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724283952, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_lOwKOfXhbQ0XbjtjrPEymhUa', status=None, thread_id='thread_BpknGtXqwKCHGhLRR55Eom0F'), Message(id='msg_wS3U3KfcxIjMkPV1zQoOCQCE', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going'"), type='text')], created_at=1724283955, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_BpknGtXqwKCHGhLRR55Eom0F'), Message(id='msg_PSZYjNcc3XSj4MnwznZ5EOy5', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724283957, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_LcvKSKYM6V68Cjjest8rTUmF', status=None, thread_id='thread_BpknGtXqwKCHGhLRR55Eom0F')], object='list', first_id='msg_Rdi0AruwE2fNespQdr0ZzMSH', last_id='msg_PSZYjNcc3XSj4MnwznZ5EOy5', has_more=False)
2024-08-21 16:45:58,161 - slack_ai_assistant - DEBUG - Messages: SyncCursorPage[Message](data=[Message(id='msg_Rdi0AruwE2fNespQdr0ZzMSH', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724283950, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_BpknGtXqwKCHGhLRR55Eom0F'), Message(id='msg_enIt9dbbwbzjEETssX22gBsJ', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724283952, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_lOwKOfXhbQ0XbjtjrPEymhUa', status=None, thread_id='thread_BpknGtXqwKCHGhLRR55Eom0F'), Message(id='msg_wS3U3KfcxIjMkPV1zQoOCQCE', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going'"), type='text')], created_at=1724283955, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_BpknGtXqwKCHGhLRR55Eom0F'), Message(id='msg_PSZYjNcc3XSj4MnwznZ5EOy5', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724283957, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_LcvKSKYM6V68Cjjest8rTUmF', status=None, thread_id='thread_BpknGtXqwKCHGhLRR55Eom0F')], object='list', first_id='msg_Rdi0AruwE2fNespQdr0ZzMSH', last_id='msg_PSZYjNcc3XSj4MnwznZ5EOy5', has_more=False)
2024-08-21 16:45:58,161 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 16:45:58,161 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_lOwKOfXhbQ0XbjtjrPEymhUa
2024-08-21 16:45:58,161 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 16:45:58,161 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_LcvKSKYM6V68Cjjest8rTUmF
2024-08-21 16:45:58,161 - slack_ai_assistant - INFO - Selected assistant: GmailAssistant
2024-08-21 16:45:58,283 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_xRmoWGnolr679njB4cxww1jW', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724283953, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_4DZpZoiDKO4iv6yvtgvHy30g')], object='list', first_id='msg_xRmoWGnolr679njB4cxww1jW', last_id='msg_xRmoWGnolr679njB4cxww1jW', has_more=False)
2024-08-21 16:45:58,607 - slack_ai_assistant - ERROR - Error in dispatch: Error code: 400 - {'error': {'message': "Can't add messages to thread_4DZpZoiDKO4iv6yvtgvHy30g while a run run_CMxL8wqoQ7FwHeFUugHkmymR is active.", 'type': 'invalid_request_error', 'param': None, 'code': None}}
Traceback (most recent call last):
  File "/Users/parkerbeard/BeardoGPT/app/assistants/dispatcher.py", line 40, in dispatch
    await self.assistant_manager.create_message(self.thread_id, "user", user_input)
  File "/Users/parkerbeard/BeardoGPT/app/assistants/assistant_manager.py", line 71, in create_message
    return self.client.beta.threads.messages.create(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/openai/resources/beta/threads/messages.py", line 88, in create
    return self._post(
           ^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/openai/_base_client.py", line 1259, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/openai/_base_client.py", line 936, in request
    return self._request(
           ^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/openai/_base_client.py", line 1040, in _request
    raise self._make_status_error_from_response(err.response) from None
openai.BadRequestError: Error code: 400 - {'error': {'message': "Can't add messages to thread_4DZpZoiDKO4iv6yvtgvHy30g while a run run_CMxL8wqoQ7FwHeFUugHkmymR is active.", 'type': 'invalid_request_error', 'param': None, 'code': None}}
2024-08-21 16:45:58,610 - slack_ai_assistant - DEBUG - Dispatch result: {'thread_id': 'thread_4DZpZoiDKO4iv6yvtgvHy30g', 'run_id': None, 'error': 'Error code: 400 - {\'error\': {\'message\': "Can\'t add messages to thread_4DZpZoiDKO4iv6yvtgvHy30g while a run run_CMxL8wqoQ7FwHeFUugHkmymR is active.", \'type\': \'invalid_request_error\', \'param\': None, \'code\': None}}'}
2024-08-21 16:45:58,610 - slack_ai_assistant - ERROR - Error in dispatch result: Error code: 400 - {'error': {'message': "Can't add messages to thread_4DZpZoiDKO4iv6yvtgvHy30g while a run run_CMxL8wqoQ7FwHeFUugHkmymR is active.", 'type': 'invalid_request_error', 'param': None, 'code': None}}
2024-08-21 16:45:58,610 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': 'I\'m sorry, but I encountered an error: Error code: 400 - {\'error\': {\'message\': "Can\'t add messages to thread_4DZpZoiDKO4iv6yvtgvHy30g while a run run_CMxL8wqoQ7FwHeFUugHkmymR is active.", \'type\': \'invalid_request_error\', \'param\': None, \'code\': None}}', 'channel': 'C789012'}
2024-08-21 16:45:58,611 - slack_ai_assistant - DEBUG - Test case 2 processed in 3.41 seconds
2024-08-21 16:45:58,611 - slack_ai_assistant - DEBUG - Result: None
2024-08-21 16:45:58,611 - slack_ai_assistant - DEBUG - 
Gmail integration tests completed in 10.16 seconds
2024-08-21 16:45:58,611 - slack_ai_assistant - DEBUG - Main function completed
2024-08-21 16:45:58,612 - slack_ai_assistant - DEBUG - Script completed
2024-08-21 16:47:09,108 - slack_ai_assistant - DEBUG - Script started
2024-08-21 16:47:09,108 - slack_ai_assistant - DEBUG - Starting main function
2024-08-21 16:47:09,108 - slack_ai_assistant - DEBUG - Starting gmail_integration_test
2024-08-21 16:47:09,109 - slack_ai_assistant - DEBUG - Initializing Google authentication...
2024-08-21 16:47:09,111 - slack_ai_assistant - INFO - Google authentication initialized successfully
2024-08-21 16:47:09,111 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 16:47:09,111 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 16:47:09,590 - slack_ai_assistant - DEBUG - Updated TravelAssistant with new tools and instructions
2024-08-21 16:47:09,801 - slack_ai_assistant - DEBUG - Updated CalendarAssistant with new tools and instructions
2024-08-21 16:47:09,970 - slack_ai_assistant - DEBUG - Updated GmailAssistant with new tools and instructions
2024-08-21 16:47:09,970 - slack_ai_assistant - DEBUG - Assistants update completed
2024-08-21 16:47:09,970 - slack_ai_assistant - DEBUG - Initializing components...
2024-08-21 16:47:09,983 - slack_ai_assistant - DEBUG - Components initialized in 0.87 seconds
2024-08-21 16:47:09,983 - slack_ai_assistant - DEBUG - 
Processing test case 1: Send Email...
2024-08-21 16:47:09,983 - slack_ai_assistant - DEBUG - Processing message event - Text: send an email to parkerjohnsonbeard@gmail.com asking how his work is going.', User: U123456, Channel: C789012
2024-08-21 16:47:10,396 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'm looking into that for you.", 'channel': 'C789012'}
2024-08-21 16:47:10,396 - slack_ai_assistant - DEBUG - Dispatching message
2024-08-21 16:47:10,397 - slack_ai_assistant - INFO - Starting dispatch for user input: send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'
2024-08-21 16:47:11,153 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_rgDhqYjcJAf4f6gJRVwUJnpB', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724284031, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_otc4rntJIsz32hdLGD1fExSM')], object='list', first_id='msg_rgDhqYjcJAf4f6gJRVwUJnpB', last_id='msg_rgDhqYjcJAf4f6gJRVwUJnpB', has_more=False)
2024-08-21 16:47:13,440 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_rgDhqYjcJAf4f6gJRVwUJnpB', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724284031, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_otc4rntJIsz32hdLGD1fExSM'), Message(id='msg_k8rx89CYjq32j8wHs0VBHS2F', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724284032, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_jaQTcIADdYA5PcurMG4HHfIM', status=None, thread_id='thread_otc4rntJIsz32hdLGD1fExSM')], object='list', first_id='msg_rgDhqYjcJAf4f6gJRVwUJnpB', last_id='msg_k8rx89CYjq32j8wHs0VBHS2F', has_more=False)
2024-08-21 16:47:13,441 - slack_ai_assistant - DEBUG - Messages: SyncCursorPage[Message](data=[Message(id='msg_rgDhqYjcJAf4f6gJRVwUJnpB', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724284031, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_otc4rntJIsz32hdLGD1fExSM'), Message(id='msg_k8rx89CYjq32j8wHs0VBHS2F', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724284032, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_jaQTcIADdYA5PcurMG4HHfIM', status=None, thread_id='thread_otc4rntJIsz32hdLGD1fExSM')], object='list', first_id='msg_rgDhqYjcJAf4f6gJRVwUJnpB', last_id='msg_k8rx89CYjq32j8wHs0VBHS2F', has_more=False)
2024-08-21 16:47:13,441 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 16:47:13,441 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_jaQTcIADdYA5PcurMG4HHfIM
2024-08-21 16:47:13,441 - slack_ai_assistant - INFO - Selected assistant: GmailAssistant
2024-08-21 16:47:16,717 - slack_ai_assistant - ERROR - Error in dispatch: 'GmailAssistant' is not a valid AssistantCategory
Traceback (most recent call last):
  File "/Users/parkerbeard/BeardoGPT/app/assistants/dispatcher.py", line 43, in dispatch
    return await self.process_run(run, user_input, chat_history)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/assistants/dispatcher.py", line 62, in process_run
    function_outputs = await self.handle_tool_calls(tool_calls, user_input, chat_history)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/assistants/dispatcher.py", line 78, in handle_tool_calls
    structured_data = await self.get_structured_request(category, user_input, chat_history, function_name)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/assistants/dispatcher.py", line 94, in get_structured_request
    config = self.config_manager.get_config(AssistantCategory(category))
                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/enum.py", line 714, in __call__
    return cls.__new__(cls, value)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/enum.py", line 1130, in __new__
    raise ve_exc
ValueError: 'GmailAssistant' is not a valid AssistantCategory
2024-08-21 16:47:16,722 - slack_ai_assistant - DEBUG - Dispatch result: {'thread_id': 'thread_abYTFzPxEy07w4Srf1wfIUGg', 'run_id': None, 'error': "'GmailAssistant' is not a valid AssistantCategory"}
2024-08-21 16:47:16,722 - slack_ai_assistant - ERROR - Error in dispatch result: 'GmailAssistant' is not a valid AssistantCategory
2024-08-21 16:47:16,722 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'm sorry, but I encountered an error: 'GmailAssistant' is not a valid AssistantCategory", 'channel': 'C789012'}
2024-08-21 16:47:16,722 - slack_ai_assistant - DEBUG - Test case 1 processed in 6.74 seconds
2024-08-21 16:47:16,722 - slack_ai_assistant - DEBUG - Result: None
2024-08-21 16:47:16,722 - slack_ai_assistant - DEBUG - 
Processing test case 2: Create Draft...
2024-08-21 16:47:16,723 - slack_ai_assistant - DEBUG - Processing message event - Text: create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going', User: U123456, Channel: C789012
2024-08-21 16:47:17,210 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'm drafting that email for you now.", 'channel': 'C789012'}
2024-08-21 16:47:17,210 - slack_ai_assistant - DEBUG - Dispatching message
2024-08-21 16:47:17,210 - slack_ai_assistant - INFO - Starting dispatch for user input: create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going'
2024-08-21 16:47:17,994 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_kaVAtb0Q3wJyA9LQOZRAQ4fQ', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going'"), type='text')], created_at=1724284037, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_otc4rntJIsz32hdLGD1fExSM'), Message(id='msg_k8rx89CYjq32j8wHs0VBHS2F', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724284032, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_jaQTcIADdYA5PcurMG4HHfIM', status=None, thread_id='thread_otc4rntJIsz32hdLGD1fExSM'), Message(id='msg_rgDhqYjcJAf4f6gJRVwUJnpB', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724284031, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_otc4rntJIsz32hdLGD1fExSM')], object='list', first_id='msg_kaVAtb0Q3wJyA9LQOZRAQ4fQ', last_id='msg_rgDhqYjcJAf4f6gJRVwUJnpB', has_more=False)
2024-08-21 16:47:20,162 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_rgDhqYjcJAf4f6gJRVwUJnpB', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724284031, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_otc4rntJIsz32hdLGD1fExSM'), Message(id='msg_k8rx89CYjq32j8wHs0VBHS2F', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724284032, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_jaQTcIADdYA5PcurMG4HHfIM', status=None, thread_id='thread_otc4rntJIsz32hdLGD1fExSM'), Message(id='msg_kaVAtb0Q3wJyA9LQOZRAQ4fQ', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going'"), type='text')], created_at=1724284037, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_otc4rntJIsz32hdLGD1fExSM'), Message(id='msg_ABJn7hREQpsAMZAfR6cLBLU5', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724284039, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_WLUlfjSPulbVevd5P1S23685', status=None, thread_id='thread_otc4rntJIsz32hdLGD1fExSM')], object='list', first_id='msg_rgDhqYjcJAf4f6gJRVwUJnpB', last_id='msg_ABJn7hREQpsAMZAfR6cLBLU5', has_more=False)
2024-08-21 16:47:20,163 - slack_ai_assistant - DEBUG - Messages: SyncCursorPage[Message](data=[Message(id='msg_rgDhqYjcJAf4f6gJRVwUJnpB', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724284031, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_otc4rntJIsz32hdLGD1fExSM'), Message(id='msg_k8rx89CYjq32j8wHs0VBHS2F', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724284032, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_jaQTcIADdYA5PcurMG4HHfIM', status=None, thread_id='thread_otc4rntJIsz32hdLGD1fExSM'), Message(id='msg_kaVAtb0Q3wJyA9LQOZRAQ4fQ', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going'"), type='text')], created_at=1724284037, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_otc4rntJIsz32hdLGD1fExSM'), Message(id='msg_ABJn7hREQpsAMZAfR6cLBLU5', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724284039, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_WLUlfjSPulbVevd5P1S23685', status=None, thread_id='thread_otc4rntJIsz32hdLGD1fExSM')], object='list', first_id='msg_rgDhqYjcJAf4f6gJRVwUJnpB', last_id='msg_ABJn7hREQpsAMZAfR6cLBLU5', has_more=False)
2024-08-21 16:47:20,163 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 16:47:20,163 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_jaQTcIADdYA5PcurMG4HHfIM
2024-08-21 16:47:20,163 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 16:47:20,163 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_WLUlfjSPulbVevd5P1S23685
2024-08-21 16:47:20,163 - slack_ai_assistant - INFO - Selected assistant: GmailAssistant
2024-08-21 16:47:20,296 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_lr1vwPQhIom4ZVU2O0oxbURn', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724284033, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_abYTFzPxEy07w4Srf1wfIUGg')], object='list', first_id='msg_lr1vwPQhIom4ZVU2O0oxbURn', last_id='msg_lr1vwPQhIom4ZVU2O0oxbURn', has_more=False)
2024-08-21 16:47:20,575 - slack_ai_assistant - ERROR - Error in dispatch: Error code: 400 - {'error': {'message': "Can't add messages to thread_abYTFzPxEy07w4Srf1wfIUGg while a run run_mTc45dwCVtLOwCdNaxaPs1bO is active.", 'type': 'invalid_request_error', 'param': None, 'code': None}}
Traceback (most recent call last):
  File "/Users/parkerbeard/BeardoGPT/app/assistants/dispatcher.py", line 40, in dispatch
    await self.assistant_manager.create_message(self.thread_id, "user", user_input)
  File "/Users/parkerbeard/BeardoGPT/app/assistants/assistant_manager.py", line 71, in create_message
    return self.client.beta.threads.messages.create(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/openai/resources/beta/threads/messages.py", line 88, in create
    return self._post(
           ^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/openai/_base_client.py", line 1259, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/openai/_base_client.py", line 936, in request
    return self._request(
           ^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/openai/_base_client.py", line 1040, in _request
    raise self._make_status_error_from_response(err.response) from None
openai.BadRequestError: Error code: 400 - {'error': {'message': "Can't add messages to thread_abYTFzPxEy07w4Srf1wfIUGg while a run run_mTc45dwCVtLOwCdNaxaPs1bO is active.", 'type': 'invalid_request_error', 'param': None, 'code': None}}
2024-08-21 16:47:20,580 - slack_ai_assistant - DEBUG - Dispatch result: {'thread_id': 'thread_abYTFzPxEy07w4Srf1wfIUGg', 'run_id': None, 'error': 'Error code: 400 - {\'error\': {\'message\': "Can\'t add messages to thread_abYTFzPxEy07w4Srf1wfIUGg while a run run_mTc45dwCVtLOwCdNaxaPs1bO is active.", \'type\': \'invalid_request_error\', \'param\': None, \'code\': None}}'}
2024-08-21 16:47:20,580 - slack_ai_assistant - ERROR - Error in dispatch result: Error code: 400 - {'error': {'message': "Can't add messages to thread_abYTFzPxEy07w4Srf1wfIUGg while a run run_mTc45dwCVtLOwCdNaxaPs1bO is active.", 'type': 'invalid_request_error', 'param': None, 'code': None}}
2024-08-21 16:47:20,580 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': 'I\'m sorry, but I encountered an error: Error code: 400 - {\'error\': {\'message\': "Can\'t add messages to thread_abYTFzPxEy07w4Srf1wfIUGg while a run run_mTc45dwCVtLOwCdNaxaPs1bO is active.", \'type\': \'invalid_request_error\', \'param\': None, \'code\': None}}', 'channel': 'C789012'}
2024-08-21 16:47:20,580 - slack_ai_assistant - DEBUG - Test case 2 processed in 3.86 seconds
2024-08-21 16:47:20,580 - slack_ai_assistant - DEBUG - Result: None
2024-08-21 16:47:20,580 - slack_ai_assistant - DEBUG - 
Gmail integration tests completed in 11.47 seconds
2024-08-21 16:47:20,581 - slack_ai_assistant - DEBUG - Main function completed
2024-08-21 16:47:20,581 - slack_ai_assistant - DEBUG - Script completed
2024-08-21 16:49:24,888 - slack_ai_assistant - DEBUG - Script started
2024-08-21 16:49:24,890 - slack_ai_assistant - DEBUG - Starting main function
2024-08-21 16:49:24,890 - slack_ai_assistant - DEBUG - Starting gmail_integration_test
2024-08-21 16:49:24,890 - slack_ai_assistant - DEBUG - Initializing Google authentication...
2024-08-21 16:49:24,892 - slack_ai_assistant - INFO - Google authentication initialized successfully
2024-08-21 16:49:24,892 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 16:49:24,892 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 16:49:25,544 - slack_ai_assistant - DEBUG - Updated TravelAssistant with new tools and instructions
2024-08-21 16:49:25,721 - slack_ai_assistant - DEBUG - Updated CalendarAssistant with new tools and instructions
2024-08-21 16:49:25,868 - slack_ai_assistant - DEBUG - Updated GmailAssistant with new tools and instructions
2024-08-21 16:49:25,868 - slack_ai_assistant - DEBUG - Assistants update completed
2024-08-21 16:49:25,868 - slack_ai_assistant - DEBUG - Initializing components...
2024-08-21 16:49:25,881 - slack_ai_assistant - DEBUG - Components initialized in 0.99 seconds
2024-08-21 16:49:25,881 - slack_ai_assistant - DEBUG - 
Processing test case 1: Send Email...
2024-08-21 16:49:25,881 - slack_ai_assistant - DEBUG - Processing message event - Text: send an email to parkerjohnsonbeard@gmail.com asking how his work is going.', User: U123456, Channel: C789012
2024-08-21 16:49:26,578 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'm looking into that for you.", 'channel': 'C789012'}
2024-08-21 16:49:26,578 - slack_ai_assistant - DEBUG - Dispatching message
2024-08-21 16:49:26,578 - slack_ai_assistant - INFO - Starting dispatch for user input: send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'
2024-08-21 16:49:27,282 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_fY4mmOi6vXK8GZrgxGJLCHJF', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724284167, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_iaGX1SWHjTLl9U8ifVX6Y22A')], object='list', first_id='msg_fY4mmOi6vXK8GZrgxGJLCHJF', last_id='msg_fY4mmOi6vXK8GZrgxGJLCHJF', has_more=False)
2024-08-21 16:49:29,670 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_fY4mmOi6vXK8GZrgxGJLCHJF', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724284167, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_iaGX1SWHjTLl9U8ifVX6Y22A'), Message(id='msg_9RDj4SGeZphJH2y1va59CCDQ', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724284168, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_LGnx6hihfza5PAdon7E8jQPn', status=None, thread_id='thread_iaGX1SWHjTLl9U8ifVX6Y22A')], object='list', first_id='msg_fY4mmOi6vXK8GZrgxGJLCHJF', last_id='msg_9RDj4SGeZphJH2y1va59CCDQ', has_more=False)
2024-08-21 16:49:29,670 - slack_ai_assistant - DEBUG - Messages: SyncCursorPage[Message](data=[Message(id='msg_fY4mmOi6vXK8GZrgxGJLCHJF', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724284167, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_iaGX1SWHjTLl9U8ifVX6Y22A'), Message(id='msg_9RDj4SGeZphJH2y1va59CCDQ', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724284168, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_LGnx6hihfza5PAdon7E8jQPn', status=None, thread_id='thread_iaGX1SWHjTLl9U8ifVX6Y22A')], object='list', first_id='msg_fY4mmOi6vXK8GZrgxGJLCHJF', last_id='msg_9RDj4SGeZphJH2y1va59CCDQ', has_more=False)
2024-08-21 16:49:29,670 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 16:49:29,671 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_LGnx6hihfza5PAdon7E8jQPn
2024-08-21 16:49:29,671 - slack_ai_assistant - INFO - Selected assistant: GmailAssistant
2024-08-21 16:49:34,518 - slack_ai_assistant - DEBUG - Executing function: send_email with parameters: {'to': 'parkerjohnsonbeard@gmail.com', 'subject': 'Checking In on Your Work Progress', 'body': 'Hi Parker,\n\nI hope this message finds you well. I just wanted to reach out and see how everything is going with your work lately. If you have any updates or need any assistance, feel free to let me know.\n\nLooking forward to hearing from you.\n\nBest regards,'}
2024-08-21 16:49:34,518 - slack_ai_assistant - ERROR - Error in dispatch: 'str' object has no attribute 'value'
Traceback (most recent call last):
  File "/Users/parkerbeard/BeardoGPT/app/assistants/dispatcher.py", line 43, in dispatch
    return await self.process_run(run, user_input, chat_history)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/assistants/dispatcher.py", line 62, in process_run
    function_outputs = await self.handle_tool_calls(tool_calls, user_input, chat_history)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/assistants/dispatcher.py", line 79, in handle_tool_calls
    result = await self.call_function(function_name, structured_data)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/parkerbeard/BeardoGPT/app/assistants/dispatcher.py", line 111, in call_function
    integration = AssistantFactory.get_api_integration(AssistantConfig.get_assistant_name(self.current_category.value))
                                                                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'value'
2024-08-21 16:49:34,519 - slack_ai_assistant - DEBUG - Dispatch result: {'thread_id': 'thread_8PWHR5BJdoa8ZgagiJCqx9Lv', 'run_id': None, 'error': "'str' object has no attribute 'value'"}
2024-08-21 16:49:34,520 - slack_ai_assistant - ERROR - Error in dispatch result: 'str' object has no attribute 'value'
2024-08-21 16:49:34,520 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'm sorry, but I encountered an error: 'str' object has no attribute 'value'", 'channel': 'C789012'}
2024-08-21 16:49:34,520 - slack_ai_assistant - DEBUG - Test case 1 processed in 8.64 seconds
2024-08-21 16:49:34,520 - slack_ai_assistant - DEBUG - Result: None
2024-08-21 16:49:34,520 - slack_ai_assistant - DEBUG - 
Processing test case 2: Create Draft...
2024-08-21 16:49:34,520 - slack_ai_assistant - DEBUG - Processing message event - Text: create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going', User: U123456, Channel: C789012
2024-08-21 16:49:34,972 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'm drafting that email for you now.", 'channel': 'C789012'}
2024-08-21 16:49:34,972 - slack_ai_assistant - DEBUG - Dispatching message
2024-08-21 16:49:34,972 - slack_ai_assistant - INFO - Starting dispatch for user input: create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going'
2024-08-21 16:49:35,228 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_01TqbGh3B1RlcN0wRyjhSuJZ', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going'"), type='text')], created_at=1724284175, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_iaGX1SWHjTLl9U8ifVX6Y22A'), Message(id='msg_9RDj4SGeZphJH2y1va59CCDQ', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724284168, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_LGnx6hihfza5PAdon7E8jQPn', status=None, thread_id='thread_iaGX1SWHjTLl9U8ifVX6Y22A'), Message(id='msg_fY4mmOi6vXK8GZrgxGJLCHJF', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724284167, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_iaGX1SWHjTLl9U8ifVX6Y22A')], object='list', first_id='msg_01TqbGh3B1RlcN0wRyjhSuJZ', last_id='msg_fY4mmOi6vXK8GZrgxGJLCHJF', has_more=False)
2024-08-21 16:49:37,283 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_fY4mmOi6vXK8GZrgxGJLCHJF', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724284167, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_iaGX1SWHjTLl9U8ifVX6Y22A'), Message(id='msg_9RDj4SGeZphJH2y1va59CCDQ', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724284168, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_LGnx6hihfza5PAdon7E8jQPn', status=None, thread_id='thread_iaGX1SWHjTLl9U8ifVX6Y22A'), Message(id='msg_01TqbGh3B1RlcN0wRyjhSuJZ', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going'"), type='text')], created_at=1724284175, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_iaGX1SWHjTLl9U8ifVX6Y22A'), Message(id='msg_XNJr61aheeZLGLiSOow9iZaT', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724284176, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_XDSppFb9ztjqrhvSn96h8Oar', status=None, thread_id='thread_iaGX1SWHjTLl9U8ifVX6Y22A')], object='list', first_id='msg_fY4mmOi6vXK8GZrgxGJLCHJF', last_id='msg_XNJr61aheeZLGLiSOow9iZaT', has_more=False)
2024-08-21 16:49:37,284 - slack_ai_assistant - DEBUG - Messages: SyncCursorPage[Message](data=[Message(id='msg_fY4mmOi6vXK8GZrgxGJLCHJF', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724284167, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_iaGX1SWHjTLl9U8ifVX6Y22A'), Message(id='msg_9RDj4SGeZphJH2y1va59CCDQ', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724284168, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_LGnx6hihfza5PAdon7E8jQPn', status=None, thread_id='thread_iaGX1SWHjTLl9U8ifVX6Y22A'), Message(id='msg_01TqbGh3B1RlcN0wRyjhSuJZ', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going'"), type='text')], created_at=1724284175, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_iaGX1SWHjTLl9U8ifVX6Y22A'), Message(id='msg_XNJr61aheeZLGLiSOow9iZaT', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724284176, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_XDSppFb9ztjqrhvSn96h8Oar', status=None, thread_id='thread_iaGX1SWHjTLl9U8ifVX6Y22A')], object='list', first_id='msg_fY4mmOi6vXK8GZrgxGJLCHJF', last_id='msg_XNJr61aheeZLGLiSOow9iZaT', has_more=False)
2024-08-21 16:49:37,284 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 16:49:37,284 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_LGnx6hihfza5PAdon7E8jQPn
2024-08-21 16:49:37,284 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 16:49:37,284 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_XDSppFb9ztjqrhvSn96h8Oar
2024-08-21 16:49:37,284 - slack_ai_assistant - INFO - Selected assistant: GmailAssistant
2024-08-21 16:49:37,527 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_S2wGjcRxzaSBpDQocWgf7qsA', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724284170, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_8PWHR5BJdoa8ZgagiJCqx9Lv')], object='list', first_id='msg_S2wGjcRxzaSBpDQocWgf7qsA', last_id='msg_S2wGjcRxzaSBpDQocWgf7qsA', has_more=False)
2024-08-21 16:49:37,901 - slack_ai_assistant - ERROR - Error in dispatch: Error code: 400 - {'error': {'message': "Can't add messages to thread_8PWHR5BJdoa8ZgagiJCqx9Lv while a run run_IIHY7Xy7ewfRybyOJCiE5xv7 is active.", 'type': 'invalid_request_error', 'param': None, 'code': None}}
Traceback (most recent call last):
  File "/Users/parkerbeard/BeardoGPT/app/assistants/dispatcher.py", line 40, in dispatch
    await self.assistant_manager.create_message(self.thread_id, "user", user_input)
  File "/Users/parkerbeard/BeardoGPT/app/assistants/assistant_manager.py", line 71, in create_message
    return self.client.beta.threads.messages.create(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/openai/resources/beta/threads/messages.py", line 88, in create
    return self._post(
           ^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/openai/_base_client.py", line 1259, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/openai/_base_client.py", line 936, in request
    return self._request(
           ^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/openai/_base_client.py", line 1040, in _request
    raise self._make_status_error_from_response(err.response) from None
openai.BadRequestError: Error code: 400 - {'error': {'message': "Can't add messages to thread_8PWHR5BJdoa8ZgagiJCqx9Lv while a run run_IIHY7Xy7ewfRybyOJCiE5xv7 is active.", 'type': 'invalid_request_error', 'param': None, 'code': None}}
2024-08-21 16:49:37,906 - slack_ai_assistant - DEBUG - Dispatch result: {'thread_id': 'thread_8PWHR5BJdoa8ZgagiJCqx9Lv', 'run_id': None, 'error': 'Error code: 400 - {\'error\': {\'message\': "Can\'t add messages to thread_8PWHR5BJdoa8ZgagiJCqx9Lv while a run run_IIHY7Xy7ewfRybyOJCiE5xv7 is active.", \'type\': \'invalid_request_error\', \'param\': None, \'code\': None}}'}
2024-08-21 16:49:37,906 - slack_ai_assistant - ERROR - Error in dispatch result: Error code: 400 - {'error': {'message': "Can't add messages to thread_8PWHR5BJdoa8ZgagiJCqx9Lv while a run run_IIHY7Xy7ewfRybyOJCiE5xv7 is active.", 'type': 'invalid_request_error', 'param': None, 'code': None}}
2024-08-21 16:49:37,906 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': 'I\'m sorry, but I encountered an error: Error code: 400 - {\'error\': {\'message\': "Can\'t add messages to thread_8PWHR5BJdoa8ZgagiJCqx9Lv while a run run_IIHY7Xy7ewfRybyOJCiE5xv7 is active.", \'type\': \'invalid_request_error\', \'param\': None, \'code\': None}}', 'channel': 'C789012'}
2024-08-21 16:49:37,906 - slack_ai_assistant - DEBUG - Test case 2 processed in 3.39 seconds
2024-08-21 16:49:37,906 - slack_ai_assistant - DEBUG - Result: None
2024-08-21 16:49:37,906 - slack_ai_assistant - DEBUG - 
Gmail integration tests completed in 13.02 seconds
2024-08-21 16:49:37,906 - slack_ai_assistant - DEBUG - Main function completed
2024-08-21 16:49:37,907 - slack_ai_assistant - DEBUG - Script completed
2024-08-21 16:51:06,578 - slack_ai_assistant - DEBUG - Script started
2024-08-21 16:51:06,579 - slack_ai_assistant - DEBUG - Starting main function
2024-08-21 16:51:06,579 - slack_ai_assistant - DEBUG - Starting gmail_integration_test
2024-08-21 16:51:06,579 - slack_ai_assistant - DEBUG - Initializing Google authentication...
2024-08-21 16:51:06,581 - slack_ai_assistant - INFO - Google authentication initialized successfully
2024-08-21 16:51:06,581 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 16:51:06,581 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 16:51:09,268 - slack_ai_assistant - DEBUG - Updated TravelAssistant with new tools and instructions
2024-08-21 16:51:09,433 - slack_ai_assistant - DEBUG - Updated CalendarAssistant with new tools and instructions
2024-08-21 16:51:09,632 - slack_ai_assistant - DEBUG - Updated GmailAssistant with new tools and instructions
2024-08-21 16:51:09,632 - slack_ai_assistant - DEBUG - Assistants update completed
2024-08-21 16:51:09,632 - slack_ai_assistant - DEBUG - Initializing components...
2024-08-21 16:51:09,648 - slack_ai_assistant - DEBUG - Components initialized in 3.07 seconds
2024-08-21 16:51:09,648 - slack_ai_assistant - DEBUG - 
Processing test case 1: Send Email...
2024-08-21 16:51:09,648 - slack_ai_assistant - DEBUG - Processing message event - Text: send an email to parkerjohnsonbeard@gmail.com asking how his work is going.', User: U123456, Channel: C789012
2024-08-21 16:51:10,446 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'm looking into that for you.", 'channel': 'C789012'}
2024-08-21 16:51:10,446 - slack_ai_assistant - DEBUG - Dispatching message
2024-08-21 16:51:10,447 - slack_ai_assistant - INFO - Starting dispatch for user input: send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'
2024-08-21 16:51:11,213 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_zCYeP9NtlDj5JlOEKMJvvwrW', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724284271, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_oecn51xJ56RJnD6e5TmmuSUf')], object='list', first_id='msg_zCYeP9NtlDj5JlOEKMJvvwrW', last_id='msg_zCYeP9NtlDj5JlOEKMJvvwrW', has_more=False)
2024-08-21 16:51:14,549 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_zCYeP9NtlDj5JlOEKMJvvwrW', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724284271, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_oecn51xJ56RJnD6e5TmmuSUf'), Message(id='msg_sxcMKX8PACp06xjqxNERhZ3d', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724284273, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_O2EIqQREynRGj19UwtIypK5p', status=None, thread_id='thread_oecn51xJ56RJnD6e5TmmuSUf')], object='list', first_id='msg_zCYeP9NtlDj5JlOEKMJvvwrW', last_id='msg_sxcMKX8PACp06xjqxNERhZ3d', has_more=False)
2024-08-21 16:51:14,550 - slack_ai_assistant - DEBUG - Messages: SyncCursorPage[Message](data=[Message(id='msg_zCYeP9NtlDj5JlOEKMJvvwrW', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724284271, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_oecn51xJ56RJnD6e5TmmuSUf'), Message(id='msg_sxcMKX8PACp06xjqxNERhZ3d', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724284273, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_O2EIqQREynRGj19UwtIypK5p', status=None, thread_id='thread_oecn51xJ56RJnD6e5TmmuSUf')], object='list', first_id='msg_zCYeP9NtlDj5JlOEKMJvvwrW', last_id='msg_sxcMKX8PACp06xjqxNERhZ3d', has_more=False)
2024-08-21 16:51:14,550 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 16:51:14,550 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_O2EIqQREynRGj19UwtIypK5p
2024-08-21 16:51:14,550 - slack_ai_assistant - INFO - Selected assistant: GmailAssistant
2024-08-21 16:51:18,540 - slack_ai_assistant - DEBUG - Executing function: send_email with parameters: {'to': 'parkerjohnsonbeard@gmail.com', 'subject': 'Checking In on Your Work', 'body': "Hi Parker,\n\nI hope this message finds you well. I wanted to check in and see how everything is going with your work. Let me know if there's anything new or if there's anything you need.\n\nLooking forward to hearing from you.\n\nBest regards,\n\n[Your Name]"}
2024-08-21 16:51:18,541 - slack_ai_assistant - DEBUG - GmailIntegration executing function: send_email with params: {'to': 'parkerjohnsonbeard@gmail.com', 'subject': 'Checking In on Your Work', 'body': "Hi Parker,\n\nI hope this message finds you well. I wanted to check in and see how everything is going with your work. Let me know if there's anything new or if there's anything you need.\n\nLooking forward to hearing from you.\n\nBest regards,\n\n[Your Name]"}
2024-08-21 16:51:18,541 - slack_ai_assistant - DEBUG - Structured JSON for email: {'to': 'parkerjohnsonbeard@gmail.com', 'subject': 'Checking In on Your Work', 'body': "Hi Parker,\n\nI hope this message finds you well. I wanted to check in and see how everything is going with your work. Let me know if there's anything new or if there's anything you need.\n\nLooking forward to hearing from you.\n\nBest regards,\n\n[Your Name]"}
2024-08-21 16:51:20,916 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_DonHsCbo9rVbbaCHZ93SiHRC', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724284275, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_GwRe7pKj4JQhmrIk2ohuQhoq'), Message(id='msg_er51coT8lcJDjLKAvX04xcF3', assistant_id='asst_ig3DY9RgboOKNACsSM5nwXC3', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='The email has been sent to Parker Johnson successfully, inquiring about how his work is going. If you need further assistance, feel free to ask!'), type='text')], created_at=1724284279, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_ogc8xWNrAxurvNk4HDDU513I', status=None, thread_id='thread_GwRe7pKj4JQhmrIk2ohuQhoq')], object='list', first_id='msg_DonHsCbo9rVbbaCHZ93SiHRC', last_id='msg_er51coT8lcJDjLKAvX04xcF3', has_more=False)
2024-08-21 16:51:20,916 - slack_ai_assistant - DEBUG - Messages: SyncCursorPage[Message](data=[Message(id='msg_DonHsCbo9rVbbaCHZ93SiHRC', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724284275, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_GwRe7pKj4JQhmrIk2ohuQhoq'), Message(id='msg_er51coT8lcJDjLKAvX04xcF3', assistant_id='asst_ig3DY9RgboOKNACsSM5nwXC3', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='The email has been sent to Parker Johnson successfully, inquiring about how his work is going. If you need further assistance, feel free to ask!'), type='text')], created_at=1724284279, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_ogc8xWNrAxurvNk4HDDU513I', status=None, thread_id='thread_GwRe7pKj4JQhmrIk2ohuQhoq')], object='list', first_id='msg_DonHsCbo9rVbbaCHZ93SiHRC', last_id='msg_er51coT8lcJDjLKAvX04xcF3', has_more=False)
2024-08-21 16:51:20,917 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 16:51:20,917 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_ogc8xWNrAxurvNk4HDDU513I
2024-08-21 16:51:20,917 - slack_ai_assistant - DEBUG - Dispatch result: {'thread_id': 'thread_GwRe7pKj4JQhmrIk2ohuQhoq', 'run_id': 'run_ogc8xWNrAxurvNk4HDDU513I', 'assistant_response': 'The email has been sent to Parker Johnson successfully, inquiring about how his work is going. If you need further assistance, feel free to ask!'}
2024-08-21 16:51:20,917 - slack_ai_assistant - DEBUG - Thread ID: thread_GwRe7pKj4JQhmrIk2ohuQhoq, Run ID: run_ogc8xWNrAxurvNk4HDDU513I
2024-08-21 16:51:20,917 - slack_ai_assistant - DEBUG - Function outputs: None
2024-08-21 16:51:20,917 - slack_ai_assistant - DEBUG - Assistant response: The email has been sent to Parker Johnson successfully, inquiring about how his work is going. If you need further assistance, feel free to ask!
2024-08-21 16:51:20,917 - slack_ai_assistant - DEBUG - Sending assistant response: The email has been sent to Parker Johnson successfully, inquiring about how his work is going. If you need further assistance, feel free to ask!
2024-08-21 16:51:20,918 - slack_ai_assistant - DEBUG - Sending Slack response - Channel: C789012, Response: The email has been sent to Parker Johnson successfully, inquiring about how his work is going. If you need further assistance, feel free to ask!
2024-08-21 16:51:23,169 - slack_ai_assistant - DEBUG - Formatted Slack message: {'channel': 'C789012', 'text': 'The email has been sent to Parker Johnson regarding his work progress.', 'blocks': [{'type': 'section', 'text': {'type': 'mrkdwn', 'text': 'The email has been sent to *Parker Johnson* successfully, inquiring about how his work is going.'}}, {'type': 'divider'}, {'type': 'section', 'text': {'type': 'mrkdwn', 'text': 'If you need further assistance, feel free to ask!'}}, {'type': 'divider'}, {'type': 'context', 'elements': [{'type': 'mrkdwn', 'text': 'For more information or to check the email status, refer to the email logs.'}]}]}
2024-08-21 16:51:23,169 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'channel': 'C789012', 'text': 'The email has been sent to Parker Johnson regarding his work progress.', 'blocks': [{'type': 'section', 'text': {'type': 'mrkdwn', 'text': 'The email has been sent to *Parker Johnson* successfully, inquiring about how his work is going.'}}, {'type': 'divider'}, {'type': 'section', 'text': {'type': 'mrkdwn', 'text': 'If you need further assistance, feel free to ask!'}}, {'type': 'divider'}, {'type': 'context', 'elements': [{'type': 'mrkdwn', 'text': 'For more information or to check the email status, refer to the email logs.'}]}]}
2024-08-21 16:51:23,169 - slack_ai_assistant - DEBUG - Test case 1 processed in 13.52 seconds
2024-08-21 16:51:23,169 - slack_ai_assistant - DEBUG - Result: None
2024-08-21 16:51:23,169 - slack_ai_assistant - DEBUG - 
Processing test case 2: Create Draft...
2024-08-21 16:51:23,170 - slack_ai_assistant - DEBUG - Processing message event - Text: create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going', User: U123456, Channel: C789012
2024-08-21 16:51:23,841 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'm drafting that email for you.", 'channel': 'C789012'}
2024-08-21 16:51:23,841 - slack_ai_assistant - DEBUG - Dispatching message
2024-08-21 16:51:23,841 - slack_ai_assistant - INFO - Starting dispatch for user input: create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going'
2024-08-21 16:51:24,150 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_oiavMoiVR0GLhDI6UurBpCOw', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going'"), type='text')], created_at=1724284284, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_oecn51xJ56RJnD6e5TmmuSUf'), Message(id='msg_sxcMKX8PACp06xjqxNERhZ3d', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724284273, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_O2EIqQREynRGj19UwtIypK5p', status=None, thread_id='thread_oecn51xJ56RJnD6e5TmmuSUf'), Message(id='msg_zCYeP9NtlDj5JlOEKMJvvwrW', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724284271, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_oecn51xJ56RJnD6e5TmmuSUf')], object='list', first_id='msg_oiavMoiVR0GLhDI6UurBpCOw', last_id='msg_zCYeP9NtlDj5JlOEKMJvvwrW', has_more=False)
2024-08-21 16:51:28,382 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_zCYeP9NtlDj5JlOEKMJvvwrW', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724284271, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_oecn51xJ56RJnD6e5TmmuSUf'), Message(id='msg_sxcMKX8PACp06xjqxNERhZ3d', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724284273, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_O2EIqQREynRGj19UwtIypK5p', status=None, thread_id='thread_oecn51xJ56RJnD6e5TmmuSUf'), Message(id='msg_oiavMoiVR0GLhDI6UurBpCOw', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going'"), type='text')], created_at=1724284284, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_oecn51xJ56RJnD6e5TmmuSUf'), Message(id='msg_ntPU3YY89HbtYY1RbOmCZtMO', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724284285, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_e1ypciixJa0mcW63DNo5ltG5', status=None, thread_id='thread_oecn51xJ56RJnD6e5TmmuSUf')], object='list', first_id='msg_zCYeP9NtlDj5JlOEKMJvvwrW', last_id='msg_ntPU3YY89HbtYY1RbOmCZtMO', has_more=False)
2024-08-21 16:51:28,384 - slack_ai_assistant - DEBUG - Messages: SyncCursorPage[Message](data=[Message(id='msg_zCYeP9NtlDj5JlOEKMJvvwrW', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724284271, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_oecn51xJ56RJnD6e5TmmuSUf'), Message(id='msg_sxcMKX8PACp06xjqxNERhZ3d', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724284273, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_O2EIqQREynRGj19UwtIypK5p', status=None, thread_id='thread_oecn51xJ56RJnD6e5TmmuSUf'), Message(id='msg_oiavMoiVR0GLhDI6UurBpCOw', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going'"), type='text')], created_at=1724284284, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_oecn51xJ56RJnD6e5TmmuSUf'), Message(id='msg_ntPU3YY89HbtYY1RbOmCZtMO', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724284285, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_e1ypciixJa0mcW63DNo5ltG5', status=None, thread_id='thread_oecn51xJ56RJnD6e5TmmuSUf')], object='list', first_id='msg_zCYeP9NtlDj5JlOEKMJvvwrW', last_id='msg_ntPU3YY89HbtYY1RbOmCZtMO', has_more=False)
2024-08-21 16:51:28,384 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 16:51:28,384 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_O2EIqQREynRGj19UwtIypK5p
2024-08-21 16:51:28,384 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 16:51:28,384 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_e1ypciixJa0mcW63DNo5ltG5
2024-08-21 16:51:28,384 - slack_ai_assistant - INFO - Selected assistant: GmailAssistant
2024-08-21 16:51:28,574 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_er51coT8lcJDjLKAvX04xcF3', assistant_id='asst_ig3DY9RgboOKNACsSM5nwXC3', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='The email has been sent to Parker Johnson successfully, inquiring about how his work is going. If you need further assistance, feel free to ask!'), type='text')], created_at=1724284279, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_ogc8xWNrAxurvNk4HDDU513I', status=None, thread_id='thread_GwRe7pKj4JQhmrIk2ohuQhoq'), Message(id='msg_DonHsCbo9rVbbaCHZ93SiHRC', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724284275, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_GwRe7pKj4JQhmrIk2ohuQhoq')], object='list', first_id='msg_er51coT8lcJDjLKAvX04xcF3', last_id='msg_DonHsCbo9rVbbaCHZ93SiHRC', has_more=False)
2024-08-21 16:51:34,042 - slack_ai_assistant - DEBUG - Executing function: create_draft with parameters: {'to': 'parkerjohnsonbeard@gmail.com', 'subject': 'Checking In on Your Work Progress', 'body': "Hi Parker,\n\nI hope this email finds you well. I wanted to check in and see how your work is going. Let me know if there's anything you need or if you'd like to catch up.\n\nLooking forward to hearing from you.\n\nBest regards,\n\n[Your Name]"}
2024-08-21 16:51:34,042 - slack_ai_assistant - DEBUG - GmailIntegration executing function: create_draft with params: {'to': 'parkerjohnsonbeard@gmail.com', 'subject': 'Checking In on Your Work Progress', 'body': "Hi Parker,\n\nI hope this email finds you well. I wanted to check in and see how your work is going. Let me know if there's anything you need or if you'd like to catch up.\n\nLooking forward to hearing from you.\n\nBest regards,\n\n[Your Name]"}
2024-08-21 16:51:34,043 - slack_ai_assistant - DEBUG - Structured JSON for draft: {'to': 'parkerjohnsonbeard@gmail.com', 'subject': 'Checking In on Your Work Progress', 'body': "Hi Parker,\n\nI hope this email finds you well. I wanted to check in and see how your work is going. Let me know if there's anything you need or if you'd like to catch up.\n\nLooking forward to hearing from you.\n\nBest regards,\n\n[Your Name]"}
2024-08-21 16:51:38,230 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_DonHsCbo9rVbbaCHZ93SiHRC', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724284275, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_GwRe7pKj4JQhmrIk2ohuQhoq'), Message(id='msg_er51coT8lcJDjLKAvX04xcF3', assistant_id='asst_ig3DY9RgboOKNACsSM5nwXC3', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='The email has been sent to Parker Johnson successfully, inquiring about how his work is going. If you need further assistance, feel free to ask!'), type='text')], created_at=1724284279, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_ogc8xWNrAxurvNk4HDDU513I', status=None, thread_id='thread_GwRe7pKj4JQhmrIk2ohuQhoq'), Message(id='msg_jb1HBqVGYWUV5ynI0sgHm1Ku', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going'"), type='text')], created_at=1724284289, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_GwRe7pKj4JQhmrIk2ohuQhoq'), Message(id='msg_htp2rQ750gxloPgzSvYtkwaN', assistant_id='asst_ig3DY9RgboOKNACsSM5nwXC3', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='The draft email has been created successfully for Parker Johnson. If you need any further assistance or modifications, just let me know!'), type='text')], created_at=1724284295, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_24BJv09U3NE7jcZfqcRw4had', status=None, thread_id='thread_GwRe7pKj4JQhmrIk2ohuQhoq')], object='list', first_id='msg_DonHsCbo9rVbbaCHZ93SiHRC', last_id='msg_htp2rQ750gxloPgzSvYtkwaN', has_more=False)
2024-08-21 16:51:38,230 - slack_ai_assistant - DEBUG - Messages: SyncCursorPage[Message](data=[Message(id='msg_DonHsCbo9rVbbaCHZ93SiHRC', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724284275, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_GwRe7pKj4JQhmrIk2ohuQhoq'), Message(id='msg_er51coT8lcJDjLKAvX04xcF3', assistant_id='asst_ig3DY9RgboOKNACsSM5nwXC3', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='The email has been sent to Parker Johnson successfully, inquiring about how his work is going. If you need further assistance, feel free to ask!'), type='text')], created_at=1724284279, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_ogc8xWNrAxurvNk4HDDU513I', status=None, thread_id='thread_GwRe7pKj4JQhmrIk2ohuQhoq'), Message(id='msg_jb1HBqVGYWUV5ynI0sgHm1Ku', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="create a draft email to parkerjohnsonbeard@gmail.com asking how his work is going'"), type='text')], created_at=1724284289, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_GwRe7pKj4JQhmrIk2ohuQhoq'), Message(id='msg_htp2rQ750gxloPgzSvYtkwaN', assistant_id='asst_ig3DY9RgboOKNACsSM5nwXC3', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='The draft email has been created successfully for Parker Johnson. If you need any further assistance or modifications, just let me know!'), type='text')], created_at=1724284295, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_24BJv09U3NE7jcZfqcRw4had', status=None, thread_id='thread_GwRe7pKj4JQhmrIk2ohuQhoq')], object='list', first_id='msg_DonHsCbo9rVbbaCHZ93SiHRC', last_id='msg_htp2rQ750gxloPgzSvYtkwaN', has_more=False)
2024-08-21 16:51:38,230 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 16:51:38,231 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_ogc8xWNrAxurvNk4HDDU513I
2024-08-21 16:51:38,231 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 16:51:38,231 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_24BJv09U3NE7jcZfqcRw4had
2024-08-21 16:51:38,231 - slack_ai_assistant - DEBUG - Dispatch result: {'thread_id': 'thread_GwRe7pKj4JQhmrIk2ohuQhoq', 'run_id': 'run_24BJv09U3NE7jcZfqcRw4had', 'assistant_response': 'The draft email has been created successfully for Parker Johnson. If you need any further assistance or modifications, just let me know!'}
2024-08-21 16:51:38,231 - slack_ai_assistant - DEBUG - Thread ID: thread_GwRe7pKj4JQhmrIk2ohuQhoq, Run ID: run_24BJv09U3NE7jcZfqcRw4had
2024-08-21 16:51:38,231 - slack_ai_assistant - DEBUG - Function outputs: None
2024-08-21 16:51:38,231 - slack_ai_assistant - DEBUG - Assistant response: The draft email has been created successfully for Parker Johnson. If you need any further assistance or modifications, just let me know!
2024-08-21 16:51:38,231 - slack_ai_assistant - DEBUG - Sending assistant response: The draft email has been created successfully for Parker Johnson. If you need any further assistance or modifications, just let me know!
2024-08-21 16:51:38,231 - slack_ai_assistant - DEBUG - Sending Slack response - Channel: C789012, Response: The draft email has been created successfully for Parker Johnson. If you need any further assistance or modifications, just let me know!
2024-08-21 16:51:40,453 - slack_ai_assistant - DEBUG - Formatted Slack message: {'channel': 'C789012', 'text': 'The draft email has been created successfully for Parker Johnson.', 'blocks': [{'type': 'section', 'text': {'type': 'mrkdwn', 'text': 'The draft email has been created successfully for *Parker Johnson*.'}}, {'type': 'divider'}, {'type': 'section', 'text': {'type': 'mrkdwn', 'text': 'If you need any further assistance or modifications, just let me know!'}}, {'type': 'context', 'elements': [{'type': 'mrkdwn', 'text': 'Your feedback is important for further improvements.'}]}]}
2024-08-21 16:51:40,453 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'channel': 'C789012', 'text': 'The draft email has been created successfully for Parker Johnson.', 'blocks': [{'type': 'section', 'text': {'type': 'mrkdwn', 'text': 'The draft email has been created successfully for *Parker Johnson*.'}}, {'type': 'divider'}, {'type': 'section', 'text': {'type': 'mrkdwn', 'text': 'If you need any further assistance or modifications, just let me know!'}}, {'type': 'context', 'elements': [{'type': 'mrkdwn', 'text': 'Your feedback is important for further improvements.'}]}]}
2024-08-21 16:51:40,453 - slack_ai_assistant - DEBUG - Test case 2 processed in 17.28 seconds
2024-08-21 16:51:40,454 - slack_ai_assistant - DEBUG - Result: None
2024-08-21 16:51:40,454 - slack_ai_assistant - DEBUG - 
Gmail integration tests completed in 33.87 seconds
2024-08-21 16:51:40,454 - slack_ai_assistant - DEBUG - Main function completed
2024-08-21 16:51:40,455 - slack_ai_assistant - DEBUG - Script completed
2024-08-21 16:54:06,664 - slack_ai_assistant - INFO - Google authentication initialized successfully
2024-08-21 16:54:06,664 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 16:54:07,217 - slack_ai_assistant - DEBUG - Updated TravelAssistant with new tools and instructions
2024-08-21 16:54:07,217 - slack_ai_assistant - DEBUG - Assistants update completed
2024-08-21 16:54:07,364 - slack_ai_assistant - DEBUG - Updated CalendarAssistant with new tools and instructions
2024-08-21 16:54:07,364 - slack_ai_assistant - DEBUG - Assistants update completed
2024-08-21 16:54:07,532 - slack_ai_assistant - DEBUG - Updated GmailAssistant with new tools and instructions
2024-08-21 16:54:07,533 - slack_ai_assistant - DEBUG - Assistants update completed
2024-08-21 16:54:07,533 - slack_ai_assistant - DEBUG - Creating Slack bot
2024-08-21 16:55:22,146 - slack_ai_assistant - INFO - Google authentication initialized successfully
2024-08-21 16:55:22,146 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 16:55:22,594 - slack_ai_assistant - DEBUG - Updated TravelAssistant with new tools and instructions
2024-08-21 16:55:22,594 - slack_ai_assistant - DEBUG - Assistants update completed
2024-08-21 16:55:22,795 - slack_ai_assistant - DEBUG - Updated CalendarAssistant with new tools and instructions
2024-08-21 16:55:22,795 - slack_ai_assistant - DEBUG - Assistants update completed
2024-08-21 16:55:22,945 - slack_ai_assistant - DEBUG - Updated GmailAssistant with new tools and instructions
2024-08-21 16:55:22,945 - slack_ai_assistant - DEBUG - Assistants update completed
2024-08-21 16:55:22,945 - slack_ai_assistant - DEBUG - Creating Slack bot
2024-08-21 16:56:31,980 - slack_ai_assistant - INFO - Google authentication initialized successfully
2024-08-21 16:56:31,980 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 16:56:32,504 - slack_ai_assistant - DEBUG - Updated TravelAssistant with new tools and instructions
2024-08-21 16:56:32,504 - slack_ai_assistant - DEBUG - Assistants update completed
2024-08-21 16:56:32,758 - slack_ai_assistant - DEBUG - Updated CalendarAssistant with new tools and instructions
2024-08-21 16:56:32,758 - slack_ai_assistant - DEBUG - Assistants update completed
2024-08-21 16:56:32,907 - slack_ai_assistant - DEBUG - Updated GmailAssistant with new tools and instructions
2024-08-21 16:56:32,907 - slack_ai_assistant - DEBUG - Assistants update completed
2024-08-21 16:56:32,907 - slack_ai_assistant - DEBUG - Creating Slack bot
2024-08-21 16:56:33,032 - slack_ai_assistant - DEBUG - Slack bot created successfully
2024-08-21 16:56:33,032 - slack_ai_assistant - INFO - Starting the AI-Powered Personal Assistant Slack Bot
2024-08-21 16:57:05,574 - slack_ai_assistant - DEBUG - Received message event: {'user': 'U079WGB6T0X', 'type': 'message', 'ts': '1724284625.039929', 'client_msg_id': '7c52c31b-f33e-422d-abb6-e7365761f330', 'text': 'send an email to <mailto:parkerjohnsonbeard@gmail.com|parkerjohnsonbeard@gmail.com> asking how his work is going', 'team': 'T07APNY0M4Z', 'blocks': [{'type': 'rich_text', 'block_id': 'O7ZbW', 'elements': [{'type': 'rich_text_section', 'elements': [{'type': 'text', 'text': 'send an email to '}, {'type': 'link', 'url': 'mailto:parkerjohnsonbeard@gmail.com', 'text': 'parkerjohnsonbeard@gmail.com'}, {'type': 'text', 'text': ' asking how his work is going'}]}]}], 'channel': 'C07A869GUDT', 'event_ts': '1724284625.039929', 'channel_type': 'channel'}
2024-08-21 16:57:05,575 - slack_ai_assistant - DEBUG - Processing message event - Text: send an email to <mailto:parkerjohnsonbeard@gmail.com|parkerjohnsonbeard@gmail.com> asking how his work is going, User: U079WGB6T0X, Channel: C07A869GUDT
2024-08-21 16:57:06,391 - slack_ai_assistant - DEBUG - Dispatching message
2024-08-21 16:57:06,391 - slack_ai_assistant - INFO - Starting dispatch for user input: send an email to <mailto:parkerjohnsonbeard@gmail.com|parkerjohnsonbeard@gmail.com> asking how his work is going
2024-08-21 16:57:07,587 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_4PbxDHgyqSvtmIyWHU7ZR7rF', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='send an email to <mailto:parkerjohnsonbeard@gmail.com|parkerjohnsonbeard@gmail.com> asking how his work is going'), type='text')], created_at=1724284627, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_2Q3SVAanmuUdC610ODOZmzYY')], object='list', first_id='msg_4PbxDHgyqSvtmIyWHU7ZR7rF', last_id='msg_4PbxDHgyqSvtmIyWHU7ZR7rF', has_more=False)
2024-08-21 16:57:10,316 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_4PbxDHgyqSvtmIyWHU7ZR7rF', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='send an email to <mailto:parkerjohnsonbeard@gmail.com|parkerjohnsonbeard@gmail.com> asking how his work is going'), type='text')], created_at=1724284627, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_2Q3SVAanmuUdC610ODOZmzYY'), Message(id='msg_Tc887wSN025JIvIItGzH0GhM', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724284629, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_MmQfEQ3Z5KZxtSKsELUAG1Lj', status=None, thread_id='thread_2Q3SVAanmuUdC610ODOZmzYY')], object='list', first_id='msg_4PbxDHgyqSvtmIyWHU7ZR7rF', last_id='msg_Tc887wSN025JIvIItGzH0GhM', has_more=False)
2024-08-21 16:57:10,316 - slack_ai_assistant - DEBUG - Messages: SyncCursorPage[Message](data=[Message(id='msg_4PbxDHgyqSvtmIyWHU7ZR7rF', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='send an email to <mailto:parkerjohnsonbeard@gmail.com|parkerjohnsonbeard@gmail.com> asking how his work is going'), type='text')], created_at=1724284627, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_2Q3SVAanmuUdC610ODOZmzYY'), Message(id='msg_Tc887wSN025JIvIItGzH0GhM', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724284629, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_MmQfEQ3Z5KZxtSKsELUAG1Lj', status=None, thread_id='thread_2Q3SVAanmuUdC610ODOZmzYY')], object='list', first_id='msg_4PbxDHgyqSvtmIyWHU7ZR7rF', last_id='msg_Tc887wSN025JIvIItGzH0GhM', has_more=False)
2024-08-21 16:57:10,317 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 16:57:10,317 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_MmQfEQ3Z5KZxtSKsELUAG1Lj
2024-08-21 16:57:10,317 - slack_ai_assistant - INFO - Selected assistant: GmailAssistant
2024-08-21 16:57:19,409 - slack_ai_assistant - DEBUG - Executing function: send_email with parameters: {'to': 'parkerjohnsonbeard@gmail.com', 'subject': 'Checking In On Your Work Progress', 'body': "Hi Parker,\n\nI hope this message finds you well. I wanted to check in and see how your work is going. Let me know if everything is on track or if there's anything you need help with.\n\nLooking forward to hearing from you.\n\nBest,\n\n[Your Name]"}
2024-08-21 16:57:19,409 - slack_ai_assistant - DEBUG - GmailIntegration executing function: send_email with params: {'to': 'parkerjohnsonbeard@gmail.com', 'subject': 'Checking In On Your Work Progress', 'body': "Hi Parker,\n\nI hope this message finds you well. I wanted to check in and see how your work is going. Let me know if everything is on track or if there's anything you need help with.\n\nLooking forward to hearing from you.\n\nBest,\n\n[Your Name]"}
2024-08-21 16:57:19,410 - slack_ai_assistant - DEBUG - Structured JSON for email: {'to': 'parkerjohnsonbeard@gmail.com', 'subject': 'Checking In On Your Work Progress', 'body': "Hi Parker,\n\nI hope this message finds you well. I wanted to check in and see how your work is going. Let me know if everything is on track or if there's anything you need help with.\n\nLooking forward to hearing from you.\n\nBest,\n\n[Your Name]"}
2024-08-21 16:57:22,037 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_JA4nE1SPJMNcfVlASo0Jxhnt', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='send an email to <mailto:parkerjohnsonbeard@gmail.com|parkerjohnsonbeard@gmail.com> asking how his work is going'), type='text')], created_at=1724284630, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_YfH3QdjXm8kFnbsfkYbRUuwa'), Message(id='msg_bgV7N280uxQlbWFKyZDKceoh', assistant_id='asst_ig3DY9RgboOKNACsSM5nwXC3', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="I've sent the email to Parker asking about his work. If you need any further assistance, just let me know!"), type='text')], created_at=1724284641, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_6ZDEwk3FY8JtxH1fghD68W1q', status=None, thread_id='thread_YfH3QdjXm8kFnbsfkYbRUuwa')], object='list', first_id='msg_JA4nE1SPJMNcfVlASo0Jxhnt', last_id='msg_bgV7N280uxQlbWFKyZDKceoh', has_more=False)
2024-08-21 16:57:22,037 - slack_ai_assistant - DEBUG - Messages: SyncCursorPage[Message](data=[Message(id='msg_JA4nE1SPJMNcfVlASo0Jxhnt', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='send an email to <mailto:parkerjohnsonbeard@gmail.com|parkerjohnsonbeard@gmail.com> asking how his work is going'), type='text')], created_at=1724284630, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_YfH3QdjXm8kFnbsfkYbRUuwa'), Message(id='msg_bgV7N280uxQlbWFKyZDKceoh', assistant_id='asst_ig3DY9RgboOKNACsSM5nwXC3', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="I've sent the email to Parker asking about his work. If you need any further assistance, just let me know!"), type='text')], created_at=1724284641, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_6ZDEwk3FY8JtxH1fghD68W1q', status=None, thread_id='thread_YfH3QdjXm8kFnbsfkYbRUuwa')], object='list', first_id='msg_JA4nE1SPJMNcfVlASo0Jxhnt', last_id='msg_bgV7N280uxQlbWFKyZDKceoh', has_more=False)
2024-08-21 16:57:22,037 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 16:57:22,037 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_6ZDEwk3FY8JtxH1fghD68W1q
2024-08-21 16:57:22,038 - slack_ai_assistant - DEBUG - Dispatch result: {'thread_id': 'thread_YfH3QdjXm8kFnbsfkYbRUuwa', 'run_id': 'run_6ZDEwk3FY8JtxH1fghD68W1q', 'assistant_response': "I've sent the email to Parker asking about his work. If you need any further assistance, just let me know!"}
2024-08-21 16:57:22,038 - slack_ai_assistant - DEBUG - Thread ID: thread_YfH3QdjXm8kFnbsfkYbRUuwa, Run ID: run_6ZDEwk3FY8JtxH1fghD68W1q
2024-08-21 16:57:22,038 - slack_ai_assistant - DEBUG - Function outputs: None
2024-08-21 16:57:22,038 - slack_ai_assistant - DEBUG - Assistant response: I've sent the email to Parker asking about his work. If you need any further assistance, just let me know!
2024-08-21 16:57:22,038 - slack_ai_assistant - DEBUG - Sending assistant response: I've sent the email to Parker asking about his work. If you need any further assistance, just let me know!
2024-08-21 16:57:22,038 - slack_ai_assistant - DEBUG - Sending Slack response - Channel: C07A869GUDT, Response: I've sent the email to Parker asking about his work. If you need any further assistance, just let me know!
2024-08-21 16:57:24,843 - slack_ai_assistant - DEBUG - Formatted Slack message: {'channel': 'C07A869GUDT', 'text': 'Email sent to Parker about his work', 'blocks': [{'type': 'section', 'text': {'type': 'mrkdwn', 'text': "I've sent the email to *Parker* asking about his work."}}, {'type': 'divider'}, {'type': 'section', 'text': {'type': 'mrkdwn', 'text': 'If you need any further assistance, just let me know!'}}, {'type': 'divider'}, {'type': 'context', 'elements': [{'type': 'mrkdwn', 'text': 'For any follow-up questions or clarification, feel free to reach out.'}]}]}
2024-08-21 16:58:05,661 - slack_ai_assistant - DEBUG - Received message event: {'user': 'U079WGB6T0X', 'type': 'message', 'ts': '1724284685.357159', 'client_msg_id': 'fd989365-c531-489c-82a0-8e8aaf5cd1e7', 'text': 'send an email to <mailto:abeard@wavestrategies.com|abeard@wavestrategies.com> telling him that this email was sent from his slackbot called "BeardoGPT" and it wrote this email not me', 'team': 'T07APNY0M4Z', 'blocks': [{'type': 'rich_text', 'block_id': 'w9zrb', 'elements': [{'type': 'rich_text_section', 'elements': [{'type': 'text', 'text': 'send an email to '}, {'type': 'link', 'url': 'mailto:abeard@wavestrategies.com', 'text': 'abeard@wavestrategies.com'}, {'type': 'text', 'text': ' telling him that this email was sent from his slackbot called "BeardoGPT" and it wrote this email not me'}]}]}], 'channel': 'C07A869GUDT', 'event_ts': '1724284685.357159', 'channel_type': 'channel'}
2024-08-21 16:58:05,662 - slack_ai_assistant - DEBUG - Processing message event - Text: send an email to <mailto:abeard@wavestrategies.com|abeard@wavestrategies.com> telling him that this email was sent from his slackbot called "BeardoGPT" and it wrote this email not me, User: U079WGB6T0X, Channel: C07A869GUDT
2024-08-21 16:58:06,893 - slack_ai_assistant - DEBUG - Dispatching message
2024-08-21 16:58:06,893 - slack_ai_assistant - INFO - Starting dispatch for user input: send an email to <mailto:abeard@wavestrategies.com|abeard@wavestrategies.com> telling him that this email was sent from his slackbot called "beardogpt" and it wrote this email not me
2024-08-21 16:58:17,610 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_0QQD6E5IFGikWiqana2wUpdA', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='send an email to <mailto:abeard@wavestrategies.com|abeard@wavestrategies.com> telling him that this email was sent from his slackbot called "beardogpt" and it wrote this email not me'), type='text')], created_at=1724284687, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_2Q3SVAanmuUdC610ODOZmzYY'), Message(id='msg_Tc887wSN025JIvIItGzH0GhM', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724284629, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_MmQfEQ3Z5KZxtSKsELUAG1Lj', status=None, thread_id='thread_2Q3SVAanmuUdC610ODOZmzYY'), Message(id='msg_4PbxDHgyqSvtmIyWHU7ZR7rF', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='send an email to <mailto:parkerjohnsonbeard@gmail.com|parkerjohnsonbeard@gmail.com> asking how his work is going'), type='text')], created_at=1724284627, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_2Q3SVAanmuUdC610ODOZmzYY')], object='list', first_id='msg_0QQD6E5IFGikWiqana2wUpdA', last_id='msg_4PbxDHgyqSvtmIyWHU7ZR7rF', has_more=False)
2024-08-21 16:58:19,154 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_4PbxDHgyqSvtmIyWHU7ZR7rF', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='send an email to <mailto:parkerjohnsonbeard@gmail.com|parkerjohnsonbeard@gmail.com> asking how his work is going'), type='text')], created_at=1724284627, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_2Q3SVAanmuUdC610ODOZmzYY'), Message(id='msg_Tc887wSN025JIvIItGzH0GhM', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724284629, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_MmQfEQ3Z5KZxtSKsELUAG1Lj', status=None, thread_id='thread_2Q3SVAanmuUdC610ODOZmzYY'), Message(id='msg_0QQD6E5IFGikWiqana2wUpdA', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='send an email to <mailto:abeard@wavestrategies.com|abeard@wavestrategies.com> telling him that this email was sent from his slackbot called "beardogpt" and it wrote this email not me'), type='text')], created_at=1724284687, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_2Q3SVAanmuUdC610ODOZmzYY'), Message(id='msg_MUqcfRSol7ekLqAkQQfym4os', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724284698, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_0KnbapR55Fw95bPu7KZY6xJz', status=None, thread_id='thread_2Q3SVAanmuUdC610ODOZmzYY')], object='list', first_id='msg_4PbxDHgyqSvtmIyWHU7ZR7rF', last_id='msg_MUqcfRSol7ekLqAkQQfym4os', has_more=False)
2024-08-21 16:58:19,155 - slack_ai_assistant - DEBUG - Messages: SyncCursorPage[Message](data=[Message(id='msg_4PbxDHgyqSvtmIyWHU7ZR7rF', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='send an email to <mailto:parkerjohnsonbeard@gmail.com|parkerjohnsonbeard@gmail.com> asking how his work is going'), type='text')], created_at=1724284627, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_2Q3SVAanmuUdC610ODOZmzYY'), Message(id='msg_Tc887wSN025JIvIItGzH0GhM', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724284629, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_MmQfEQ3Z5KZxtSKsELUAG1Lj', status=None, thread_id='thread_2Q3SVAanmuUdC610ODOZmzYY'), Message(id='msg_0QQD6E5IFGikWiqana2wUpdA', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='send an email to <mailto:abeard@wavestrategies.com|abeard@wavestrategies.com> telling him that this email was sent from his slackbot called "beardogpt" and it wrote this email not me'), type='text')], created_at=1724284687, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_2Q3SVAanmuUdC610ODOZmzYY'), Message(id='msg_MUqcfRSol7ekLqAkQQfym4os', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724284698, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_0KnbapR55Fw95bPu7KZY6xJz', status=None, thread_id='thread_2Q3SVAanmuUdC610ODOZmzYY')], object='list', first_id='msg_4PbxDHgyqSvtmIyWHU7ZR7rF', last_id='msg_MUqcfRSol7ekLqAkQQfym4os', has_more=False)
2024-08-21 16:58:19,156 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 16:58:19,156 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_MmQfEQ3Z5KZxtSKsELUAG1Lj
2024-08-21 16:58:19,156 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 16:58:19,156 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_0KnbapR55Fw95bPu7KZY6xJz
2024-08-21 16:58:19,156 - slack_ai_assistant - INFO - Selected assistant: GmailAssistant
2024-08-21 16:58:19,273 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_bgV7N280uxQlbWFKyZDKceoh', assistant_id='asst_ig3DY9RgboOKNACsSM5nwXC3', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="I've sent the email to Parker asking about his work. If you need any further assistance, just let me know!"), type='text')], created_at=1724284641, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_6ZDEwk3FY8JtxH1fghD68W1q', status=None, thread_id='thread_YfH3QdjXm8kFnbsfkYbRUuwa'), Message(id='msg_JA4nE1SPJMNcfVlASo0Jxhnt', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='send an email to <mailto:parkerjohnsonbeard@gmail.com|parkerjohnsonbeard@gmail.com> asking how his work is going'), type='text')], created_at=1724284630, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_YfH3QdjXm8kFnbsfkYbRUuwa')], object='list', first_id='msg_bgV7N280uxQlbWFKyZDKceoh', last_id='msg_JA4nE1SPJMNcfVlASo0Jxhnt', has_more=False)
2024-08-21 16:58:23,459 - slack_ai_assistant - DEBUG - Executing function: send_email with parameters: {'to': 'abeard@wavestrategies.com', 'subject': 'Notification from Your Slackbot "Beardogpt"', 'body': 'Hello,\n\nI just wanted to inform you that this email was sent from your Slackbot called "beardogpt". It crafted this message on its own and not me.\n\nBest regards,'}
2024-08-21 16:58:23,460 - slack_ai_assistant - DEBUG - GmailIntegration executing function: send_email with params: {'to': 'abeard@wavestrategies.com', 'subject': 'Notification from Your Slackbot "Beardogpt"', 'body': 'Hello,\n\nI just wanted to inform you that this email was sent from your Slackbot called "beardogpt". It crafted this message on its own and not me.\n\nBest regards,'}
2024-08-21 16:58:23,460 - slack_ai_assistant - DEBUG - Structured JSON for email: {'to': 'abeard@wavestrategies.com', 'subject': 'Notification from Your Slackbot "Beardogpt"', 'body': 'Hello,\n\nI just wanted to inform you that this email was sent from your Slackbot called "beardogpt". It crafted this message on its own and not me.\n\nBest regards,'}
2024-08-21 16:58:26,591 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_JA4nE1SPJMNcfVlASo0Jxhnt', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='send an email to <mailto:parkerjohnsonbeard@gmail.com|parkerjohnsonbeard@gmail.com> asking how his work is going'), type='text')], created_at=1724284630, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_YfH3QdjXm8kFnbsfkYbRUuwa'), Message(id='msg_bgV7N280uxQlbWFKyZDKceoh', assistant_id='asst_ig3DY9RgboOKNACsSM5nwXC3', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="I've sent the email to Parker asking about his work. If you need any further assistance, just let me know!"), type='text')], created_at=1724284641, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_6ZDEwk3FY8JtxH1fghD68W1q', status=None, thread_id='thread_YfH3QdjXm8kFnbsfkYbRUuwa'), Message(id='msg_96Q4kBLrq9x8fUjLxTzHqtmd', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='send an email to <mailto:abeard@wavestrategies.com|abeard@wavestrategies.com> telling him that this email was sent from his slackbot called "beardogpt" and it wrote this email not me'), type='text')], created_at=1724284700, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_YfH3QdjXm8kFnbsfkYbRUuwa'), Message(id='msg_fbTW7mKbCW2noROWe1SMzjAl', assistant_id='asst_ig3DY9RgboOKNACsSM5nwXC3', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='I\'ve sent the email to Abe informing him that it was sent by the Slackbot "beardogpt." If you need anything else, feel free to ask!'), type='text')], created_at=1724284704, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_itAq2TRg5tHtApAeewy5tDLx', status=None, thread_id='thread_YfH3QdjXm8kFnbsfkYbRUuwa')], object='list', first_id='msg_JA4nE1SPJMNcfVlASo0Jxhnt', last_id='msg_fbTW7mKbCW2noROWe1SMzjAl', has_more=False)
2024-08-21 16:58:26,591 - slack_ai_assistant - DEBUG - Messages: SyncCursorPage[Message](data=[Message(id='msg_JA4nE1SPJMNcfVlASo0Jxhnt', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='send an email to <mailto:parkerjohnsonbeard@gmail.com|parkerjohnsonbeard@gmail.com> asking how his work is going'), type='text')], created_at=1724284630, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_YfH3QdjXm8kFnbsfkYbRUuwa'), Message(id='msg_bgV7N280uxQlbWFKyZDKceoh', assistant_id='asst_ig3DY9RgboOKNACsSM5nwXC3', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="I've sent the email to Parker asking about his work. If you need any further assistance, just let me know!"), type='text')], created_at=1724284641, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_6ZDEwk3FY8JtxH1fghD68W1q', status=None, thread_id='thread_YfH3QdjXm8kFnbsfkYbRUuwa'), Message(id='msg_96Q4kBLrq9x8fUjLxTzHqtmd', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='send an email to <mailto:abeard@wavestrategies.com|abeard@wavestrategies.com> telling him that this email was sent from his slackbot called "beardogpt" and it wrote this email not me'), type='text')], created_at=1724284700, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_YfH3QdjXm8kFnbsfkYbRUuwa'), Message(id='msg_fbTW7mKbCW2noROWe1SMzjAl', assistant_id='asst_ig3DY9RgboOKNACsSM5nwXC3', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='I\'ve sent the email to Abe informing him that it was sent by the Slackbot "beardogpt." If you need anything else, feel free to ask!'), type='text')], created_at=1724284704, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_itAq2TRg5tHtApAeewy5tDLx', status=None, thread_id='thread_YfH3QdjXm8kFnbsfkYbRUuwa')], object='list', first_id='msg_JA4nE1SPJMNcfVlASo0Jxhnt', last_id='msg_fbTW7mKbCW2noROWe1SMzjAl', has_more=False)
2024-08-21 16:58:26,592 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 16:58:26,592 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_6ZDEwk3FY8JtxH1fghD68W1q
2024-08-21 16:58:26,592 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 16:58:26,592 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_itAq2TRg5tHtApAeewy5tDLx
2024-08-21 16:58:26,592 - slack_ai_assistant - DEBUG - Dispatch result: {'thread_id': 'thread_YfH3QdjXm8kFnbsfkYbRUuwa', 'run_id': 'run_itAq2TRg5tHtApAeewy5tDLx', 'assistant_response': 'I\'ve sent the email to Abe informing him that it was sent by the Slackbot "beardogpt." If you need anything else, feel free to ask!'}
2024-08-21 16:58:26,592 - slack_ai_assistant - DEBUG - Thread ID: thread_YfH3QdjXm8kFnbsfkYbRUuwa, Run ID: run_itAq2TRg5tHtApAeewy5tDLx
2024-08-21 16:58:26,592 - slack_ai_assistant - DEBUG - Function outputs: None
2024-08-21 16:58:26,592 - slack_ai_assistant - DEBUG - Assistant response: I've sent the email to Abe informing him that it was sent by the Slackbot "beardogpt." If you need anything else, feel free to ask!
2024-08-21 16:58:26,592 - slack_ai_assistant - DEBUG - Sending assistant response: I've sent the email to Abe informing him that it was sent by the Slackbot "beardogpt." If you need anything else, feel free to ask!
2024-08-21 16:58:26,593 - slack_ai_assistant - DEBUG - Sending Slack response - Channel: C07A869GUDT, Response: I've sent the email to Abe informing him that it was sent by the Slackbot "beardogpt." If you need anything else, feel free to ask!
2024-08-21 16:58:29,564 - slack_ai_assistant - DEBUG - Formatted Slack message: {'channel': 'C07A869GUDT', 'text': 'Email notification sent to Abe.', 'blocks': [{'type': 'section', 'text': {'type': 'mrkdwn', 'text': "I've sent the email to *Abe* informing him that it was sent by the Slackbot *beardogpt.*"}}, {'type': 'divider'}, {'type': 'section', 'text': {'type': 'mrkdwn', 'text': 'If you need anything else, feel free to ask!'}}, {'type': 'divider'}, {'type': 'context', 'elements': [{'type': 'mrkdwn', 'text': 'Message sent via Slackbot'}]}]}
2024-08-21 17:03:31,756 - slack_ai_assistant - DEBUG - Script started
2024-08-21 17:03:31,757 - slack_ai_assistant - DEBUG - Starting main function
2024-08-21 17:03:31,757 - slack_ai_assistant - DEBUG - Starting flight_search_test
2024-08-21 17:03:31,758 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 17:03:31,758 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 17:03:32,251 - slack_ai_assistant - DEBUG - Updated TravelAssistant with new tools and instructions
2024-08-21 17:07:36,118 - slack_ai_assistant - DEBUG - Script started
2024-08-21 17:07:36,119 - slack_ai_assistant - DEBUG - Starting main function
2024-08-21 17:07:36,119 - slack_ai_assistant - DEBUG - Starting flight_search_test
2024-08-21 17:07:36,119 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 17:07:36,119 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 17:07:36,886 - slack_ai_assistant - DEBUG - Updated TravelAssistant with new tools and instructions
2024-08-21 17:07:49,882 - slack_ai_assistant - DEBUG - Script started
2024-08-21 17:07:49,883 - slack_ai_assistant - DEBUG - Starting main function
2024-08-21 17:07:49,883 - slack_ai_assistant - DEBUG - Starting gmail_integration_test
2024-08-21 17:07:49,883 - slack_ai_assistant - DEBUG - Initializing Google authentication...
2024-08-21 17:07:49,886 - slack_ai_assistant - INFO - Google authentication initialized successfully
2024-08-21 17:07:49,886 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 17:07:49,886 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 17:07:50,375 - slack_ai_assistant - DEBUG - Updated TravelAssistant with new tools and instructions
2024-08-21 17:07:50,588 - slack_ai_assistant - DEBUG - Updated CalendarAssistant with new tools and instructions
2024-08-21 17:07:50,786 - slack_ai_assistant - DEBUG - Updated GmailAssistant with new tools and instructions
2024-08-21 17:07:50,786 - slack_ai_assistant - DEBUG - Assistants update completed
2024-08-21 17:07:50,786 - slack_ai_assistant - DEBUG - Initializing components...
2024-08-21 17:07:50,799 - slack_ai_assistant - DEBUG - Components initialized in 0.91 seconds
2024-08-21 17:07:50,799 - slack_ai_assistant - DEBUG - 
Processing test case 1: Send Email...
2024-08-21 17:07:50,799 - slack_ai_assistant - DEBUG - Processing message event - Text: send an email to parkerjohnsonbeard@gmail.com asking how his work is going.', User: U123456, Channel: C789012
2024-08-21 17:07:51,377 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'm looking into that for you.", 'channel': 'C789012'}
2024-08-21 17:07:51,378 - slack_ai_assistant - DEBUG - Dispatching message
2024-08-21 17:07:51,378 - slack_ai_assistant - INFO - Starting dispatch for user input: send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'
2024-08-21 17:07:52,096 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_8RWWoUz2cDWdU58g3636oyIr', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724285272, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_OrHYKFRXL4g7uEuoKG7Jqmq7')], object='list', first_id='msg_8RWWoUz2cDWdU58g3636oyIr', last_id='msg_8RWWoUz2cDWdU58g3636oyIr', has_more=False)
2024-08-21 17:07:54,490 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_8RWWoUz2cDWdU58g3636oyIr', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724285272, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_OrHYKFRXL4g7uEuoKG7Jqmq7'), Message(id='msg_qF8FDpu0IfPiVou6yodLrUMh', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724285273, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_Mm7VZyNHzn430hwYWXfpfoPd', status=None, thread_id='thread_OrHYKFRXL4g7uEuoKG7Jqmq7')], object='list', first_id='msg_8RWWoUz2cDWdU58g3636oyIr', last_id='msg_qF8FDpu0IfPiVou6yodLrUMh', has_more=False)
2024-08-21 17:07:54,490 - slack_ai_assistant - DEBUG - Messages: SyncCursorPage[Message](data=[Message(id='msg_8RWWoUz2cDWdU58g3636oyIr', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="send an email to parkerjohnsonbeard@gmail.com asking how his work is going.'"), type='text')], created_at=1724285272, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_OrHYKFRXL4g7uEuoKG7Jqmq7'), Message(id='msg_qF8FDpu0IfPiVou6yodLrUMh', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='email'), type='text')], created_at=1724285273, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_Mm7VZyNHzn430hwYWXfpfoPd', status=None, thread_id='thread_OrHYKFRXL4g7uEuoKG7Jqmq7')], object='list', first_id='msg_8RWWoUz2cDWdU58g3636oyIr', last_id='msg_qF8FDpu0IfPiVou6yodLrUMh', has_more=False)
2024-08-21 17:07:54,490 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 17:07:54,491 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_Mm7VZyNHzn430hwYWXfpfoPd
2024-08-21 17:07:54,491 - slack_ai_assistant - INFO - Selected assistant: GmailAssistant
2024-08-21 17:10:37,601 - slack_ai_assistant - DEBUG - Script started
2024-08-21 17:10:37,602 - slack_ai_assistant - DEBUG - Starting main function
2024-08-21 17:10:37,602 - slack_ai_assistant - DEBUG - Starting flight_search_test
2024-08-21 17:10:37,602 - slack_ai_assistant - DEBUG - Initializing Google authentication...
2024-08-21 17:10:37,603 - slack_ai_assistant - INFO - Google authentication initialized successfully
2024-08-21 17:10:37,604 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 17:10:37,604 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 17:10:38,151 - slack_ai_assistant - DEBUG - Updated TravelAssistant with new tools and instructions
2024-08-21 17:10:38,407 - slack_ai_assistant - DEBUG - Updated CalendarAssistant with new tools and instructions
2024-08-21 17:10:38,613 - slack_ai_assistant - DEBUG - Updated GmailAssistant with new tools and instructions
2024-08-21 17:10:38,613 - slack_ai_assistant - DEBUG - Assistants update completed
2024-08-21 17:10:38,613 - slack_ai_assistant - DEBUG - Initializing components...
2024-08-21 17:10:38,651 - slack_ai_assistant - DEBUG - Components initialized in 1.05 seconds
2024-08-21 17:10:38,651 - slack_ai_assistant - DEBUG - 
Processing test case 1: Search Flights...
2024-08-21 17:10:38,652 - slack_ai_assistant - DEBUG - Processing message event - Text: find me a flight from New York to Los Angeles on July 15th, User: U123456, Channel: C789012
2024-08-21 17:10:39,088 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': 'Let me gather that information for you.', 'channel': 'C789012'}
2024-08-21 17:10:39,088 - slack_ai_assistant - DEBUG - Dispatching message
2024-08-21 17:10:39,088 - slack_ai_assistant - INFO - Starting dispatch for user input: find me a flight from new york to los angeles on july 15th
2024-08-21 17:10:39,961 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_eQLeKtQq4gmcTp7eAF4VO4xg', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='find me a flight from new york to los angeles on july 15th'), type='text')], created_at=1724285439, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_CiFd4qItILCiMSKeRGdBQ3Dt')], object='list', first_id='msg_eQLeKtQq4gmcTp7eAF4VO4xg', last_id='msg_eQLeKtQq4gmcTp7eAF4VO4xg', has_more=False)
2024-08-21 17:10:42,355 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_eQLeKtQq4gmcTp7eAF4VO4xg', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='find me a flight from new york to los angeles on july 15th'), type='text')], created_at=1724285439, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_CiFd4qItILCiMSKeRGdBQ3Dt'), Message(id='msg_Wcw1fy1rjuQ9iQ9zTOfKHdzS', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='travel'), type='text')], created_at=1724285441, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_wuPAd74G1l95saEWzIJeZM91', status=None, thread_id='thread_CiFd4qItILCiMSKeRGdBQ3Dt')], object='list', first_id='msg_eQLeKtQq4gmcTp7eAF4VO4xg', last_id='msg_Wcw1fy1rjuQ9iQ9zTOfKHdzS', has_more=False)
2024-08-21 17:10:42,356 - slack_ai_assistant - DEBUG - Messages: SyncCursorPage[Message](data=[Message(id='msg_eQLeKtQq4gmcTp7eAF4VO4xg', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='find me a flight from new york to los angeles on july 15th'), type='text')], created_at=1724285439, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_CiFd4qItILCiMSKeRGdBQ3Dt'), Message(id='msg_Wcw1fy1rjuQ9iQ9zTOfKHdzS', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='travel'), type='text')], created_at=1724285441, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_wuPAd74G1l95saEWzIJeZM91', status=None, thread_id='thread_CiFd4qItILCiMSKeRGdBQ3Dt')], object='list', first_id='msg_eQLeKtQq4gmcTp7eAF4VO4xg', last_id='msg_Wcw1fy1rjuQ9iQ9zTOfKHdzS', has_more=False)
2024-08-21 17:10:42,356 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 17:10:42,356 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_wuPAd74G1l95saEWzIJeZM91
2024-08-21 17:10:42,356 - slack_ai_assistant - INFO - Selected assistant: TravelAssistant
2024-08-21 17:10:45,275 - slack_ai_assistant - DEBUG - Executing function: search_flights with parameters: {'origin': 'JFK', 'destination': 'LAX', 'date': 'July 15th'}
2024-08-21 17:10:45,275 - slack_ai_assistant - DEBUG - TravelIntegration executing function: search_flights with params: {'origin': 'JFK', 'destination': 'LAX', 'date': 'July 15th'}
2024-08-21 17:10:47,413 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_TlkGNHjm1NlaDPmBFEgXbN9A', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='find me a flight from new york to los angeles on july 15th'), type='text')], created_at=1724285442, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_H3KI8GUrilCUs8UzPfIDXTuH'), Message(id='msg_g1dmdddwX18srDhlvd8mzKSJ', assistant_id='asst_LchyTrJxoG8J8nvNUnyfVkeU', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='I apologize for the oversight. Please provide me with the return date as well for the flight search from New York to Los Angeles on July 15th.'), type='text')], created_at=1724285446, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_MPguQwgFPhqxGxglaD5kHLCj', status=None, thread_id='thread_H3KI8GUrilCUs8UzPfIDXTuH')], object='list', first_id='msg_TlkGNHjm1NlaDPmBFEgXbN9A', last_id='msg_g1dmdddwX18srDhlvd8mzKSJ', has_more=False)
2024-08-21 17:10:47,413 - slack_ai_assistant - DEBUG - Messages: SyncCursorPage[Message](data=[Message(id='msg_TlkGNHjm1NlaDPmBFEgXbN9A', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='find me a flight from new york to los angeles on july 15th'), type='text')], created_at=1724285442, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_H3KI8GUrilCUs8UzPfIDXTuH'), Message(id='msg_g1dmdddwX18srDhlvd8mzKSJ', assistant_id='asst_LchyTrJxoG8J8nvNUnyfVkeU', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='I apologize for the oversight. Please provide me with the return date as well for the flight search from New York to Los Angeles on July 15th.'), type='text')], created_at=1724285446, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_MPguQwgFPhqxGxglaD5kHLCj', status=None, thread_id='thread_H3KI8GUrilCUs8UzPfIDXTuH')], object='list', first_id='msg_TlkGNHjm1NlaDPmBFEgXbN9A', last_id='msg_g1dmdddwX18srDhlvd8mzKSJ', has_more=False)
2024-08-21 17:10:47,414 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 17:10:47,414 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_MPguQwgFPhqxGxglaD5kHLCj
2024-08-21 17:10:47,414 - slack_ai_assistant - DEBUG - Dispatch result: {'thread_id': 'thread_H3KI8GUrilCUs8UzPfIDXTuH', 'run_id': 'run_MPguQwgFPhqxGxglaD5kHLCj', 'assistant_response': 'I apologize for the oversight. Please provide me with the return date as well for the flight search from New York to Los Angeles on July 15th.'}
2024-08-21 17:10:47,414 - slack_ai_assistant - DEBUG - Thread ID: thread_H3KI8GUrilCUs8UzPfIDXTuH, Run ID: run_MPguQwgFPhqxGxglaD5kHLCj
2024-08-21 17:10:47,414 - slack_ai_assistant - DEBUG - Function outputs: None
2024-08-21 17:10:47,415 - slack_ai_assistant - DEBUG - Assistant response: I apologize for the oversight. Please provide me with the return date as well for the flight search from New York to Los Angeles on July 15th.
2024-08-21 17:10:47,415 - slack_ai_assistant - DEBUG - Sending assistant response: I apologize for the oversight. Please provide me with the return date as well for the flight search from New York to Los Angeles on July 15th.
2024-08-21 17:10:47,415 - slack_ai_assistant - DEBUG - Sending Slack response - Channel: C789012, Response: I apologize for the oversight. Please provide me with the return date as well for the flight search from New York to Los Angeles on July 15th.
2024-08-21 17:10:49,020 - slack_ai_assistant - DEBUG - Formatted Slack message: {'channel': 'C789012', 'text': 'Request for return date for flight search from New York to Los Angeles.', 'blocks': [{'type': 'section', 'text': {'type': 'mrkdwn', 'text': 'I apologize for the oversight. Please provide me with the return date as well for the flight search from *New York* to *Los Angeles* on *July 15th*.'}}, {'type': 'divider'}, {'type': 'context', 'elements': [{'type': 'mrkdwn', 'text': 'Looking forward to receiving the details.'}]}]}
2024-08-21 17:10:49,021 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'channel': 'C789012', 'text': 'Request for return date for flight search from New York to Los Angeles.', 'blocks': [{'type': 'section', 'text': {'type': 'mrkdwn', 'text': 'I apologize for the oversight. Please provide me with the return date as well for the flight search from *New York* to *Los Angeles* on *July 15th*.'}}, {'type': 'divider'}, {'type': 'context', 'elements': [{'type': 'mrkdwn', 'text': 'Looking forward to receiving the details.'}]}]}
2024-08-21 17:10:49,021 - slack_ai_assistant - DEBUG - Test case 1 processed in 10.37 seconds
2024-08-21 17:10:49,021 - slack_ai_assistant - DEBUG - Result: None
2024-08-21 17:10:49,021 - slack_ai_assistant - DEBUG - 
Processing test case 2: Search Hotels...
2024-08-21 17:10:49,021 - slack_ai_assistant - DEBUG - Processing message event - Text: book a hotel in San Francisco from August 1st to August 5th for 2 people, User: U123456, Channel: C789012
2024-08-21 17:10:50,010 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'm looking into that for you.", 'channel': 'C789012'}
2024-08-21 17:10:50,011 - slack_ai_assistant - DEBUG - Dispatching message
2024-08-21 17:10:50,011 - slack_ai_assistant - INFO - Starting dispatch for user input: book a hotel in san francisco from august 1st to august 5th for 2 people
2024-08-21 17:10:50,328 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_tfEovLHIS7HuOl2q1Zxcoc0T', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='book a hotel in san francisco from august 1st to august 5th for 2 people'), type='text')], created_at=1724285450, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_CiFd4qItILCiMSKeRGdBQ3Dt'), Message(id='msg_Wcw1fy1rjuQ9iQ9zTOfKHdzS', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='travel'), type='text')], created_at=1724285441, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_wuPAd74G1l95saEWzIJeZM91', status=None, thread_id='thread_CiFd4qItILCiMSKeRGdBQ3Dt'), Message(id='msg_eQLeKtQq4gmcTp7eAF4VO4xg', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='find me a flight from new york to los angeles on july 15th'), type='text')], created_at=1724285439, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_CiFd4qItILCiMSKeRGdBQ3Dt')], object='list', first_id='msg_tfEovLHIS7HuOl2q1Zxcoc0T', last_id='msg_eQLeKtQq4gmcTp7eAF4VO4xg', has_more=False)
2024-08-21 17:10:52,917 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_eQLeKtQq4gmcTp7eAF4VO4xg', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='find me a flight from new york to los angeles on july 15th'), type='text')], created_at=1724285439, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_CiFd4qItILCiMSKeRGdBQ3Dt'), Message(id='msg_Wcw1fy1rjuQ9iQ9zTOfKHdzS', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='travel'), type='text')], created_at=1724285441, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_wuPAd74G1l95saEWzIJeZM91', status=None, thread_id='thread_CiFd4qItILCiMSKeRGdBQ3Dt'), Message(id='msg_tfEovLHIS7HuOl2q1Zxcoc0T', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='book a hotel in san francisco from august 1st to august 5th for 2 people'), type='text')], created_at=1724285450, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_CiFd4qItILCiMSKeRGdBQ3Dt'), Message(id='msg_VR0WIkjRw6XbesZ941td532h', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='travel'), type='text')], created_at=1724285452, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_L4IV7MQ0CHZ7Ljir7YXoDPcB', status=None, thread_id='thread_CiFd4qItILCiMSKeRGdBQ3Dt')], object='list', first_id='msg_eQLeKtQq4gmcTp7eAF4VO4xg', last_id='msg_VR0WIkjRw6XbesZ941td532h', has_more=False)
2024-08-21 17:10:52,918 - slack_ai_assistant - DEBUG - Messages: SyncCursorPage[Message](data=[Message(id='msg_eQLeKtQq4gmcTp7eAF4VO4xg', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='find me a flight from new york to los angeles on july 15th'), type='text')], created_at=1724285439, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_CiFd4qItILCiMSKeRGdBQ3Dt'), Message(id='msg_Wcw1fy1rjuQ9iQ9zTOfKHdzS', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='travel'), type='text')], created_at=1724285441, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_wuPAd74G1l95saEWzIJeZM91', status=None, thread_id='thread_CiFd4qItILCiMSKeRGdBQ3Dt'), Message(id='msg_tfEovLHIS7HuOl2q1Zxcoc0T', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='book a hotel in san francisco from august 1st to august 5th for 2 people'), type='text')], created_at=1724285450, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_CiFd4qItILCiMSKeRGdBQ3Dt'), Message(id='msg_VR0WIkjRw6XbesZ941td532h', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='travel'), type='text')], created_at=1724285452, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_L4IV7MQ0CHZ7Ljir7YXoDPcB', status=None, thread_id='thread_CiFd4qItILCiMSKeRGdBQ3Dt')], object='list', first_id='msg_eQLeKtQq4gmcTp7eAF4VO4xg', last_id='msg_VR0WIkjRw6XbesZ941td532h', has_more=False)
2024-08-21 17:10:52,918 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 17:10:52,918 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_wuPAd74G1l95saEWzIJeZM91
2024-08-21 17:10:52,918 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 17:10:52,918 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_L4IV7MQ0CHZ7Ljir7YXoDPcB
2024-08-21 17:10:52,918 - slack_ai_assistant - INFO - Selected assistant: TravelAssistant
2024-08-21 17:10:53,145 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_g1dmdddwX18srDhlvd8mzKSJ', assistant_id='asst_LchyTrJxoG8J8nvNUnyfVkeU', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='I apologize for the oversight. Please provide me with the return date as well for the flight search from New York to Los Angeles on July 15th.'), type='text')], created_at=1724285446, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_MPguQwgFPhqxGxglaD5kHLCj', status=None, thread_id='thread_H3KI8GUrilCUs8UzPfIDXTuH'), Message(id='msg_TlkGNHjm1NlaDPmBFEgXbN9A', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='find me a flight from new york to los angeles on july 15th'), type='text')], created_at=1724285442, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_H3KI8GUrilCUs8UzPfIDXTuH')], object='list', first_id='msg_g1dmdddwX18srDhlvd8mzKSJ', last_id='msg_TlkGNHjm1NlaDPmBFEgXbN9A', has_more=False)
2024-08-21 17:10:56,133 - slack_ai_assistant - DEBUG - Executing function: search_hotels with parameters: {}
2024-08-21 17:10:56,134 - slack_ai_assistant - DEBUG - TravelIntegration executing function: search_hotels with params: {}
2024-08-21 17:10:59,155 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_TlkGNHjm1NlaDPmBFEgXbN9A', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='find me a flight from new york to los angeles on july 15th'), type='text')], created_at=1724285442, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_H3KI8GUrilCUs8UzPfIDXTuH'), Message(id='msg_g1dmdddwX18srDhlvd8mzKSJ', assistant_id='asst_LchyTrJxoG8J8nvNUnyfVkeU', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='I apologize for the oversight. Please provide me with the return date as well for the flight search from New York to Los Angeles on July 15th.'), type='text')], created_at=1724285446, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_MPguQwgFPhqxGxglaD5kHLCj', status=None, thread_id='thread_H3KI8GUrilCUs8UzPfIDXTuH'), Message(id='msg_bsnWK87LOrZuNPfb8odk66Wa', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='book a hotel in san francisco from august 1st to august 5th for 2 people'), type='text')], created_at=1724285453, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_H3KI8GUrilCUs8UzPfIDXTuH'), Message(id='msg_UxcVeKJZl7nYdVPRUAWID3Vg', assistant_id='asst_LchyTrJxoG8J8nvNUnyfVkeU', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='I apologize for the oversight. To assist you better, could you please provide me with the specific location in San Francisco where you would like to book a hotel for your stay from August 1st to August 5th for 2 people? Thank you!'), type='text')], created_at=1724285458, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_M8TVG1vHgs3RPFzqXspsCIT4', status=None, thread_id='thread_H3KI8GUrilCUs8UzPfIDXTuH')], object='list', first_id='msg_TlkGNHjm1NlaDPmBFEgXbN9A', last_id='msg_UxcVeKJZl7nYdVPRUAWID3Vg', has_more=False)
2024-08-21 17:10:59,156 - slack_ai_assistant - DEBUG - Messages: SyncCursorPage[Message](data=[Message(id='msg_TlkGNHjm1NlaDPmBFEgXbN9A', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='find me a flight from new york to los angeles on july 15th'), type='text')], created_at=1724285442, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_H3KI8GUrilCUs8UzPfIDXTuH'), Message(id='msg_g1dmdddwX18srDhlvd8mzKSJ', assistant_id='asst_LchyTrJxoG8J8nvNUnyfVkeU', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='I apologize for the oversight. Please provide me with the return date as well for the flight search from New York to Los Angeles on July 15th.'), type='text')], created_at=1724285446, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_MPguQwgFPhqxGxglaD5kHLCj', status=None, thread_id='thread_H3KI8GUrilCUs8UzPfIDXTuH'), Message(id='msg_bsnWK87LOrZuNPfb8odk66Wa', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='book a hotel in san francisco from august 1st to august 5th for 2 people'), type='text')], created_at=1724285453, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_H3KI8GUrilCUs8UzPfIDXTuH'), Message(id='msg_UxcVeKJZl7nYdVPRUAWID3Vg', assistant_id='asst_LchyTrJxoG8J8nvNUnyfVkeU', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='I apologize for the oversight. To assist you better, could you please provide me with the specific location in San Francisco where you would like to book a hotel for your stay from August 1st to August 5th for 2 people? Thank you!'), type='text')], created_at=1724285458, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_M8TVG1vHgs3RPFzqXspsCIT4', status=None, thread_id='thread_H3KI8GUrilCUs8UzPfIDXTuH')], object='list', first_id='msg_TlkGNHjm1NlaDPmBFEgXbN9A', last_id='msg_UxcVeKJZl7nYdVPRUAWID3Vg', has_more=False)
2024-08-21 17:10:59,156 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 17:10:59,156 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_MPguQwgFPhqxGxglaD5kHLCj
2024-08-21 17:10:59,156 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 17:10:59,156 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_M8TVG1vHgs3RPFzqXspsCIT4
2024-08-21 17:10:59,156 - slack_ai_assistant - DEBUG - Dispatch result: {'thread_id': 'thread_H3KI8GUrilCUs8UzPfIDXTuH', 'run_id': 'run_M8TVG1vHgs3RPFzqXspsCIT4', 'assistant_response': 'I apologize for the oversight. To assist you better, could you please provide me with the specific location in San Francisco where you would like to book a hotel for your stay from August 1st to August 5th for 2 people? Thank you!'}
2024-08-21 17:10:59,156 - slack_ai_assistant - DEBUG - Thread ID: thread_H3KI8GUrilCUs8UzPfIDXTuH, Run ID: run_M8TVG1vHgs3RPFzqXspsCIT4
2024-08-21 17:10:59,157 - slack_ai_assistant - DEBUG - Function outputs: None
2024-08-21 17:10:59,157 - slack_ai_assistant - DEBUG - Assistant response: I apologize for the oversight. To assist you better, could you please provide me with the specific location in San Francisco where you would like to book a hotel for your stay from August 1st to August 5th for 2 people? Thank you!
2024-08-21 17:10:59,157 - slack_ai_assistant - DEBUG - Sending assistant response: I apologize for the oversight. To assist you better, could you please provide me with the specific location in San Francisco where you would like to book a hotel for your stay from August 1st to August 5th for 2 people? Thank you!
2024-08-21 17:10:59,157 - slack_ai_assistant - DEBUG - Sending Slack response - Channel: C789012, Response: I apologize for the oversight. To assist you better, could you please provide me with the specific location in San Francisco where you would like to book a hotel for your stay from August 1st to August 5th for 2 people? Thank you!
2024-08-21 17:11:01,069 - slack_ai_assistant - DEBUG - Formatted Slack message: {'channel': 'C789012', 'text': 'I apologize for the oversight and seek additional information for booking a hotel.', 'blocks': [{'type': 'section', 'text': {'type': 'mrkdwn', 'text': 'I apologize for the oversight. To assist you better, could you please provide me with the specific location in San Francisco where you would like to book a hotel for your stay from *August 1st* to *August 5th* for *2 people*? Thank you!'}}, {'type': 'divider'}, {'type': 'context', 'elements': [{'type': 'mrkdwn', 'text': 'Looking forward to your response.'}]}]}
2024-08-21 17:11:01,070 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'channel': 'C789012', 'text': 'I apologize for the oversight and seek additional information for booking a hotel.', 'blocks': [{'type': 'section', 'text': {'type': 'mrkdwn', 'text': 'I apologize for the oversight. To assist you better, could you please provide me with the specific location in San Francisco where you would like to book a hotel for your stay from *August 1st* to *August 5th* for *2 people*? Thank you!'}}, {'type': 'divider'}, {'type': 'context', 'elements': [{'type': 'mrkdwn', 'text': 'Looking forward to your response.'}]}]}
2024-08-21 17:11:01,070 - slack_ai_assistant - DEBUG - Test case 2 processed in 12.05 seconds
2024-08-21 17:11:01,070 - slack_ai_assistant - DEBUG - Result: None
2024-08-21 17:11:01,070 - slack_ai_assistant - DEBUG - 
Flight search tests completed in 23.47 seconds
2024-08-21 17:11:01,070 - slack_ai_assistant - DEBUG - Main function completed
2024-08-21 17:11:01,071 - slack_ai_assistant - DEBUG - Script completed
2024-08-21 17:11:27,019 - slack_ai_assistant - DEBUG - Script started
2024-08-21 17:11:27,020 - slack_ai_assistant - DEBUG - Starting main function
2024-08-21 17:11:27,020 - slack_ai_assistant - DEBUG - Starting flight_search_test
2024-08-21 17:11:27,020 - slack_ai_assistant - DEBUG - Initializing Google authentication...
2024-08-21 17:11:27,021 - slack_ai_assistant - INFO - Google authentication initialized successfully
2024-08-21 17:11:27,021 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 17:11:27,021 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 17:11:27,601 - slack_ai_assistant - DEBUG - Updated TravelAssistant with new tools and instructions
2024-08-21 17:11:27,822 - slack_ai_assistant - DEBUG - Updated CalendarAssistant with new tools and instructions
2024-08-21 17:11:27,995 - slack_ai_assistant - DEBUG - Updated GmailAssistant with new tools and instructions
2024-08-21 17:11:27,995 - slack_ai_assistant - DEBUG - Assistants update completed
2024-08-21 17:11:27,995 - slack_ai_assistant - DEBUG - Initializing components...
2024-08-21 17:11:28,005 - slack_ai_assistant - DEBUG - Components initialized in 0.99 seconds
2024-08-21 17:11:28,006 - slack_ai_assistant - DEBUG - 
Processing test case 1: Search Flights...
2024-08-21 17:11:28,006 - slack_ai_assistant - DEBUG - Processing message event - Text: find me a flight from New York to Los Angeles on November 15th, User: U123456, Channel: C789012
2024-08-21 17:11:28,493 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'm looking into that for you.", 'channel': 'C789012'}
2024-08-21 17:11:28,493 - slack_ai_assistant - DEBUG - Dispatching message
2024-08-21 17:11:28,493 - slack_ai_assistant - INFO - Starting dispatch for user input: find me a flight from new york to los angeles on november 15th
2024-08-21 17:11:29,223 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_9sIFofKkC84uod8l6WAXF92c', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='find me a flight from new york to los angeles on november 15th'), type='text')], created_at=1724285489, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_6t3OcxxgrIFcvPdDe1lbSRU9')], object='list', first_id='msg_9sIFofKkC84uod8l6WAXF92c', last_id='msg_9sIFofKkC84uod8l6WAXF92c', has_more=False)
2024-08-21 17:11:31,536 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_9sIFofKkC84uod8l6WAXF92c', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='find me a flight from new york to los angeles on november 15th'), type='text')], created_at=1724285489, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_6t3OcxxgrIFcvPdDe1lbSRU9'), Message(id='msg_0aDa9pi5xhCsrVur2XP0zzpp', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='travel'), type='text')], created_at=1724285491, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_CdNsoQ1FOzgz47BR7u3usDYp', status=None, thread_id='thread_6t3OcxxgrIFcvPdDe1lbSRU9')], object='list', first_id='msg_9sIFofKkC84uod8l6WAXF92c', last_id='msg_0aDa9pi5xhCsrVur2XP0zzpp', has_more=False)
2024-08-21 17:11:31,537 - slack_ai_assistant - DEBUG - Messages: SyncCursorPage[Message](data=[Message(id='msg_9sIFofKkC84uod8l6WAXF92c', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='find me a flight from new york to los angeles on november 15th'), type='text')], created_at=1724285489, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_6t3OcxxgrIFcvPdDe1lbSRU9'), Message(id='msg_0aDa9pi5xhCsrVur2XP0zzpp', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='travel'), type='text')], created_at=1724285491, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_CdNsoQ1FOzgz47BR7u3usDYp', status=None, thread_id='thread_6t3OcxxgrIFcvPdDe1lbSRU9')], object='list', first_id='msg_9sIFofKkC84uod8l6WAXF92c', last_id='msg_0aDa9pi5xhCsrVur2XP0zzpp', has_more=False)
2024-08-21 17:11:31,537 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 17:11:31,537 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_CdNsoQ1FOzgz47BR7u3usDYp
2024-08-21 17:11:31,537 - slack_ai_assistant - INFO - Selected assistant: TravelAssistant
2024-08-21 17:11:35,141 - slack_ai_assistant - DEBUG - Executing function: search_flights with parameters: {'origin': 'JFK', 'destination': 'LAX', 'date': 'November 15th'}
2024-08-21 17:11:35,142 - slack_ai_assistant - DEBUG - TravelIntegration executing function: search_flights with params: {'origin': 'JFK', 'destination': 'LAX', 'date': 'November 15th'}
2024-08-21 17:11:51,211 - slack_ai_assistant - DEBUG - Executing function: search_flights with parameters: {'departure_date': '2023-11-15', 'origin_airport': 'JFK', 'destination_airport': 'LAX'}
2024-08-21 17:11:51,211 - slack_ai_assistant - DEBUG - TravelIntegration executing function: search_flights with params: {'departure_date': '2023-11-15', 'origin_airport': 'JFK', 'destination_airport': 'LAX'}
2024-08-21 17:12:00,898 - slack_ai_assistant - DEBUG - Executing function: search_flights with parameters: {'origin': 'JFK', 'destination': 'LAX', 'departure_date': 'November 15th', 'return_date': '', 'travel_class': '', 'airline': ''}
2024-08-21 17:12:00,899 - slack_ai_assistant - DEBUG - TravelIntegration executing function: search_flights with params: {'origin': 'JFK', 'destination': 'LAX', 'departure_date': 'November 15th', 'return_date': '', 'travel_class': '', 'airline': ''}
2024-08-21 17:12:00,899 - slack_ai_assistant - DEBUG - Searching flights with travel request: {'origin': 'JFK', 'destination': 'LAX', 'departure_date': 'November 15th', 'return_date': '', 'travel_class': '', 'airline': ''}
2024-08-21 17:12:00,957 - slack_ai_assistant - DEBUG - API request params: {'engine': 'google_flights', 'api_key': '12d8d6afd37f1c013ff546cb97c8bacd536fcb9eb1035cdac2446ca861df6793', 'departure_id': 'JFK', 'arrival_id': 'LAX', 'outbound_date': '2024-11-15', 'type': '2', 'currency': 'USD', 'hl': 'en', 'gl': 'us', 'travel_class': '', 'adults': '1', 'children': '0', 'infants_in_seat': '0', 'infants_on_lap': '0', 'stops': '0', 'show_hidden': 'false'}
2024-08-21 17:12:02,557 - slack_ai_assistant - DEBUG - Best flights data: [{'flights': [{'departure_airport': {'name': 'John F. Kennedy International Airport', 'id': 'JFK', 'time': '2024-11-15 10:29'}, 'arrival_airport': {'name': 'Los Angeles International Airport', 'id': 'LAX', 'time': '2024-11-15 13:45'}, 'duration': 376, 'airplane': 'Airbus A320', 'airline': 'JetBlue', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/B6.png', 'travel_class': 'Economy', 'flight_number': 'B6 723', 'legroom': '32 in', 'extensions': ['Above average legroom (32 in)', 'Free Wi-Fi', 'In-seat power & USB outlets', 'Live TV', 'Carbon emissions estimate: 388 kg']}], 'total_duration': 376, 'carbon_emissions': {'this_flight': 389000, 'typical_for_this_route': 344000, 'difference_percent': 13}, 'price': 119, 'type': 'One way', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/B6.png', 'extensions': ['Checked baggage for a fee'], 'booking_token': 'WyJDalJJYW5KSWNVcHVVMDFFUlVWQlFsRXdiMmRDUnkwdExTMHRMUzB0YjJ0aWEyWXhNVUZCUVVGQlIySkhaMnhKUkRoUFpFMUJFZ1ZDTmpjeU14b0tDS0pjRUFJYUExVlRSRGdjY0tKYyIsW1siSkZLIiwiMjAyNC0xMS0xNSIsIkxBWCIsbnVsbCwiQjYiLCI3MjMiXV1d'}, {'flights': [{'departure_airport': {'name': 'John F. Kennedy International Airport', 'id': 'JFK', 'time': '2024-11-15 08:00'}, 'arrival_airport': {'name': 'Los Angeles International Airport', 'id': 'LAX', 'time': '2024-11-15 11:28'}, 'duration': 388, 'airplane': 'Airbus A321 (Sharklets)', 'airline': 'American', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/AA.png', 'travel_class': 'Economy', 'flight_number': 'AA 3', 'legroom': '31 in', 'extensions': ['Average legroom (31 in)', 'Wi-Fi for a fee', 'In-seat power & USB outlets', 'Stream media to your device', 'Carbon emissions estimate: 537 kg']}], 'total_duration': 388, 'carbon_emissions': {'this_flight': 538000, 'typical_for_this_route': 344000, 'difference_percent': 56}, 'price': 129, 'type': 'One way', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/AA.png', 'extensions': ['Checked baggage for a fee'], 'booking_token': 'WyJDalJJYW5KSWNVcHVVMDFFUlVWQlFsRXdiMmRDUnkwdExTMHRMUzB0YjJ0aWEyWXhNVUZCUVVGQlIySkhaMnhKUkRoUFpFMUJFZ05CUVRNYUNnaXdaQkFDR2dOVlUwUTRISEN3WkE9PSIsW1siSkZLIiwiMjAyNC0xMS0xNSIsIkxBWCIsbnVsbCwiQUEiLCIzIl1dXQ=='}, {'flights': [{'departure_airport': {'name': 'John F. Kennedy International Airport', 'id': 'JFK', 'time': '2024-11-15 08:05'}, 'arrival_airport': {'name': 'Los Angeles International Airport', 'id': 'LAX', 'time': '2024-11-15 11:23'}, 'duration': 378, 'airplane': 'Boeing 767', 'airline': 'Delta', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/DL.png', 'travel_class': 'Economy', 'flight_number': 'DL 713', 'legroom': '31 in', 'extensions': ['Average legroom (31 in)', 'Wi-Fi', 'In-seat power & USB outlets', 'On-demand video', 'Carbon emissions estimate: 266 kg']}], 'total_duration': 378, 'carbon_emissions': {'this_flight': 266000, 'typical_for_this_route': 344000, 'difference_percent': -23}, 'price': 129, 'type': 'One way', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/DL.png', 'extensions': ['Checked baggage for a fee'], 'booking_token': 'WyJDalJJYW5KSWNVcHVVMDFFUlVWQlFsRXdiMmRDUnkwdExTMHRMUzB0YjJ0aWEyWXhNVUZCUVVGQlIySkhaMnhKUkRoUFpFMUJFZ1ZFVERjeE14b0tDTEJrRUFJYUExVlRSRGdjY0xCayIsW1siSkZLIiwiMjAyNC0xMS0xNSIsIkxBWCIsbnVsbCwiREwiLCI3MTMiXV1d'}]
2024-08-21 17:12:02,558 - slack_ai_assistant - DEBUG - Processing flight group 1: {'flights': [{'departure_airport': {'name': 'John F. Kennedy International Airport', 'id': 'JFK', 'time': '2024-11-15 10:29'}, 'arrival_airport': {'name': 'Los Angeles International Airport', 'id': 'LAX', 'time': '2024-11-15 13:45'}, 'duration': 376, 'airplane': 'Airbus A320', 'airline': 'JetBlue', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/B6.png', 'travel_class': 'Economy', 'flight_number': 'B6 723', 'legroom': '32 in', 'extensions': ['Above average legroom (32 in)', 'Free Wi-Fi', 'In-seat power & USB outlets', 'Live TV', 'Carbon emissions estimate: 388 kg']}], 'total_duration': 376, 'carbon_emissions': {'this_flight': 389000, 'typical_for_this_route': 344000, 'difference_percent': 13}, 'price': 119, 'type': 'One way', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/B6.png', 'extensions': ['Checked baggage for a fee'], 'booking_token': 'WyJDalJJYW5KSWNVcHVVMDFFUlVWQlFsRXdiMmRDUnkwdExTMHRMUzB0YjJ0aWEyWXhNVUZCUVVGQlIySkhaMnhKUkRoUFpFMUJFZ1ZDTmpjeU14b0tDS0pjRUFJYUExVlRSRGdjY0tKYyIsW1siSkZLIiwiMjAyNC0xMS0xNSIsIkxBWCIsbnVsbCwiQjYiLCI3MjMiXV1d'}
2024-08-21 17:12:02,558 - slack_ai_assistant - DEBUG - Processing flight: {'departure_airport': {'name': 'John F. Kennedy International Airport', 'id': 'JFK', 'time': '2024-11-15 10:29'}, 'arrival_airport': {'name': 'Los Angeles International Airport', 'id': 'LAX', 'time': '2024-11-15 13:45'}, 'duration': 376, 'airplane': 'Airbus A320', 'airline': 'JetBlue', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/B6.png', 'travel_class': 'Economy', 'flight_number': 'B6 723', 'legroom': '32 in', 'extensions': ['Above average legroom (32 in)', 'Free Wi-Fi', 'In-seat power & USB outlets', 'Live TV', 'Carbon emissions estimate: 388 kg']}
2024-08-21 17:12:02,559 - slack_ai_assistant - DEBUG - Processing flight group 2: {'flights': [{'departure_airport': {'name': 'John F. Kennedy International Airport', 'id': 'JFK', 'time': '2024-11-15 08:00'}, 'arrival_airport': {'name': 'Los Angeles International Airport', 'id': 'LAX', 'time': '2024-11-15 11:28'}, 'duration': 388, 'airplane': 'Airbus A321 (Sharklets)', 'airline': 'American', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/AA.png', 'travel_class': 'Economy', 'flight_number': 'AA 3', 'legroom': '31 in', 'extensions': ['Average legroom (31 in)', 'Wi-Fi for a fee', 'In-seat power & USB outlets', 'Stream media to your device', 'Carbon emissions estimate: 537 kg']}], 'total_duration': 388, 'carbon_emissions': {'this_flight': 538000, 'typical_for_this_route': 344000, 'difference_percent': 56}, 'price': 129, 'type': 'One way', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/AA.png', 'extensions': ['Checked baggage for a fee'], 'booking_token': 'WyJDalJJYW5KSWNVcHVVMDFFUlVWQlFsRXdiMmRDUnkwdExTMHRMUzB0YjJ0aWEyWXhNVUZCUVVGQlIySkhaMnhKUkRoUFpFMUJFZ05CUVRNYUNnaXdaQkFDR2dOVlUwUTRISEN3WkE9PSIsW1siSkZLIiwiMjAyNC0xMS0xNSIsIkxBWCIsbnVsbCwiQUEiLCIzIl1dXQ=='}
2024-08-21 17:12:02,560 - slack_ai_assistant - DEBUG - Processing flight: {'departure_airport': {'name': 'John F. Kennedy International Airport', 'id': 'JFK', 'time': '2024-11-15 08:00'}, 'arrival_airport': {'name': 'Los Angeles International Airport', 'id': 'LAX', 'time': '2024-11-15 11:28'}, 'duration': 388, 'airplane': 'Airbus A321 (Sharklets)', 'airline': 'American', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/AA.png', 'travel_class': 'Economy', 'flight_number': 'AA 3', 'legroom': '31 in', 'extensions': ['Average legroom (31 in)', 'Wi-Fi for a fee', 'In-seat power & USB outlets', 'Stream media to your device', 'Carbon emissions estimate: 537 kg']}
2024-08-21 17:12:02,560 - slack_ai_assistant - DEBUG - Processing flight group 3: {'flights': [{'departure_airport': {'name': 'John F. Kennedy International Airport', 'id': 'JFK', 'time': '2024-11-15 08:05'}, 'arrival_airport': {'name': 'Los Angeles International Airport', 'id': 'LAX', 'time': '2024-11-15 11:23'}, 'duration': 378, 'airplane': 'Boeing 767', 'airline': 'Delta', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/DL.png', 'travel_class': 'Economy', 'flight_number': 'DL 713', 'legroom': '31 in', 'extensions': ['Average legroom (31 in)', 'Wi-Fi', 'In-seat power & USB outlets', 'On-demand video', 'Carbon emissions estimate: 266 kg']}], 'total_duration': 378, 'carbon_emissions': {'this_flight': 266000, 'typical_for_this_route': 344000, 'difference_percent': -23}, 'price': 129, 'type': 'One way', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/DL.png', 'extensions': ['Checked baggage for a fee'], 'booking_token': 'WyJDalJJYW5KSWNVcHVVMDFFUlVWQlFsRXdiMmRDUnkwdExTMHRMUzB0YjJ0aWEyWXhNVUZCUVVGQlIySkhaMnhKUkRoUFpFMUJFZ1ZFVERjeE14b0tDTEJrRUFJYUExVlRSRGdjY0xCayIsW1siSkZLIiwiMjAyNC0xMS0xNSIsIkxBWCIsbnVsbCwiREwiLCI3MTMiXV1d'}
2024-08-21 17:12:02,560 - slack_ai_assistant - DEBUG - Processing flight: {'departure_airport': {'name': 'John F. Kennedy International Airport', 'id': 'JFK', 'time': '2024-11-15 08:05'}, 'arrival_airport': {'name': 'Los Angeles International Airport', 'id': 'LAX', 'time': '2024-11-15 11:23'}, 'duration': 378, 'airplane': 'Boeing 767', 'airline': 'Delta', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/DL.png', 'travel_class': 'Economy', 'flight_number': 'DL 713', 'legroom': '31 in', 'extensions': ['Average legroom (31 in)', 'Wi-Fi', 'In-seat power & USB outlets', 'On-demand video', 'Carbon emissions estimate: 266 kg']}
2024-08-21 17:12:02,560 - slack_ai_assistant - DEBUG - Flight search results: 1. JetBlue - $119 - 0 stop(s):
  - Departure: John F. Kennedy International Airport (JFK) on November 15 at 10:29
  - Arrival: Los Angeles International Airport (LAX) on November 15 at 13:45
  - Duration: 6h 16m

2. American - $129 - 0 stop(s):
  - Departure: John F. Kennedy International Airport (JFK) on November 15 at 08:00
  - Arrival: Los Angeles International Airport (LAX) on November 15 at 11:28
  - Duration: 6h 28m

3. Delta - $129 - 0 stop(s):
  - Departure: John F. Kennedy International Airport (JFK) on November 15 at 08:05
  - Arrival: Los Angeles International Airport (LAX) on November 15 at 11:23
  - Duration: 6h 18m
2024-08-21 17:12:03,076 - slack_ai_assistant - DEBUG - Executing function: search_hotels with parameters: {}
2024-08-21 17:12:03,076 - slack_ai_assistant - DEBUG - TravelIntegration executing function: search_hotels with params: {}
2024-08-21 17:12:07,101 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_evZUFqQO2uMh1O8FElrZ43Px', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='find me a flight from new york to los angeles on november 15th'), type='text')], created_at=1724285492, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_oc9vZO2Zx5tXccc8775ouZ91'), Message(id='msg_HVmnE7nQ9bUYIHX7v7tyidxK', assistant_id='asst_LchyTrJxoG8J8nvNUnyfVkeU', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='I apologize for the oversight. Let me correct that and find you a flight from New York to Los Angeles on November 15th.'), type='text')], created_at=1724285506, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_WA7HyLheQSBgBP2Wp7WlGwHq', status=None, thread_id='thread_oc9vZO2Zx5tXccc8775ouZ91'), Message(id='msg_uEFZustFvZhrAANOFi0kJRpF', assistant_id='asst_LchyTrJxoG8J8nvNUnyfVkeU', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='I apologize for the confusion. It seems there was an error in providing the required parameters for the flight search. Let me fix that and find a flight for you from New York to Los Angeles on November 15th.'), type='text')], created_at=1724285515, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_WA7HyLheQSBgBP2Wp7WlGwHq', status=None, thread_id='thread_oc9vZO2Zx5tXccc8775ouZ91'), Message(id='msg_hy5AZk9WfSVF1BpxtwQLw9Oe', assistant_id='asst_LchyTrJxoG8J8nvNUnyfVkeU', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="I have found some flight options for you from New York to Los Angeles on November 15th:\n\n1. JetBlue - $119\n   - Departure: John F. Kennedy International Airport (JFK) on November 15 at 10:29\n   - Arrival: Los Angeles International Airport (LAX) on November 15 at 13:45\n   - Duration: 6h 16m\n\n2. American - $129\n   - Departure: John F. Kennedy International Airport (JFK) on November 15 at 08:00\n   - Arrival: Los Angeles International Airport (LAX) on November 15 at 11:28\n   - Duration: 6h 28m\n\n3. Delta - $129\n   - Departure: John F. Kennedy International Airport (JFK) on November 15 at 08:05\n   - Arrival: Los Angeles International Airport (LAX) on November 15 at 11:23\n   - Duration: 6h 18m\n\nFor hotel options in Los Angeles from November 15th to November 18th, please let me know your preferences, and I'll search for the best accommodations for you."), type='text')], created_at=1724285524, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_WA7HyLheQSBgBP2Wp7WlGwHq', status=None, thread_id='thread_oc9vZO2Zx5tXccc8775ouZ91')], object='list', first_id='msg_evZUFqQO2uMh1O8FElrZ43Px', last_id='msg_hy5AZk9WfSVF1BpxtwQLw9Oe', has_more=False)
2024-08-21 17:12:07,101 - slack_ai_assistant - DEBUG - Messages: SyncCursorPage[Message](data=[Message(id='msg_evZUFqQO2uMh1O8FElrZ43Px', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='find me a flight from new york to los angeles on november 15th'), type='text')], created_at=1724285492, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_oc9vZO2Zx5tXccc8775ouZ91'), Message(id='msg_HVmnE7nQ9bUYIHX7v7tyidxK', assistant_id='asst_LchyTrJxoG8J8nvNUnyfVkeU', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='I apologize for the oversight. Let me correct that and find you a flight from New York to Los Angeles on November 15th.'), type='text')], created_at=1724285506, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_WA7HyLheQSBgBP2Wp7WlGwHq', status=None, thread_id='thread_oc9vZO2Zx5tXccc8775ouZ91'), Message(id='msg_uEFZustFvZhrAANOFi0kJRpF', assistant_id='asst_LchyTrJxoG8J8nvNUnyfVkeU', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='I apologize for the confusion. It seems there was an error in providing the required parameters for the flight search. Let me fix that and find a flight for you from New York to Los Angeles on November 15th.'), type='text')], created_at=1724285515, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_WA7HyLheQSBgBP2Wp7WlGwHq', status=None, thread_id='thread_oc9vZO2Zx5tXccc8775ouZ91'), Message(id='msg_hy5AZk9WfSVF1BpxtwQLw9Oe', assistant_id='asst_LchyTrJxoG8J8nvNUnyfVkeU', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="I have found some flight options for you from New York to Los Angeles on November 15th:\n\n1. JetBlue - $119\n   - Departure: John F. Kennedy International Airport (JFK) on November 15 at 10:29\n   - Arrival: Los Angeles International Airport (LAX) on November 15 at 13:45\n   - Duration: 6h 16m\n\n2. American - $129\n   - Departure: John F. Kennedy International Airport (JFK) on November 15 at 08:00\n   - Arrival: Los Angeles International Airport (LAX) on November 15 at 11:28\n   - Duration: 6h 28m\n\n3. Delta - $129\n   - Departure: John F. Kennedy International Airport (JFK) on November 15 at 08:05\n   - Arrival: Los Angeles International Airport (LAX) on November 15 at 11:23\n   - Duration: 6h 18m\n\nFor hotel options in Los Angeles from November 15th to November 18th, please let me know your preferences, and I'll search for the best accommodations for you."), type='text')], created_at=1724285524, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_WA7HyLheQSBgBP2Wp7WlGwHq', status=None, thread_id='thread_oc9vZO2Zx5tXccc8775ouZ91')], object='list', first_id='msg_evZUFqQO2uMh1O8FElrZ43Px', last_id='msg_hy5AZk9WfSVF1BpxtwQLw9Oe', has_more=False)
2024-08-21 17:12:07,102 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 17:12:07,102 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_WA7HyLheQSBgBP2Wp7WlGwHq
2024-08-21 17:12:07,102 - slack_ai_assistant - DEBUG - Dispatch result: {'thread_id': 'thread_oc9vZO2Zx5tXccc8775ouZ91', 'run_id': 'run_WA7HyLheQSBgBP2Wp7WlGwHq', 'assistant_response': 'I apologize for the oversight. Let me correct that and find you a flight from New York to Los Angeles on November 15th.'}
2024-08-21 17:12:07,102 - slack_ai_assistant - DEBUG - Thread ID: thread_oc9vZO2Zx5tXccc8775ouZ91, Run ID: run_WA7HyLheQSBgBP2Wp7WlGwHq
2024-08-21 17:12:07,102 - slack_ai_assistant - DEBUG - Function outputs: None
2024-08-21 17:12:07,102 - slack_ai_assistant - DEBUG - Assistant response: I apologize for the oversight. Let me correct that and find you a flight from New York to Los Angeles on November 15th.
2024-08-21 17:12:07,102 - slack_ai_assistant - DEBUG - Sending assistant response: I apologize for the oversight. Let me correct that and find you a flight from New York to Los Angeles on November 15th.
2024-08-21 17:12:07,102 - slack_ai_assistant - DEBUG - Sending Slack response - Channel: C789012, Response: I apologize for the oversight. Let me correct that and find you a flight from New York to Los Angeles on November 15th.
2024-08-21 17:12:10,300 - slack_ai_assistant - DEBUG - Formatted Slack message: {'channel': 'C789012', 'text': 'Apologies regarding the flight oversight. I will correct that and find a flight from New York to Los Angeles on November 15th.', 'blocks': [{'type': 'section', 'text': {'type': 'mrkdwn', 'text': 'I apologize for the oversight. Let me correct that and find you a flight from *New York* to *Los Angeles* on *November 15th*.'}}, {'type': 'divider'}, {'type': 'context', 'elements': [{'type': 'mrkdwn', 'text': 'Please hold on while I gather the options for you.'}]}]}
2024-08-21 17:12:10,300 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'channel': 'C789012', 'text': 'Apologies regarding the flight oversight. I will correct that and find a flight from New York to Los Angeles on November 15th.', 'blocks': [{'type': 'section', 'text': {'type': 'mrkdwn', 'text': 'I apologize for the oversight. Let me correct that and find you a flight from *New York* to *Los Angeles* on *November 15th*.'}}, {'type': 'divider'}, {'type': 'context', 'elements': [{'type': 'mrkdwn', 'text': 'Please hold on while I gather the options for you.'}]}]}
2024-08-21 17:12:10,301 - slack_ai_assistant - DEBUG - Test case 1 processed in 42.29 seconds
2024-08-21 17:12:10,301 - slack_ai_assistant - DEBUG - Result: None
2024-08-21 17:12:10,301 - slack_ai_assistant - DEBUG - 
Flight search tests completed in 43.28 seconds
2024-08-21 17:12:10,301 - slack_ai_assistant - DEBUG - Main function completed
2024-08-21 17:12:10,302 - slack_ai_assistant - DEBUG - Script completed
2024-08-21 17:14:27,406 - slack_ai_assistant - DEBUG - Script started
2024-08-21 17:14:27,407 - slack_ai_assistant - DEBUG - Starting main function
2024-08-21 17:14:27,407 - slack_ai_assistant - DEBUG - Starting flight_search_test
2024-08-21 17:14:27,407 - slack_ai_assistant - DEBUG - Initializing Google authentication...
2024-08-21 17:14:27,409 - slack_ai_assistant - INFO - Google authentication initialized successfully
2024-08-21 17:14:27,409 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 17:14:27,409 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 17:14:27,954 - slack_ai_assistant - DEBUG - Updated TravelAssistant with new tools and instructions
2024-08-21 17:14:28,138 - slack_ai_assistant - DEBUG - Updated CalendarAssistant with new tools and instructions
2024-08-21 17:14:28,277 - slack_ai_assistant - DEBUG - Updated GmailAssistant with new tools and instructions
2024-08-21 17:14:28,277 - slack_ai_assistant - DEBUG - Assistants update completed
2024-08-21 17:14:28,277 - slack_ai_assistant - DEBUG - Initializing components...
2024-08-21 17:14:28,287 - slack_ai_assistant - DEBUG - Components initialized in 0.88 seconds
2024-08-21 17:14:28,288 - slack_ai_assistant - DEBUG - 
Processing test case 1: Search Flights...
2024-08-21 17:14:28,288 - slack_ai_assistant - DEBUG - Processing message event - Text: find me a flight from New York to Los Angeles on November 15th, User: U123456, Channel: C789012
2024-08-21 17:14:28,726 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'text': "I'm looking into that for you.", 'channel': 'C789012'}
2024-08-21 17:14:28,727 - slack_ai_assistant - DEBUG - Dispatching message
2024-08-21 17:14:28,727 - slack_ai_assistant - INFO - Starting dispatch for user input: find me a flight from new york to los angeles on november 15th
2024-08-21 17:14:29,766 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_KBCs3JD0ttR1CHvLbfLtHcTF', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='find me a flight from new york to los angeles on november 15th'), type='text')], created_at=1724285669, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_1BKk9doOXiHWxq1skWjaRWWw')], object='list', first_id='msg_KBCs3JD0ttR1CHvLbfLtHcTF', last_id='msg_KBCs3JD0ttR1CHvLbfLtHcTF', has_more=False)
2024-08-21 17:14:32,048 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_KBCs3JD0ttR1CHvLbfLtHcTF', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='find me a flight from new york to los angeles on november 15th'), type='text')], created_at=1724285669, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_1BKk9doOXiHWxq1skWjaRWWw'), Message(id='msg_emNPN3bKdSRZAQH4xMOn6kyc', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='travel'), type='text')], created_at=1724285671, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_amhjVxGNSKw3hhNkgxYIxSw7', status=None, thread_id='thread_1BKk9doOXiHWxq1skWjaRWWw')], object='list', first_id='msg_KBCs3JD0ttR1CHvLbfLtHcTF', last_id='msg_emNPN3bKdSRZAQH4xMOn6kyc', has_more=False)
2024-08-21 17:14:32,049 - slack_ai_assistant - DEBUG - Messages: SyncCursorPage[Message](data=[Message(id='msg_KBCs3JD0ttR1CHvLbfLtHcTF', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='find me a flight from new york to los angeles on november 15th'), type='text')], created_at=1724285669, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_1BKk9doOXiHWxq1skWjaRWWw'), Message(id='msg_emNPN3bKdSRZAQH4xMOn6kyc', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='travel'), type='text')], created_at=1724285671, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_amhjVxGNSKw3hhNkgxYIxSw7', status=None, thread_id='thread_1BKk9doOXiHWxq1skWjaRWWw')], object='list', first_id='msg_KBCs3JD0ttR1CHvLbfLtHcTF', last_id='msg_emNPN3bKdSRZAQH4xMOn6kyc', has_more=False)
2024-08-21 17:14:32,049 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 17:14:32,049 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_amhjVxGNSKw3hhNkgxYIxSw7
2024-08-21 17:14:32,049 - slack_ai_assistant - INFO - Selected assistant: TravelAssistant
2024-08-21 17:14:35,274 - slack_ai_assistant - DEBUG - Executing function: search_flights with parameters: {'type': 'object', 'properties': {}}
2024-08-21 17:14:35,274 - slack_ai_assistant - DEBUG - TravelIntegration executing function: search_flights with params: {'type': 'object', 'properties': {}}
2024-08-21 17:14:39,105 - slack_ai_assistant - DEBUG - Executing function: search_flights with parameters: {'origin': 'JFK', 'destination': 'LAX', 'date': 'November 15th'}
2024-08-21 17:14:39,105 - slack_ai_assistant - DEBUG - TravelIntegration executing function: search_flights with params: {'origin': 'JFK', 'destination': 'LAX', 'date': 'November 15th'}
2024-08-21 17:14:41,965 - slack_ai_assistant - DEBUG - Executing function: search_flights with parameters: {'type': 'object', 'properties': {}}
2024-08-21 17:14:41,965 - slack_ai_assistant - DEBUG - TravelIntegration executing function: search_flights with params: {'type': 'object', 'properties': {}}
2024-08-21 17:14:45,083 - slack_ai_assistant - DEBUG - Executing function: search_flights with parameters: {'type': 'object', 'properties': {}}
2024-08-21 17:14:45,084 - slack_ai_assistant - DEBUG - TravelIntegration executing function: search_flights with params: {'type': 'object', 'properties': {}}
2024-08-21 17:14:48,437 - slack_ai_assistant - DEBUG - Executing function: search_flights with parameters: {'origin': 'JFK', 'destination': 'LAX', 'departure_date': 'November 15th', 'return_date': '', 'passengers': '', 'cabin_class': ''}
2024-08-21 17:14:48,438 - slack_ai_assistant - DEBUG - TravelIntegration executing function: search_flights with params: {'origin': 'JFK', 'destination': 'LAX', 'departure_date': 'November 15th', 'return_date': '', 'passengers': '', 'cabin_class': ''}
2024-08-21 17:14:48,438 - slack_ai_assistant - DEBUG - Searching flights with travel request: {'origin': 'JFK', 'destination': 'LAX', 'departure_date': 'November 15th', 'return_date': '', 'passengers': '', 'cabin_class': ''}
2024-08-21 17:14:48,479 - slack_ai_assistant - DEBUG - API request params: {'engine': 'google_flights', 'api_key': '12d8d6afd37f1c013ff546cb97c8bacd536fcb9eb1035cdac2446ca861df6793', 'departure_id': 'JFK', 'arrival_id': 'LAX', 'outbound_date': '2024-11-15', 'type': '2', 'currency': 'USD', 'hl': 'en', 'gl': 'us', 'travel_class': '1', 'adults': '1', 'children': '0', 'infants_in_seat': '0', 'infants_on_lap': '0', 'stops': '0', 'show_hidden': 'false'}
2024-08-21 17:14:49,941 - slack_ai_assistant - DEBUG - Best flights data: [{'flights': [{'departure_airport': {'name': 'John F. Kennedy International Airport', 'id': 'JFK', 'time': '2024-11-15 10:29'}, 'arrival_airport': {'name': 'Los Angeles International Airport', 'id': 'LAX', 'time': '2024-11-15 13:45'}, 'duration': 376, 'airplane': 'Airbus A320', 'airline': 'JetBlue', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/B6.png', 'travel_class': 'Economy', 'flight_number': 'B6 723', 'legroom': '32 in', 'extensions': ['Above average legroom (32 in)', 'Free Wi-Fi', 'In-seat power & USB outlets', 'Live TV', 'Carbon emissions estimate: 388 kg']}], 'total_duration': 376, 'carbon_emissions': {'this_flight': 389000, 'typical_for_this_route': 344000, 'difference_percent': 13}, 'price': 119, 'type': 'One way', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/B6.png', 'extensions': ['Checked baggage for a fee'], 'booking_token': 'WyJDalJJVW05cVEyNXVTemRFZG1OQlFYSkVja0ZDUnkwdExTMHRMUzB0TFhscFltWjZNVUZCUVVGQlIySkhaM1pyUzBWRWFYbEJFZ1ZDTmpjeU14b0tDS0pjRUFJYUExVlRSRGdjY0tKYyIsW1siSkZLIiwiMjAyNC0xMS0xNSIsIkxBWCIsbnVsbCwiQjYiLCI3MjMiXV1d'}, {'flights': [{'departure_airport': {'name': 'John F. Kennedy International Airport', 'id': 'JFK', 'time': '2024-11-15 08:00'}, 'arrival_airport': {'name': 'Los Angeles International Airport', 'id': 'LAX', 'time': '2024-11-15 11:28'}, 'duration': 388, 'airplane': 'Airbus A321 (Sharklets)', 'airline': 'American', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/AA.png', 'travel_class': 'Economy', 'flight_number': 'AA 3', 'legroom': '31 in', 'extensions': ['Average legroom (31 in)', 'Wi-Fi for a fee', 'In-seat power & USB outlets', 'Stream media to your device', 'Carbon emissions estimate: 537 kg']}], 'total_duration': 388, 'carbon_emissions': {'this_flight': 538000, 'typical_for_this_route': 344000, 'difference_percent': 56}, 'price': 129, 'type': 'One way', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/AA.png', 'extensions': ['Checked baggage for a fee'], 'booking_token': 'WyJDalJJVW05cVEyNXVTemRFZG1OQlFYSkVja0ZDUnkwdExTMHRMUzB0TFhscFltWjZNVUZCUVVGQlIySkhaM1pyUzBWRWFYbEJFZ05CUVRNYUNnaXdaQkFDR2dOVlUwUTRISEN3WkE9PSIsW1siSkZLIiwiMjAyNC0xMS0xNSIsIkxBWCIsbnVsbCwiQUEiLCIzIl1dXQ=='}, {'flights': [{'departure_airport': {'name': 'John F. Kennedy International Airport', 'id': 'JFK', 'time': '2024-11-15 08:05'}, 'arrival_airport': {'name': 'Los Angeles International Airport', 'id': 'LAX', 'time': '2024-11-15 11:23'}, 'duration': 378, 'airplane': 'Boeing 767', 'airline': 'Delta', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/DL.png', 'travel_class': 'Economy', 'flight_number': 'DL 713', 'legroom': '31 in', 'extensions': ['Average legroom (31 in)', 'Wi-Fi', 'In-seat power & USB outlets', 'On-demand video', 'Carbon emissions estimate: 266 kg']}], 'total_duration': 378, 'carbon_emissions': {'this_flight': 266000, 'typical_for_this_route': 344000, 'difference_percent': -23}, 'price': 129, 'type': 'One way', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/DL.png', 'extensions': ['Checked baggage for a fee'], 'booking_token': 'WyJDalJJVW05cVEyNXVTemRFZG1OQlFYSkVja0ZDUnkwdExTMHRMUzB0TFhscFltWjZNVUZCUVVGQlIySkhaM1pyUzBWRWFYbEJFZ1ZFVERjeE14b0tDTEJrRUFJYUExVlRSRGdjY0xCayIsW1siSkZLIiwiMjAyNC0xMS0xNSIsIkxBWCIsbnVsbCwiREwiLCI3MTMiXV1d'}]
2024-08-21 17:14:49,942 - slack_ai_assistant - DEBUG - Processing flight group 1: {'flights': [{'departure_airport': {'name': 'John F. Kennedy International Airport', 'id': 'JFK', 'time': '2024-11-15 10:29'}, 'arrival_airport': {'name': 'Los Angeles International Airport', 'id': 'LAX', 'time': '2024-11-15 13:45'}, 'duration': 376, 'airplane': 'Airbus A320', 'airline': 'JetBlue', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/B6.png', 'travel_class': 'Economy', 'flight_number': 'B6 723', 'legroom': '32 in', 'extensions': ['Above average legroom (32 in)', 'Free Wi-Fi', 'In-seat power & USB outlets', 'Live TV', 'Carbon emissions estimate: 388 kg']}], 'total_duration': 376, 'carbon_emissions': {'this_flight': 389000, 'typical_for_this_route': 344000, 'difference_percent': 13}, 'price': 119, 'type': 'One way', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/B6.png', 'extensions': ['Checked baggage for a fee'], 'booking_token': 'WyJDalJJVW05cVEyNXVTemRFZG1OQlFYSkVja0ZDUnkwdExTMHRMUzB0TFhscFltWjZNVUZCUVVGQlIySkhaM1pyUzBWRWFYbEJFZ1ZDTmpjeU14b0tDS0pjRUFJYUExVlRSRGdjY0tKYyIsW1siSkZLIiwiMjAyNC0xMS0xNSIsIkxBWCIsbnVsbCwiQjYiLCI3MjMiXV1d'}
2024-08-21 17:14:49,942 - slack_ai_assistant - DEBUG - Processing flight: {'departure_airport': {'name': 'John F. Kennedy International Airport', 'id': 'JFK', 'time': '2024-11-15 10:29'}, 'arrival_airport': {'name': 'Los Angeles International Airport', 'id': 'LAX', 'time': '2024-11-15 13:45'}, 'duration': 376, 'airplane': 'Airbus A320', 'airline': 'JetBlue', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/B6.png', 'travel_class': 'Economy', 'flight_number': 'B6 723', 'legroom': '32 in', 'extensions': ['Above average legroom (32 in)', 'Free Wi-Fi', 'In-seat power & USB outlets', 'Live TV', 'Carbon emissions estimate: 388 kg']}
2024-08-21 17:14:49,943 - slack_ai_assistant - DEBUG - Processing flight group 2: {'flights': [{'departure_airport': {'name': 'John F. Kennedy International Airport', 'id': 'JFK', 'time': '2024-11-15 08:00'}, 'arrival_airport': {'name': 'Los Angeles International Airport', 'id': 'LAX', 'time': '2024-11-15 11:28'}, 'duration': 388, 'airplane': 'Airbus A321 (Sharklets)', 'airline': 'American', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/AA.png', 'travel_class': 'Economy', 'flight_number': 'AA 3', 'legroom': '31 in', 'extensions': ['Average legroom (31 in)', 'Wi-Fi for a fee', 'In-seat power & USB outlets', 'Stream media to your device', 'Carbon emissions estimate: 537 kg']}], 'total_duration': 388, 'carbon_emissions': {'this_flight': 538000, 'typical_for_this_route': 344000, 'difference_percent': 56}, 'price': 129, 'type': 'One way', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/AA.png', 'extensions': ['Checked baggage for a fee'], 'booking_token': 'WyJDalJJVW05cVEyNXVTemRFZG1OQlFYSkVja0ZDUnkwdExTMHRMUzB0TFhscFltWjZNVUZCUVVGQlIySkhaM1pyUzBWRWFYbEJFZ05CUVRNYUNnaXdaQkFDR2dOVlUwUTRISEN3WkE9PSIsW1siSkZLIiwiMjAyNC0xMS0xNSIsIkxBWCIsbnVsbCwiQUEiLCIzIl1dXQ=='}
2024-08-21 17:14:49,943 - slack_ai_assistant - DEBUG - Processing flight: {'departure_airport': {'name': 'John F. Kennedy International Airport', 'id': 'JFK', 'time': '2024-11-15 08:00'}, 'arrival_airport': {'name': 'Los Angeles International Airport', 'id': 'LAX', 'time': '2024-11-15 11:28'}, 'duration': 388, 'airplane': 'Airbus A321 (Sharklets)', 'airline': 'American', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/AA.png', 'travel_class': 'Economy', 'flight_number': 'AA 3', 'legroom': '31 in', 'extensions': ['Average legroom (31 in)', 'Wi-Fi for a fee', 'In-seat power & USB outlets', 'Stream media to your device', 'Carbon emissions estimate: 537 kg']}
2024-08-21 17:14:49,943 - slack_ai_assistant - DEBUG - Processing flight group 3: {'flights': [{'departure_airport': {'name': 'John F. Kennedy International Airport', 'id': 'JFK', 'time': '2024-11-15 08:05'}, 'arrival_airport': {'name': 'Los Angeles International Airport', 'id': 'LAX', 'time': '2024-11-15 11:23'}, 'duration': 378, 'airplane': 'Boeing 767', 'airline': 'Delta', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/DL.png', 'travel_class': 'Economy', 'flight_number': 'DL 713', 'legroom': '31 in', 'extensions': ['Average legroom (31 in)', 'Wi-Fi', 'In-seat power & USB outlets', 'On-demand video', 'Carbon emissions estimate: 266 kg']}], 'total_duration': 378, 'carbon_emissions': {'this_flight': 266000, 'typical_for_this_route': 344000, 'difference_percent': -23}, 'price': 129, 'type': 'One way', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/DL.png', 'extensions': ['Checked baggage for a fee'], 'booking_token': 'WyJDalJJVW05cVEyNXVTemRFZG1OQlFYSkVja0ZDUnkwdExTMHRMUzB0TFhscFltWjZNVUZCUVVGQlIySkhaM1pyUzBWRWFYbEJFZ1ZFVERjeE14b0tDTEJrRUFJYUExVlRSRGdjY0xCayIsW1siSkZLIiwiMjAyNC0xMS0xNSIsIkxBWCIsbnVsbCwiREwiLCI3MTMiXV1d'}
2024-08-21 17:14:49,943 - slack_ai_assistant - DEBUG - Processing flight: {'departure_airport': {'name': 'John F. Kennedy International Airport', 'id': 'JFK', 'time': '2024-11-15 08:05'}, 'arrival_airport': {'name': 'Los Angeles International Airport', 'id': 'LAX', 'time': '2024-11-15 11:23'}, 'duration': 378, 'airplane': 'Boeing 767', 'airline': 'Delta', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/DL.png', 'travel_class': 'Economy', 'flight_number': 'DL 713', 'legroom': '31 in', 'extensions': ['Average legroom (31 in)', 'Wi-Fi', 'In-seat power & USB outlets', 'On-demand video', 'Carbon emissions estimate: 266 kg']}
2024-08-21 17:14:49,944 - slack_ai_assistant - DEBUG - Flight search results: 1. JetBlue - $119 - 0 stop(s):
  - Departure: John F. Kennedy International Airport (JFK) on November 15 at 10:29
  - Arrival: Los Angeles International Airport (LAX) on November 15 at 13:45
  - Duration: 6h 16m

2. American - $129 - 0 stop(s):
  - Departure: John F. Kennedy International Airport (JFK) on November 15 at 08:00
  - Arrival: Los Angeles International Airport (LAX) on November 15 at 11:28
  - Duration: 6h 28m

3. Delta - $129 - 0 stop(s):
  - Departure: John F. Kennedy International Airport (JFK) on November 15 at 08:05
  - Arrival: Los Angeles International Airport (LAX) on November 15 at 11:23
  - Duration: 6h 18m
2024-08-21 17:14:54,115 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_wQnBdcwvtSK9h5yJHGAOL0Jj', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='find me a flight from new york to los angeles on november 15th'), type='text')], created_at=1724285672, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_fES6xIIiye5jTL9fePGUxlj5'), Message(id='msg_MTzvHPSOtOnoIPdLV9KKn8tT', assistant_id='asst_LchyTrJxoG8J8nvNUnyfVkeU', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='I will need to search for flights from New York to Los Angeles on November 15th. Let me gather the necessary details for the search.'), type='text')], created_at=1724285676, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_5QxyzxQOl5ynGFIMelKD4D5Z', status=None, thread_id='thread_fES6xIIiye5jTL9fePGUxlj5'), Message(id='msg_8o6iCC6EH8Uhue8xOuT4euEt', assistant_id='asst_LchyTrJxoG8J8nvNUnyfVkeU', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='I apologize for the oversight. Let me try that search again for you.'), type='text')], created_at=1724285680, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_5QxyzxQOl5ynGFIMelKD4D5Z', status=None, thread_id='thread_fES6xIIiye5jTL9fePGUxlj5'), Message(id='msg_lbPppZ4pSh4FTzQN8eO7JCq4', assistant_id='asst_LchyTrJxoG8J8nvNUnyfVkeU', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='I will search for flights from New York to Los Angeles on November 15th. Let me gather the necessary details for the search.'), type='text')], created_at=1724285683, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_5QxyzxQOl5ynGFIMelKD4D5Z', status=None, thread_id='thread_fES6xIIiye5jTL9fePGUxlj5'), Message(id='msg_o9XhwLe6BBCwmceTETCIAvIY', assistant_id='asst_LchyTrJxoG8J8nvNUnyfVkeU', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='I apologize for the oversight. Let me try that search again for you.'), type='text')], created_at=1724285686, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_5QxyzxQOl5ynGFIMelKD4D5Z', status=None, thread_id='thread_fES6xIIiye5jTL9fePGUxlj5'), Message(id='msg_AfOLqDLwa0TYLOj3VM68p63e', assistant_id='asst_LchyTrJxoG8J8nvNUnyfVkeU', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='I have found some flight options for you from New York to Los Angeles on November 15th:\n\n1. JetBlue - $119\n   - Departure: John F. Kennedy International Airport (JFK) on November 15 at 10:29\n   - Arrival: Los Angeles International Airport (LAX) on November 15 at 13:45\n   - Duration: 6 hours 16 minutes\n\n2. American - $129\n   - Departure: John F. Kennedy International Airport (JFK) on November 15 at 08:00\n   - Arrival: Los Angeles International Airport (LAX) on November 15 at 11:28\n   - Duration: 6 hours 28 minutes\n\n3. Delta - $129\n   - Departure: John F. Kennedy International Airport (JFK) on November 15 at 08:05\n   - Arrival: Los Angeles International Airport (LAX) on November 15 at 11:23\n   - Duration: 6 hours 18 minutes\n\nThese are some options you can consider for your trip. Let me know if you need more information or assistance with booking.'), type='text')], created_at=1724285691, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_5QxyzxQOl5ynGFIMelKD4D5Z', status=None, thread_id='thread_fES6xIIiye5jTL9fePGUxlj5')], object='list', first_id='msg_wQnBdcwvtSK9h5yJHGAOL0Jj', last_id='msg_AfOLqDLwa0TYLOj3VM68p63e', has_more=False)
2024-08-21 17:14:54,116 - slack_ai_assistant - DEBUG - Messages: SyncCursorPage[Message](data=[Message(id='msg_wQnBdcwvtSK9h5yJHGAOL0Jj', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='find me a flight from new york to los angeles on november 15th'), type='text')], created_at=1724285672, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_fES6xIIiye5jTL9fePGUxlj5'), Message(id='msg_MTzvHPSOtOnoIPdLV9KKn8tT', assistant_id='asst_LchyTrJxoG8J8nvNUnyfVkeU', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='I will need to search for flights from New York to Los Angeles on November 15th. Let me gather the necessary details for the search.'), type='text')], created_at=1724285676, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_5QxyzxQOl5ynGFIMelKD4D5Z', status=None, thread_id='thread_fES6xIIiye5jTL9fePGUxlj5'), Message(id='msg_8o6iCC6EH8Uhue8xOuT4euEt', assistant_id='asst_LchyTrJxoG8J8nvNUnyfVkeU', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='I apologize for the oversight. Let me try that search again for you.'), type='text')], created_at=1724285680, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_5QxyzxQOl5ynGFIMelKD4D5Z', status=None, thread_id='thread_fES6xIIiye5jTL9fePGUxlj5'), Message(id='msg_lbPppZ4pSh4FTzQN8eO7JCq4', assistant_id='asst_LchyTrJxoG8J8nvNUnyfVkeU', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='I will search for flights from New York to Los Angeles on November 15th. Let me gather the necessary details for the search.'), type='text')], created_at=1724285683, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_5QxyzxQOl5ynGFIMelKD4D5Z', status=None, thread_id='thread_fES6xIIiye5jTL9fePGUxlj5'), Message(id='msg_o9XhwLe6BBCwmceTETCIAvIY', assistant_id='asst_LchyTrJxoG8J8nvNUnyfVkeU', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='I apologize for the oversight. Let me try that search again for you.'), type='text')], created_at=1724285686, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_5QxyzxQOl5ynGFIMelKD4D5Z', status=None, thread_id='thread_fES6xIIiye5jTL9fePGUxlj5'), Message(id='msg_AfOLqDLwa0TYLOj3VM68p63e', assistant_id='asst_LchyTrJxoG8J8nvNUnyfVkeU', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='I have found some flight options for you from New York to Los Angeles on November 15th:\n\n1. JetBlue - $119\n   - Departure: John F. Kennedy International Airport (JFK) on November 15 at 10:29\n   - Arrival: Los Angeles International Airport (LAX) on November 15 at 13:45\n   - Duration: 6 hours 16 minutes\n\n2. American - $129\n   - Departure: John F. Kennedy International Airport (JFK) on November 15 at 08:00\n   - Arrival: Los Angeles International Airport (LAX) on November 15 at 11:28\n   - Duration: 6 hours 28 minutes\n\n3. Delta - $129\n   - Departure: John F. Kennedy International Airport (JFK) on November 15 at 08:05\n   - Arrival: Los Angeles International Airport (LAX) on November 15 at 11:23\n   - Duration: 6 hours 18 minutes\n\nThese are some options you can consider for your trip. Let me know if you need more information or assistance with booking.'), type='text')], created_at=1724285691, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_5QxyzxQOl5ynGFIMelKD4D5Z', status=None, thread_id='thread_fES6xIIiye5jTL9fePGUxlj5')], object='list', first_id='msg_wQnBdcwvtSK9h5yJHGAOL0Jj', last_id='msg_AfOLqDLwa0TYLOj3VM68p63e', has_more=False)
2024-08-21 17:14:54,116 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 17:14:54,116 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_5QxyzxQOl5ynGFIMelKD4D5Z
2024-08-21 17:14:54,116 - slack_ai_assistant - DEBUG - Dispatch result: {'thread_id': 'thread_fES6xIIiye5jTL9fePGUxlj5', 'run_id': 'run_5QxyzxQOl5ynGFIMelKD4D5Z', 'assistant_response': 'I will need to search for flights from New York to Los Angeles on November 15th. Let me gather the necessary details for the search.'}
2024-08-21 17:14:54,116 - slack_ai_assistant - DEBUG - Thread ID: thread_fES6xIIiye5jTL9fePGUxlj5, Run ID: run_5QxyzxQOl5ynGFIMelKD4D5Z
2024-08-21 17:14:54,117 - slack_ai_assistant - DEBUG - Function outputs: None
2024-08-21 17:14:54,117 - slack_ai_assistant - DEBUG - Assistant response: I will need to search for flights from New York to Los Angeles on November 15th. Let me gather the necessary details for the search.
2024-08-21 17:14:54,117 - slack_ai_assistant - DEBUG - Sending assistant response: I will need to search for flights from New York to Los Angeles on November 15th. Let me gather the necessary details for the search.
2024-08-21 17:14:54,117 - slack_ai_assistant - DEBUG - Sending Slack response - Channel: C789012, Response: I will need to search for flights from New York to Los Angeles on November 15th. Let me gather the necessary details for the search.
2024-08-21 17:14:57,011 - slack_ai_assistant - DEBUG - Formatted Slack message: {'channel': 'C789012', 'text': 'Searching for flights from New York to Los Angeles.', 'blocks': [{'type': 'section', 'text': {'type': 'mrkdwn', 'text': 'I will need to search for flights from *New York* to *Los Angeles* on *November 15th*.'}}, {'type': 'divider'}, {'type': 'section', 'text': {'type': 'mrkdwn', 'text': 'Let me gather the necessary details for the search.'}}, {'type': 'context', 'elements': [{'type': 'mrkdwn', 'text': '_Please hold on while I prepare for the search._'}]}]}
2024-08-21 17:14:57,012 - slack_ai_assistant - DEBUG - MockSlackSay called with args: (), kwargs: {'channel': 'C789012', 'text': 'Searching for flights from New York to Los Angeles.', 'blocks': [{'type': 'section', 'text': {'type': 'mrkdwn', 'text': 'I will need to search for flights from *New York* to *Los Angeles* on *November 15th*.'}}, {'type': 'divider'}, {'type': 'section', 'text': {'type': 'mrkdwn', 'text': 'Let me gather the necessary details for the search.'}}, {'type': 'context', 'elements': [{'type': 'mrkdwn', 'text': '_Please hold on while I prepare for the search._'}]}]}
2024-08-21 17:14:57,012 - slack_ai_assistant - DEBUG - Test case 1 processed in 28.72 seconds
2024-08-21 17:14:57,012 - slack_ai_assistant - DEBUG - Result: None
2024-08-21 17:14:57,012 - slack_ai_assistant - DEBUG - 
Flight search tests completed in 29.61 seconds
2024-08-21 17:14:57,012 - slack_ai_assistant - DEBUG - Main function completed
2024-08-21 17:14:57,013 - slack_ai_assistant - DEBUG - Script completed
2024-08-21 17:15:27,986 - slack_ai_assistant - INFO - Google authentication initialized successfully
2024-08-21 17:15:27,986 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 17:15:28,444 - slack_ai_assistant - DEBUG - Updated TravelAssistant with new tools and instructions
2024-08-21 17:15:28,445 - slack_ai_assistant - DEBUG - Assistants update completed
2024-08-21 17:15:28,657 - slack_ai_assistant - DEBUG - Updated CalendarAssistant with new tools and instructions
2024-08-21 17:15:28,658 - slack_ai_assistant - DEBUG - Assistants update completed
2024-08-21 17:15:28,842 - slack_ai_assistant - DEBUG - Updated GmailAssistant with new tools and instructions
2024-08-21 17:15:28,842 - slack_ai_assistant - DEBUG - Assistants update completed
2024-08-21 17:15:28,843 - slack_ai_assistant - DEBUG - Creating Slack bot
2024-08-21 17:15:28,968 - slack_ai_assistant - DEBUG - Slack bot created successfully
2024-08-21 17:15:28,969 - slack_ai_assistant - INFO - Starting the AI-Powered Personal Assistant Slack Bot
2024-08-21 17:15:40,748 - slack_ai_assistant - DEBUG - Received message event: {'user': 'U079WGB6T0X', 'type': 'message', 'ts': '1724285740.279939', 'client_msg_id': '881107db-1d34-4af7-923f-7d1ee9fb182c', 'text': 'find me a flight from new york to los angeles november 15', 'team': 'T07APNY0M4Z', 'blocks': [{'type': 'rich_text', 'block_id': 'mmaAz', 'elements': [{'type': 'rich_text_section', 'elements': [{'type': 'text', 'text': 'find me a flight from new york to los angeles november 15'}]}]}], 'channel': 'C07A869GUDT', 'event_ts': '1724285740.279939', 'channel_type': 'channel'}
2024-08-21 17:15:40,748 - slack_ai_assistant - DEBUG - Processing message event - Text: find me a flight from new york to los angeles november 15, User: U079WGB6T0X, Channel: C07A869GUDT
2024-08-21 17:15:41,477 - slack_ai_assistant - DEBUG - Dispatching message
2024-08-21 17:15:41,478 - slack_ai_assistant - INFO - Starting dispatch for user input: find me a flight from new york to los angeles november 15
2024-08-21 17:15:42,107 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_ZE6lGm30utAlJLmUJ55x9f5E', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='find me a flight from new york to los angeles november 15'), type='text')], created_at=1724285742, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_tvy583vse0h02NZd5aVrYK1T')], object='list', first_id='msg_ZE6lGm30utAlJLmUJ55x9f5E', last_id='msg_ZE6lGm30utAlJLmUJ55x9f5E', has_more=False)
2024-08-21 17:15:43,639 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_ZE6lGm30utAlJLmUJ55x9f5E', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='find me a flight from new york to los angeles november 15'), type='text')], created_at=1724285742, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_tvy583vse0h02NZd5aVrYK1T'), Message(id='msg_l4IpmUrD7sm43gXdiHKH6YZM', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='travel'), type='text')], created_at=1724285743, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_mqo99ZdHH4XpzLIcRRMoVHHj', status=None, thread_id='thread_tvy583vse0h02NZd5aVrYK1T')], object='list', first_id='msg_ZE6lGm30utAlJLmUJ55x9f5E', last_id='msg_l4IpmUrD7sm43gXdiHKH6YZM', has_more=False)
2024-08-21 17:15:43,640 - slack_ai_assistant - DEBUG - Messages: SyncCursorPage[Message](data=[Message(id='msg_ZE6lGm30utAlJLmUJ55x9f5E', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='find me a flight from new york to los angeles november 15'), type='text')], created_at=1724285742, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_tvy583vse0h02NZd5aVrYK1T'), Message(id='msg_l4IpmUrD7sm43gXdiHKH6YZM', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='travel'), type='text')], created_at=1724285743, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_mqo99ZdHH4XpzLIcRRMoVHHj', status=None, thread_id='thread_tvy583vse0h02NZd5aVrYK1T')], object='list', first_id='msg_ZE6lGm30utAlJLmUJ55x9f5E', last_id='msg_l4IpmUrD7sm43gXdiHKH6YZM', has_more=False)
2024-08-21 17:15:43,640 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 17:15:43,640 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_mqo99ZdHH4XpzLIcRRMoVHHj
2024-08-21 17:15:43,640 - slack_ai_assistant - INFO - Selected assistant: TravelAssistant
2024-08-21 17:15:47,035 - slack_ai_assistant - DEBUG - Executing function: search_flights with parameters: {'type': 'object', 'properties': {}}
2024-08-21 17:15:47,035 - slack_ai_assistant - DEBUG - TravelIntegration executing function: search_flights with params: {'type': 'object', 'properties': {}}
2024-08-21 17:15:49,100 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_kiQCKVQTgsJtIhcu4SWVzCyL', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='find me a flight from new york to los angeles november 15'), type='text')], created_at=1724285744, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_V1AE7xTTGWYNMIE0DTkwX0CM'), Message(id='msg_jchRF0TrI6atOA8M7cZRjiPy', assistant_id='asst_LchyTrJxoG8J8nvNUnyfVkeU', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='I apologize for the oversight. Let me try that search again for you.'), type='text')], created_at=1724285748, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_dbR4UEIvob0ztehiQoPfcMwa', status=None, thread_id='thread_V1AE7xTTGWYNMIE0DTkwX0CM')], object='list', first_id='msg_kiQCKVQTgsJtIhcu4SWVzCyL', last_id='msg_jchRF0TrI6atOA8M7cZRjiPy', has_more=False)
2024-08-21 17:15:49,101 - slack_ai_assistant - DEBUG - Messages: SyncCursorPage[Message](data=[Message(id='msg_kiQCKVQTgsJtIhcu4SWVzCyL', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='find me a flight from new york to los angeles november 15'), type='text')], created_at=1724285744, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_V1AE7xTTGWYNMIE0DTkwX0CM'), Message(id='msg_jchRF0TrI6atOA8M7cZRjiPy', assistant_id='asst_LchyTrJxoG8J8nvNUnyfVkeU', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='I apologize for the oversight. Let me try that search again for you.'), type='text')], created_at=1724285748, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_dbR4UEIvob0ztehiQoPfcMwa', status=None, thread_id='thread_V1AE7xTTGWYNMIE0DTkwX0CM')], object='list', first_id='msg_kiQCKVQTgsJtIhcu4SWVzCyL', last_id='msg_jchRF0TrI6atOA8M7cZRjiPy', has_more=False)
2024-08-21 17:15:49,101 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 17:15:49,101 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_dbR4UEIvob0ztehiQoPfcMwa
2024-08-21 17:15:49,101 - slack_ai_assistant - DEBUG - Dispatch result: {'thread_id': 'thread_V1AE7xTTGWYNMIE0DTkwX0CM', 'run_id': 'run_dbR4UEIvob0ztehiQoPfcMwa', 'assistant_response': 'I apologize for the oversight. Let me try that search again for you.'}
2024-08-21 17:15:49,101 - slack_ai_assistant - DEBUG - Thread ID: thread_V1AE7xTTGWYNMIE0DTkwX0CM, Run ID: run_dbR4UEIvob0ztehiQoPfcMwa
2024-08-21 17:15:49,102 - slack_ai_assistant - DEBUG - Function outputs: None
2024-08-21 17:15:49,102 - slack_ai_assistant - DEBUG - Assistant response: I apologize for the oversight. Let me try that search again for you.
2024-08-21 17:15:49,102 - slack_ai_assistant - DEBUG - Sending assistant response: I apologize for the oversight. Let me try that search again for you.
2024-08-21 17:15:49,102 - slack_ai_assistant - DEBUG - Sending Slack response - Channel: C07A869GUDT, Response: I apologize for the oversight. Let me try that search again for you.
2024-08-21 17:15:50,841 - slack_ai_assistant - DEBUG - Formatted Slack message: {'channel': 'C07A869GUDT', 'text': 'I apologize for the oversight. Let me try that search again for you.', 'blocks': [{'type': 'section', 'text': {'type': 'mrkdwn', 'text': 'I apologize for the oversight. Let me try that search again for you.'}}, {'type': 'divider'}, {'type': 'context', 'elements': [{'type': 'mrkdwn', 'text': 'We appreciate your patience as we resolve this issue.'}]}]}
2024-08-21 17:21:45,908 - slack_ai_assistant - INFO - Google authentication initialized successfully
2024-08-21 17:21:45,908 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 17:21:46,463 - slack_ai_assistant - DEBUG - Updated TravelAssistant with new tools and instructions
2024-08-21 17:21:46,463 - slack_ai_assistant - DEBUG - Assistants update completed
2024-08-21 17:21:46,725 - slack_ai_assistant - DEBUG - Updated CalendarAssistant with new tools and instructions
2024-08-21 17:21:46,725 - slack_ai_assistant - DEBUG - Assistants update completed
2024-08-21 17:21:46,919 - slack_ai_assistant - DEBUG - Updated GmailAssistant with new tools and instructions
2024-08-21 17:21:46,919 - slack_ai_assistant - DEBUG - Assistants update completed
2024-08-21 17:21:46,920 - slack_ai_assistant - DEBUG - Creating Slack bot
2024-08-21 17:21:47,039 - slack_ai_assistant - DEBUG - Slack bot created successfully
2024-08-21 17:21:47,039 - slack_ai_assistant - INFO - Starting the AI-Powered Personal Assistant Slack Bot
2024-08-21 17:21:54,915 - slack_ai_assistant - DEBUG - Received message event: {'user': 'U079WGB6T0X', 'type': 'message', 'ts': '1724286114.311629', 'client_msg_id': '84116bee-a9a3-4a2d-b928-9a98b6b3d9f8', 'text': 'find me a flight from new york to los angeles november 15', 'team': 'T07APNY0M4Z', 'blocks': [{'type': 'rich_text', 'block_id': 'mmaAz', 'elements': [{'type': 'rich_text_section', 'elements': [{'type': 'text', 'text': 'find me a flight from new york to los angeles november 15'}]}]}], 'channel': 'C07A869GUDT', 'event_ts': '1724286114.311629', 'channel_type': 'channel'}
2024-08-21 17:21:54,915 - slack_ai_assistant - DEBUG - Processing message event - Text: find me a flight from new york to los angeles november 15, User: U079WGB6T0X, Channel: C07A869GUDT
2024-08-21 17:21:56,364 - slack_ai_assistant - DEBUG - Dispatching message
2024-08-21 17:21:56,364 - slack_ai_assistant - INFO - Starting dispatch for user input: find me a flight from new york to los angeles november 15
2024-08-21 17:21:56,986 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_ed5UyCKHJ7GbuSRYRlxr22ja', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='find me a flight from new york to los angeles november 15'), type='text')], created_at=1724286116, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_fyJ5bXoculhqkC8r1a9zc0US')], object='list', first_id='msg_ed5UyCKHJ7GbuSRYRlxr22ja', last_id='msg_ed5UyCKHJ7GbuSRYRlxr22ja', has_more=False)
2024-08-21 17:21:59,429 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_ed5UyCKHJ7GbuSRYRlxr22ja', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='find me a flight from new york to los angeles november 15'), type='text')], created_at=1724286116, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_fyJ5bXoculhqkC8r1a9zc0US'), Message(id='msg_AOdW4wmrmeJl2zUyQrWagkOB', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='travel'), type='text')], created_at=1724286118, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_VktYbY6NXFd8YMrjMciN7hmm', status=None, thread_id='thread_fyJ5bXoculhqkC8r1a9zc0US')], object='list', first_id='msg_ed5UyCKHJ7GbuSRYRlxr22ja', last_id='msg_AOdW4wmrmeJl2zUyQrWagkOB', has_more=False)
2024-08-21 17:21:59,430 - slack_ai_assistant - DEBUG - Messages: SyncCursorPage[Message](data=[Message(id='msg_ed5UyCKHJ7GbuSRYRlxr22ja', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='find me a flight from new york to los angeles november 15'), type='text')], created_at=1724286116, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_fyJ5bXoculhqkC8r1a9zc0US'), Message(id='msg_AOdW4wmrmeJl2zUyQrWagkOB', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='travel'), type='text')], created_at=1724286118, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_VktYbY6NXFd8YMrjMciN7hmm', status=None, thread_id='thread_fyJ5bXoculhqkC8r1a9zc0US')], object='list', first_id='msg_ed5UyCKHJ7GbuSRYRlxr22ja', last_id='msg_AOdW4wmrmeJl2zUyQrWagkOB', has_more=False)
2024-08-21 17:21:59,430 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 17:21:59,430 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_VktYbY6NXFd8YMrjMciN7hmm
2024-08-21 17:21:59,430 - slack_ai_assistant - INFO - Selected assistant: TravelAssistant
2024-08-21 17:22:02,724 - slack_ai_assistant - DEBUG - Executing function: search_flights with parameters: {'origin': 'JFK', 'destination': 'LAX', 'date': '2023-11-15', 'passengers': '', 'cabin_class': ''}
2024-08-21 17:22:02,724 - slack_ai_assistant - DEBUG - TravelIntegration executing function: search_flights with params: {'origin': 'JFK', 'destination': 'LAX', 'date': '2023-11-15', 'passengers': '', 'cabin_class': ''}
2024-08-21 17:22:02,725 - slack_ai_assistant - ERROR - Missing required parameters for flight search: ['departure_date']
2024-08-21 17:22:06,121 - slack_ai_assistant - DEBUG - Executing function: search_flights with parameters: {'origin': 'JFK', 'destination': 'LAX', 'departure_date': '2023-11-15', 'return_date': '', 'passengers': '', 'travel_class': ''}
2024-08-21 17:22:06,121 - slack_ai_assistant - DEBUG - TravelIntegration executing function: search_flights with params: {'origin': 'JFK', 'destination': 'LAX', 'departure_date': '2023-11-15', 'return_date': '', 'passengers': '', 'travel_class': ''}
2024-08-21 17:22:06,121 - slack_ai_assistant - DEBUG - Searching flights with travel request: {'origin': 'JFK', 'destination': 'LAX', 'departure_date': '2023-11-15', 'return_date': '', 'passengers': '', 'travel_class': ''}
2024-08-21 17:22:06,156 - slack_ai_assistant - DEBUG - API request params: {'engine': 'google_flights', 'api_key': '12d8d6afd37f1c013ff546cb97c8bacd536fcb9eb1035cdac2446ca861df6793', 'departure_id': 'JFK', 'arrival_id': 'LAX', 'outbound_date': '2024-11-15', 'type': '2', 'currency': 'USD', 'hl': 'en', 'gl': 'us', 'travel_class': '', 'adults': '1', 'children': '0', 'infants_in_seat': '0', 'infants_on_lap': '0', 'stops': '0', 'show_hidden': 'false'}
2024-08-21 17:22:06,287 - slack_ai_assistant - DEBUG - Best flights data: [{'flights': [{'departure_airport': {'name': 'John F. Kennedy International Airport', 'id': 'JFK', 'time': '2024-11-15 10:29'}, 'arrival_airport': {'name': 'Los Angeles International Airport', 'id': 'LAX', 'time': '2024-11-15 13:45'}, 'duration': 376, 'airplane': 'Airbus A320', 'airline': 'JetBlue', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/B6.png', 'travel_class': 'Economy', 'flight_number': 'B6 723', 'legroom': '32 in', 'extensions': ['Above average legroom (32 in)', 'Free Wi-Fi', 'In-seat power & USB outlets', 'Live TV', 'Carbon emissions estimate: 388 kg']}], 'total_duration': 376, 'carbon_emissions': {'this_flight': 389000, 'typical_for_this_route': 344000, 'difference_percent': 13}, 'price': 119, 'type': 'One way', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/B6.png', 'extensions': ['Checked baggage for a fee'], 'booking_token': 'WyJDalJJYW5KSWNVcHVVMDFFUlVWQlFsRXdiMmRDUnkwdExTMHRMUzB0YjJ0aWEyWXhNVUZCUVVGQlIySkhaMnhKUkRoUFpFMUJFZ1ZDTmpjeU14b0tDS0pjRUFJYUExVlRSRGdjY0tKYyIsW1siSkZLIiwiMjAyNC0xMS0xNSIsIkxBWCIsbnVsbCwiQjYiLCI3MjMiXV1d'}, {'flights': [{'departure_airport': {'name': 'John F. Kennedy International Airport', 'id': 'JFK', 'time': '2024-11-15 08:00'}, 'arrival_airport': {'name': 'Los Angeles International Airport', 'id': 'LAX', 'time': '2024-11-15 11:28'}, 'duration': 388, 'airplane': 'Airbus A321 (Sharklets)', 'airline': 'American', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/AA.png', 'travel_class': 'Economy', 'flight_number': 'AA 3', 'legroom': '31 in', 'extensions': ['Average legroom (31 in)', 'Wi-Fi for a fee', 'In-seat power & USB outlets', 'Stream media to your device', 'Carbon emissions estimate: 537 kg']}], 'total_duration': 388, 'carbon_emissions': {'this_flight': 538000, 'typical_for_this_route': 344000, 'difference_percent': 56}, 'price': 129, 'type': 'One way', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/AA.png', 'extensions': ['Checked baggage for a fee'], 'booking_token': 'WyJDalJJYW5KSWNVcHVVMDFFUlVWQlFsRXdiMmRDUnkwdExTMHRMUzB0YjJ0aWEyWXhNVUZCUVVGQlIySkhaMnhKUkRoUFpFMUJFZ05CUVRNYUNnaXdaQkFDR2dOVlUwUTRISEN3WkE9PSIsW1siSkZLIiwiMjAyNC0xMS0xNSIsIkxBWCIsbnVsbCwiQUEiLCIzIl1dXQ=='}, {'flights': [{'departure_airport': {'name': 'John F. Kennedy International Airport', 'id': 'JFK', 'time': '2024-11-15 08:05'}, 'arrival_airport': {'name': 'Los Angeles International Airport', 'id': 'LAX', 'time': '2024-11-15 11:23'}, 'duration': 378, 'airplane': 'Boeing 767', 'airline': 'Delta', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/DL.png', 'travel_class': 'Economy', 'flight_number': 'DL 713', 'legroom': '31 in', 'extensions': ['Average legroom (31 in)', 'Wi-Fi', 'In-seat power & USB outlets', 'On-demand video', 'Carbon emissions estimate: 266 kg']}], 'total_duration': 378, 'carbon_emissions': {'this_flight': 266000, 'typical_for_this_route': 344000, 'difference_percent': -23}, 'price': 129, 'type': 'One way', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/DL.png', 'extensions': ['Checked baggage for a fee'], 'booking_token': 'WyJDalJJYW5KSWNVcHVVMDFFUlVWQlFsRXdiMmRDUnkwdExTMHRMUzB0YjJ0aWEyWXhNVUZCUVVGQlIySkhaMnhKUkRoUFpFMUJFZ1ZFVERjeE14b0tDTEJrRUFJYUExVlRSRGdjY0xCayIsW1siSkZLIiwiMjAyNC0xMS0xNSIsIkxBWCIsbnVsbCwiREwiLCI3MTMiXV1d'}]
2024-08-21 17:22:06,287 - slack_ai_assistant - DEBUG - Processing flight group 1: {'flights': [{'departure_airport': {'name': 'John F. Kennedy International Airport', 'id': 'JFK', 'time': '2024-11-15 10:29'}, 'arrival_airport': {'name': 'Los Angeles International Airport', 'id': 'LAX', 'time': '2024-11-15 13:45'}, 'duration': 376, 'airplane': 'Airbus A320', 'airline': 'JetBlue', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/B6.png', 'travel_class': 'Economy', 'flight_number': 'B6 723', 'legroom': '32 in', 'extensions': ['Above average legroom (32 in)', 'Free Wi-Fi', 'In-seat power & USB outlets', 'Live TV', 'Carbon emissions estimate: 388 kg']}], 'total_duration': 376, 'carbon_emissions': {'this_flight': 389000, 'typical_for_this_route': 344000, 'difference_percent': 13}, 'price': 119, 'type': 'One way', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/B6.png', 'extensions': ['Checked baggage for a fee'], 'booking_token': 'WyJDalJJYW5KSWNVcHVVMDFFUlVWQlFsRXdiMmRDUnkwdExTMHRMUzB0YjJ0aWEyWXhNVUZCUVVGQlIySkhaMnhKUkRoUFpFMUJFZ1ZDTmpjeU14b0tDS0pjRUFJYUExVlRSRGdjY0tKYyIsW1siSkZLIiwiMjAyNC0xMS0xNSIsIkxBWCIsbnVsbCwiQjYiLCI3MjMiXV1d'}
2024-08-21 17:22:06,287 - slack_ai_assistant - DEBUG - Processing flight: {'departure_airport': {'name': 'John F. Kennedy International Airport', 'id': 'JFK', 'time': '2024-11-15 10:29'}, 'arrival_airport': {'name': 'Los Angeles International Airport', 'id': 'LAX', 'time': '2024-11-15 13:45'}, 'duration': 376, 'airplane': 'Airbus A320', 'airline': 'JetBlue', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/B6.png', 'travel_class': 'Economy', 'flight_number': 'B6 723', 'legroom': '32 in', 'extensions': ['Above average legroom (32 in)', 'Free Wi-Fi', 'In-seat power & USB outlets', 'Live TV', 'Carbon emissions estimate: 388 kg']}
2024-08-21 17:22:06,288 - slack_ai_assistant - DEBUG - Processing flight group 2: {'flights': [{'departure_airport': {'name': 'John F. Kennedy International Airport', 'id': 'JFK', 'time': '2024-11-15 08:00'}, 'arrival_airport': {'name': 'Los Angeles International Airport', 'id': 'LAX', 'time': '2024-11-15 11:28'}, 'duration': 388, 'airplane': 'Airbus A321 (Sharklets)', 'airline': 'American', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/AA.png', 'travel_class': 'Economy', 'flight_number': 'AA 3', 'legroom': '31 in', 'extensions': ['Average legroom (31 in)', 'Wi-Fi for a fee', 'In-seat power & USB outlets', 'Stream media to your device', 'Carbon emissions estimate: 537 kg']}], 'total_duration': 388, 'carbon_emissions': {'this_flight': 538000, 'typical_for_this_route': 344000, 'difference_percent': 56}, 'price': 129, 'type': 'One way', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/AA.png', 'extensions': ['Checked baggage for a fee'], 'booking_token': 'WyJDalJJYW5KSWNVcHVVMDFFUlVWQlFsRXdiMmRDUnkwdExTMHRMUzB0YjJ0aWEyWXhNVUZCUVVGQlIySkhaMnhKUkRoUFpFMUJFZ05CUVRNYUNnaXdaQkFDR2dOVlUwUTRISEN3WkE9PSIsW1siSkZLIiwiMjAyNC0xMS0xNSIsIkxBWCIsbnVsbCwiQUEiLCIzIl1dXQ=='}
2024-08-21 17:22:06,288 - slack_ai_assistant - DEBUG - Processing flight: {'departure_airport': {'name': 'John F. Kennedy International Airport', 'id': 'JFK', 'time': '2024-11-15 08:00'}, 'arrival_airport': {'name': 'Los Angeles International Airport', 'id': 'LAX', 'time': '2024-11-15 11:28'}, 'duration': 388, 'airplane': 'Airbus A321 (Sharklets)', 'airline': 'American', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/AA.png', 'travel_class': 'Economy', 'flight_number': 'AA 3', 'legroom': '31 in', 'extensions': ['Average legroom (31 in)', 'Wi-Fi for a fee', 'In-seat power & USB outlets', 'Stream media to your device', 'Carbon emissions estimate: 537 kg']}
2024-08-21 17:22:06,288 - slack_ai_assistant - DEBUG - Processing flight group 3: {'flights': [{'departure_airport': {'name': 'John F. Kennedy International Airport', 'id': 'JFK', 'time': '2024-11-15 08:05'}, 'arrival_airport': {'name': 'Los Angeles International Airport', 'id': 'LAX', 'time': '2024-11-15 11:23'}, 'duration': 378, 'airplane': 'Boeing 767', 'airline': 'Delta', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/DL.png', 'travel_class': 'Economy', 'flight_number': 'DL 713', 'legroom': '31 in', 'extensions': ['Average legroom (31 in)', 'Wi-Fi', 'In-seat power & USB outlets', 'On-demand video', 'Carbon emissions estimate: 266 kg']}], 'total_duration': 378, 'carbon_emissions': {'this_flight': 266000, 'typical_for_this_route': 344000, 'difference_percent': -23}, 'price': 129, 'type': 'One way', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/DL.png', 'extensions': ['Checked baggage for a fee'], 'booking_token': 'WyJDalJJYW5KSWNVcHVVMDFFUlVWQlFsRXdiMmRDUnkwdExTMHRMUzB0YjJ0aWEyWXhNVUZCUVVGQlIySkhaMnhKUkRoUFpFMUJFZ1ZFVERjeE14b0tDTEJrRUFJYUExVlRSRGdjY0xCayIsW1siSkZLIiwiMjAyNC0xMS0xNSIsIkxBWCIsbnVsbCwiREwiLCI3MTMiXV1d'}
2024-08-21 17:22:06,288 - slack_ai_assistant - DEBUG - Processing flight: {'departure_airport': {'name': 'John F. Kennedy International Airport', 'id': 'JFK', 'time': '2024-11-15 08:05'}, 'arrival_airport': {'name': 'Los Angeles International Airport', 'id': 'LAX', 'time': '2024-11-15 11:23'}, 'duration': 378, 'airplane': 'Boeing 767', 'airline': 'Delta', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/DL.png', 'travel_class': 'Economy', 'flight_number': 'DL 713', 'legroom': '31 in', 'extensions': ['Average legroom (31 in)', 'Wi-Fi', 'In-seat power & USB outlets', 'On-demand video', 'Carbon emissions estimate: 266 kg']}
2024-08-21 17:22:06,289 - slack_ai_assistant - DEBUG - Flight search results: 1. JetBlue - $119 - 0 stop(s):
  - Departure: John F. Kennedy International Airport (JFK) on November 15 at 10:29
  - Arrival: Los Angeles International Airport (LAX) on November 15 at 13:45
  - Duration: 6h 16m

2. American - $129 - 0 stop(s):
  - Departure: John F. Kennedy International Airport (JFK) on November 15 at 08:00
  - Arrival: Los Angeles International Airport (LAX) on November 15 at 11:28
  - Duration: 6h 28m

3. Delta - $129 - 0 stop(s):
  - Departure: John F. Kennedy International Airport (JFK) on November 15 at 08:05
  - Arrival: Los Angeles International Airport (LAX) on November 15 at 11:23
  - Duration: 6h 18m
2024-08-21 17:22:09,756 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_obwK3ahlh95UpVXeRyfe4VRa', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='find me a flight from new york to los angeles november 15'), type='text')], created_at=1724286119, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_nOyzo2zSLiz1zKoBjumZwhcC'), Message(id='msg_Mk5VA2eVTizSPE75nxDCJUjm', assistant_id='asst_LchyTrJxoG8J8nvNUnyfVkeU', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='I apologize for the inconvenience. Let me try that search again for you.'), type='text')], created_at=1724286123, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_7N5z2R17AVTnWTq5HWOU2GcW', status=None, thread_id='thread_nOyzo2zSLiz1zKoBjumZwhcC'), Message(id='msg_V23O5kPjVotw5TSo3AeZRkJ4', assistant_id='asst_LchyTrJxoG8J8nvNUnyfVkeU', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='I found some flights for you from New York to Los Angeles on November 15th:\n\n1. JetBlue - $119 (Direct flight):\n   - Departure: John F. Kennedy International Airport (JFK) at 10:29\n   - Arrival: Los Angeles International Airport (LAX) at 13:45\n   - Duration: 6 hours 16 minutes\n\n2. American Airlines - $129 (Direct flight):\n   - Departure: John F. Kennedy International Airport (JFK) at 08:00\n   - Arrival: Los Angeles International Airport (LAX) at 11:28\n   - Duration: 6 hours 28 minutes\n\n3. Delta Airlines - $129 (Direct flight):\n   - Departure: John F. Kennedy International Airport (JFK) at 08:05\n   - Arrival: Los Angeles International Airport (LAX) at 11:23\n   - Duration: 6 hours 18 minutes\n\nThese are the options available for your trip. Let me know if you need more information or assistance with booking.'), type='text')], created_at=1724286127, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_7N5z2R17AVTnWTq5HWOU2GcW', status=None, thread_id='thread_nOyzo2zSLiz1zKoBjumZwhcC')], object='list', first_id='msg_obwK3ahlh95UpVXeRyfe4VRa', last_id='msg_V23O5kPjVotw5TSo3AeZRkJ4', has_more=False)
2024-08-21 17:22:09,757 - slack_ai_assistant - DEBUG - Messages: SyncCursorPage[Message](data=[Message(id='msg_obwK3ahlh95UpVXeRyfe4VRa', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='find me a flight from new york to los angeles november 15'), type='text')], created_at=1724286119, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_nOyzo2zSLiz1zKoBjumZwhcC'), Message(id='msg_Mk5VA2eVTizSPE75nxDCJUjm', assistant_id='asst_LchyTrJxoG8J8nvNUnyfVkeU', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='I apologize for the inconvenience. Let me try that search again for you.'), type='text')], created_at=1724286123, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_7N5z2R17AVTnWTq5HWOU2GcW', status=None, thread_id='thread_nOyzo2zSLiz1zKoBjumZwhcC'), Message(id='msg_V23O5kPjVotw5TSo3AeZRkJ4', assistant_id='asst_LchyTrJxoG8J8nvNUnyfVkeU', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='I found some flights for you from New York to Los Angeles on November 15th:\n\n1. JetBlue - $119 (Direct flight):\n   - Departure: John F. Kennedy International Airport (JFK) at 10:29\n   - Arrival: Los Angeles International Airport (LAX) at 13:45\n   - Duration: 6 hours 16 minutes\n\n2. American Airlines - $129 (Direct flight):\n   - Departure: John F. Kennedy International Airport (JFK) at 08:00\n   - Arrival: Los Angeles International Airport (LAX) at 11:28\n   - Duration: 6 hours 28 minutes\n\n3. Delta Airlines - $129 (Direct flight):\n   - Departure: John F. Kennedy International Airport (JFK) at 08:05\n   - Arrival: Los Angeles International Airport (LAX) at 11:23\n   - Duration: 6 hours 18 minutes\n\nThese are the options available for your trip. Let me know if you need more information or assistance with booking.'), type='text')], created_at=1724286127, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_7N5z2R17AVTnWTq5HWOU2GcW', status=None, thread_id='thread_nOyzo2zSLiz1zKoBjumZwhcC')], object='list', first_id='msg_obwK3ahlh95UpVXeRyfe4VRa', last_id='msg_V23O5kPjVotw5TSo3AeZRkJ4', has_more=False)
2024-08-21 17:22:09,757 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 17:22:09,757 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_7N5z2R17AVTnWTq5HWOU2GcW
2024-08-21 17:22:09,757 - slack_ai_assistant - DEBUG - Dispatch result: {'thread_id': 'thread_nOyzo2zSLiz1zKoBjumZwhcC', 'run_id': 'run_7N5z2R17AVTnWTq5HWOU2GcW', 'assistant_response': 'I apologize for the inconvenience. Let me try that search again for you.'}
2024-08-21 17:22:09,757 - slack_ai_assistant - DEBUG - Thread ID: thread_nOyzo2zSLiz1zKoBjumZwhcC, Run ID: run_7N5z2R17AVTnWTq5HWOU2GcW
2024-08-21 17:22:09,757 - slack_ai_assistant - DEBUG - Function outputs: None
2024-08-21 17:22:09,757 - slack_ai_assistant - DEBUG - Assistant response: I apologize for the inconvenience. Let me try that search again for you.
2024-08-21 17:22:09,757 - slack_ai_assistant - DEBUG - Sending assistant response: I apologize for the inconvenience. Let me try that search again for you.
2024-08-21 17:22:09,757 - slack_ai_assistant - DEBUG - Sending Slack response - Channel: C07A869GUDT, Response: I apologize for the inconvenience. Let me try that search again for you.
2024-08-21 17:22:11,638 - slack_ai_assistant - DEBUG - Formatted Slack message: {'channel': 'C07A869GUDT', 'text': 'I apologize for the inconvenience. Let me try that search again for you.', 'blocks': [{'type': 'section', 'text': {'type': 'mrkdwn', 'text': 'I apologize for the inconvenience. Let me try that search again for you.'}}, {'type': 'divider'}, {'type': 'context', 'elements': [{'type': 'mrkdwn', 'text': 'If you have any further questions, feel free to ask.'}]}]}
2024-08-21 17:27:36,450 - slack_ai_assistant - INFO - Google authentication initialized successfully
2024-08-21 17:27:36,450 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 17:27:36,928 - slack_ai_assistant - DEBUG - Updated TravelAssistant with new tools and instructions
2024-08-21 17:27:36,928 - slack_ai_assistant - DEBUG - Assistants update completed
2024-08-21 17:27:37,091 - slack_ai_assistant - DEBUG - Updated CalendarAssistant with new tools and instructions
2024-08-21 17:27:37,091 - slack_ai_assistant - DEBUG - Assistants update completed
2024-08-21 17:27:37,314 - slack_ai_assistant - DEBUG - Updated GmailAssistant with new tools and instructions
2024-08-21 17:27:37,314 - slack_ai_assistant - DEBUG - Assistants update completed
2024-08-21 17:27:37,315 - slack_ai_assistant - DEBUG - Creating Slack bot
2024-08-21 17:27:37,430 - slack_ai_assistant - DEBUG - Slack bot created successfully
2024-08-21 17:27:37,430 - slack_ai_assistant - INFO - Starting the AI-Powered Personal Assistant Slack Bot
2024-08-21 17:27:48,387 - slack_ai_assistant - DEBUG - Received message event: {'user': 'U079WGB6T0X', 'type': 'message', 'ts': '1724286467.456899', 'client_msg_id': '15292b69-f04b-41c7-8724-5a6f5d27e741', 'text': 'find me a flight from new york to los angeles november 15', 'team': 'T07APNY0M4Z', 'blocks': [{'type': 'rich_text', 'block_id': 'mmaAz', 'elements': [{'type': 'rich_text_section', 'elements': [{'type': 'text', 'text': 'find me a flight from new york to los angeles november 15'}]}]}], 'channel': 'C07A869GUDT', 'event_ts': '1724286467.456899', 'channel_type': 'channel'}
2024-08-21 17:27:48,387 - slack_ai_assistant - DEBUG - Processing message event - Text: find me a flight from new york to los angeles november 15, User: U079WGB6T0X, Channel: C07A869GUDT
2024-08-21 17:27:49,668 - slack_ai_assistant - DEBUG - Dispatching message
2024-08-21 17:27:49,668 - slack_ai_assistant - INFO - Starting dispatch for user input: find me a flight from new york to los angeles november 15
2024-08-21 17:27:50,386 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_tD4OiEgFVcNLjthOUyJ0onQi', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='find me a flight from new york to los angeles november 15'), type='text')], created_at=1724286470, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_R7GGCxCQQcXjLPo0ChH4zMz9')], object='list', first_id='msg_tD4OiEgFVcNLjthOUyJ0onQi', last_id='msg_tD4OiEgFVcNLjthOUyJ0onQi', has_more=False)
2024-08-21 17:27:52,603 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_tD4OiEgFVcNLjthOUyJ0onQi', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='find me a flight from new york to los angeles november 15'), type='text')], created_at=1724286470, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_R7GGCxCQQcXjLPo0ChH4zMz9'), Message(id='msg_3cSP3uh0FTqNIVyv6aY7wdux', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='travel'), type='text')], created_at=1724286472, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_pq79xgv03yVCcZK5tZksFdRS', status=None, thread_id='thread_R7GGCxCQQcXjLPo0ChH4zMz9')], object='list', first_id='msg_tD4OiEgFVcNLjthOUyJ0onQi', last_id='msg_3cSP3uh0FTqNIVyv6aY7wdux', has_more=False)
2024-08-21 17:27:52,603 - slack_ai_assistant - DEBUG - Messages: SyncCursorPage[Message](data=[Message(id='msg_tD4OiEgFVcNLjthOUyJ0onQi', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='find me a flight from new york to los angeles november 15'), type='text')], created_at=1724286470, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_R7GGCxCQQcXjLPo0ChH4zMz9'), Message(id='msg_3cSP3uh0FTqNIVyv6aY7wdux', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='travel'), type='text')], created_at=1724286472, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_pq79xgv03yVCcZK5tZksFdRS', status=None, thread_id='thread_R7GGCxCQQcXjLPo0ChH4zMz9')], object='list', first_id='msg_tD4OiEgFVcNLjthOUyJ0onQi', last_id='msg_3cSP3uh0FTqNIVyv6aY7wdux', has_more=False)
2024-08-21 17:27:52,603 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 17:27:52,603 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_pq79xgv03yVCcZK5tZksFdRS
2024-08-21 17:27:52,603 - slack_ai_assistant - INFO - Selected assistant: TravelAssistant
2024-08-21 17:27:56,031 - slack_ai_assistant - DEBUG - Executing function: search_flights with parameters: {'origin': 'JFK', 'destination': 'LAX', 'departure_date': '2022-11-15', 'return_date': '', 'passengers': '', 'class': ''}
2024-08-21 17:27:56,032 - slack_ai_assistant - DEBUG - TravelIntegration executing function: search_flights with params: {'origin': 'JFK', 'destination': 'LAX', 'departure_date': '2022-11-15', 'return_date': '', 'passengers': '', 'class': ''}
2024-08-21 17:27:56,032 - slack_ai_assistant - DEBUG - Searching flights with travel request: {'origin': 'JFK', 'destination': 'LAX', 'departure_date': '2022-11-15', 'return_date': '', 'passengers': '', 'class': ''}
2024-08-21 17:27:56,068 - slack_ai_assistant - DEBUG - API request params: {'engine': 'google_flights', 'api_key': '12d8d6afd37f1c013ff546cb97c8bacd536fcb9eb1035cdac2446ca861df6793', 'departure_id': 'JFK', 'arrival_id': 'LAX', 'outbound_date': '2024-11-15', 'type': '2', 'currency': 'USD', 'hl': 'en', 'gl': 'us', 'travel_class': '1', 'adults': '1', 'children': '0', 'infants_in_seat': '0', 'infants_on_lap': '0', 'stops': '0', 'show_hidden': 'false'}
2024-08-21 17:27:56,172 - slack_ai_assistant - DEBUG - Best flights data: [{'flights': [{'departure_airport': {'name': 'John F. Kennedy International Airport', 'id': 'JFK', 'time': '2024-11-15 10:29'}, 'arrival_airport': {'name': 'Los Angeles International Airport', 'id': 'LAX', 'time': '2024-11-15 13:45'}, 'duration': 376, 'airplane': 'Airbus A320', 'airline': 'JetBlue', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/B6.png', 'travel_class': 'Economy', 'flight_number': 'B6 723', 'legroom': '32 in', 'extensions': ['Above average legroom (32 in)', 'Free Wi-Fi', 'In-seat power & USB outlets', 'Live TV', 'Carbon emissions estimate: 388 kg']}], 'total_duration': 376, 'carbon_emissions': {'this_flight': 389000, 'typical_for_this_route': 344000, 'difference_percent': 13}, 'price': 119, 'type': 'One way', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/B6.png', 'extensions': ['Checked baggage for a fee'], 'booking_token': 'WyJDalJJVW05cVEyNXVTemRFZG1OQlFYSkVja0ZDUnkwdExTMHRMUzB0TFhscFltWjZNVUZCUVVGQlIySkhaM1pyUzBWRWFYbEJFZ1ZDTmpjeU14b0tDS0pjRUFJYUExVlRSRGdjY0tKYyIsW1siSkZLIiwiMjAyNC0xMS0xNSIsIkxBWCIsbnVsbCwiQjYiLCI3MjMiXV1d'}, {'flights': [{'departure_airport': {'name': 'John F. Kennedy International Airport', 'id': 'JFK', 'time': '2024-11-15 08:00'}, 'arrival_airport': {'name': 'Los Angeles International Airport', 'id': 'LAX', 'time': '2024-11-15 11:28'}, 'duration': 388, 'airplane': 'Airbus A321 (Sharklets)', 'airline': 'American', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/AA.png', 'travel_class': 'Economy', 'flight_number': 'AA 3', 'legroom': '31 in', 'extensions': ['Average legroom (31 in)', 'Wi-Fi for a fee', 'In-seat power & USB outlets', 'Stream media to your device', 'Carbon emissions estimate: 537 kg']}], 'total_duration': 388, 'carbon_emissions': {'this_flight': 538000, 'typical_for_this_route': 344000, 'difference_percent': 56}, 'price': 129, 'type': 'One way', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/AA.png', 'extensions': ['Checked baggage for a fee'], 'booking_token': 'WyJDalJJVW05cVEyNXVTemRFZG1OQlFYSkVja0ZDUnkwdExTMHRMUzB0TFhscFltWjZNVUZCUVVGQlIySkhaM1pyUzBWRWFYbEJFZ05CUVRNYUNnaXdaQkFDR2dOVlUwUTRISEN3WkE9PSIsW1siSkZLIiwiMjAyNC0xMS0xNSIsIkxBWCIsbnVsbCwiQUEiLCIzIl1dXQ=='}, {'flights': [{'departure_airport': {'name': 'John F. Kennedy International Airport', 'id': 'JFK', 'time': '2024-11-15 08:05'}, 'arrival_airport': {'name': 'Los Angeles International Airport', 'id': 'LAX', 'time': '2024-11-15 11:23'}, 'duration': 378, 'airplane': 'Boeing 767', 'airline': 'Delta', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/DL.png', 'travel_class': 'Economy', 'flight_number': 'DL 713', 'legroom': '31 in', 'extensions': ['Average legroom (31 in)', 'Wi-Fi', 'In-seat power & USB outlets', 'On-demand video', 'Carbon emissions estimate: 266 kg']}], 'total_duration': 378, 'carbon_emissions': {'this_flight': 266000, 'typical_for_this_route': 344000, 'difference_percent': -23}, 'price': 129, 'type': 'One way', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/DL.png', 'extensions': ['Checked baggage for a fee'], 'booking_token': 'WyJDalJJVW05cVEyNXVTemRFZG1OQlFYSkVja0ZDUnkwdExTMHRMUzB0TFhscFltWjZNVUZCUVVGQlIySkhaM1pyUzBWRWFYbEJFZ1ZFVERjeE14b0tDTEJrRUFJYUExVlRSRGdjY0xCayIsW1siSkZLIiwiMjAyNC0xMS0xNSIsIkxBWCIsbnVsbCwiREwiLCI3MTMiXV1d'}]
2024-08-21 17:27:56,173 - slack_ai_assistant - DEBUG - Processing flight group 1: {'flights': [{'departure_airport': {'name': 'John F. Kennedy International Airport', 'id': 'JFK', 'time': '2024-11-15 10:29'}, 'arrival_airport': {'name': 'Los Angeles International Airport', 'id': 'LAX', 'time': '2024-11-15 13:45'}, 'duration': 376, 'airplane': 'Airbus A320', 'airline': 'JetBlue', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/B6.png', 'travel_class': 'Economy', 'flight_number': 'B6 723', 'legroom': '32 in', 'extensions': ['Above average legroom (32 in)', 'Free Wi-Fi', 'In-seat power & USB outlets', 'Live TV', 'Carbon emissions estimate: 388 kg']}], 'total_duration': 376, 'carbon_emissions': {'this_flight': 389000, 'typical_for_this_route': 344000, 'difference_percent': 13}, 'price': 119, 'type': 'One way', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/B6.png', 'extensions': ['Checked baggage for a fee'], 'booking_token': 'WyJDalJJVW05cVEyNXVTemRFZG1OQlFYSkVja0ZDUnkwdExTMHRMUzB0TFhscFltWjZNVUZCUVVGQlIySkhaM1pyUzBWRWFYbEJFZ1ZDTmpjeU14b0tDS0pjRUFJYUExVlRSRGdjY0tKYyIsW1siSkZLIiwiMjAyNC0xMS0xNSIsIkxBWCIsbnVsbCwiQjYiLCI3MjMiXV1d'}
2024-08-21 17:27:56,173 - slack_ai_assistant - DEBUG - Processing flight: {'departure_airport': {'name': 'John F. Kennedy International Airport', 'id': 'JFK', 'time': '2024-11-15 10:29'}, 'arrival_airport': {'name': 'Los Angeles International Airport', 'id': 'LAX', 'time': '2024-11-15 13:45'}, 'duration': 376, 'airplane': 'Airbus A320', 'airline': 'JetBlue', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/B6.png', 'travel_class': 'Economy', 'flight_number': 'B6 723', 'legroom': '32 in', 'extensions': ['Above average legroom (32 in)', 'Free Wi-Fi', 'In-seat power & USB outlets', 'Live TV', 'Carbon emissions estimate: 388 kg']}
2024-08-21 17:27:56,174 - slack_ai_assistant - DEBUG - Processing flight group 2: {'flights': [{'departure_airport': {'name': 'John F. Kennedy International Airport', 'id': 'JFK', 'time': '2024-11-15 08:00'}, 'arrival_airport': {'name': 'Los Angeles International Airport', 'id': 'LAX', 'time': '2024-11-15 11:28'}, 'duration': 388, 'airplane': 'Airbus A321 (Sharklets)', 'airline': 'American', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/AA.png', 'travel_class': 'Economy', 'flight_number': 'AA 3', 'legroom': '31 in', 'extensions': ['Average legroom (31 in)', 'Wi-Fi for a fee', 'In-seat power & USB outlets', 'Stream media to your device', 'Carbon emissions estimate: 537 kg']}], 'total_duration': 388, 'carbon_emissions': {'this_flight': 538000, 'typical_for_this_route': 344000, 'difference_percent': 56}, 'price': 129, 'type': 'One way', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/AA.png', 'extensions': ['Checked baggage for a fee'], 'booking_token': 'WyJDalJJVW05cVEyNXVTemRFZG1OQlFYSkVja0ZDUnkwdExTMHRMUzB0TFhscFltWjZNVUZCUVVGQlIySkhaM1pyUzBWRWFYbEJFZ05CUVRNYUNnaXdaQkFDR2dOVlUwUTRISEN3WkE9PSIsW1siSkZLIiwiMjAyNC0xMS0xNSIsIkxBWCIsbnVsbCwiQUEiLCIzIl1dXQ=='}
2024-08-21 17:27:56,174 - slack_ai_assistant - DEBUG - Processing flight: {'departure_airport': {'name': 'John F. Kennedy International Airport', 'id': 'JFK', 'time': '2024-11-15 08:00'}, 'arrival_airport': {'name': 'Los Angeles International Airport', 'id': 'LAX', 'time': '2024-11-15 11:28'}, 'duration': 388, 'airplane': 'Airbus A321 (Sharklets)', 'airline': 'American', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/AA.png', 'travel_class': 'Economy', 'flight_number': 'AA 3', 'legroom': '31 in', 'extensions': ['Average legroom (31 in)', 'Wi-Fi for a fee', 'In-seat power & USB outlets', 'Stream media to your device', 'Carbon emissions estimate: 537 kg']}
2024-08-21 17:27:56,174 - slack_ai_assistant - DEBUG - Processing flight group 3: {'flights': [{'departure_airport': {'name': 'John F. Kennedy International Airport', 'id': 'JFK', 'time': '2024-11-15 08:05'}, 'arrival_airport': {'name': 'Los Angeles International Airport', 'id': 'LAX', 'time': '2024-11-15 11:23'}, 'duration': 378, 'airplane': 'Boeing 767', 'airline': 'Delta', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/DL.png', 'travel_class': 'Economy', 'flight_number': 'DL 713', 'legroom': '31 in', 'extensions': ['Average legroom (31 in)', 'Wi-Fi', 'In-seat power & USB outlets', 'On-demand video', 'Carbon emissions estimate: 266 kg']}], 'total_duration': 378, 'carbon_emissions': {'this_flight': 266000, 'typical_for_this_route': 344000, 'difference_percent': -23}, 'price': 129, 'type': 'One way', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/DL.png', 'extensions': ['Checked baggage for a fee'], 'booking_token': 'WyJDalJJVW05cVEyNXVTemRFZG1OQlFYSkVja0ZDUnkwdExTMHRMUzB0TFhscFltWjZNVUZCUVVGQlIySkhaM1pyUzBWRWFYbEJFZ1ZFVERjeE14b0tDTEJrRUFJYUExVlRSRGdjY0xCayIsW1siSkZLIiwiMjAyNC0xMS0xNSIsIkxBWCIsbnVsbCwiREwiLCI3MTMiXV1d'}
2024-08-21 17:27:56,175 - slack_ai_assistant - DEBUG - Processing flight: {'departure_airport': {'name': 'John F. Kennedy International Airport', 'id': 'JFK', 'time': '2024-11-15 08:05'}, 'arrival_airport': {'name': 'Los Angeles International Airport', 'id': 'LAX', 'time': '2024-11-15 11:23'}, 'duration': 378, 'airplane': 'Boeing 767', 'airline': 'Delta', 'airline_logo': 'https://www.gstatic.com/flights/airline_logos/70px/DL.png', 'travel_class': 'Economy', 'flight_number': 'DL 713', 'legroom': '31 in', 'extensions': ['Average legroom (31 in)', 'Wi-Fi', 'In-seat power & USB outlets', 'On-demand video', 'Carbon emissions estimate: 266 kg']}
2024-08-21 17:27:56,175 - slack_ai_assistant - DEBUG - Flight search results: 1. JetBlue - $119 - 0 stop(s):
  - Departure: John F. Kennedy International Airport (JFK) on November 15 at 10:29
  - Arrival: Los Angeles International Airport (LAX) on November 15 at 13:45
  - Duration: 6h 16m

2. American - $129 - 0 stop(s):
  - Departure: John F. Kennedy International Airport (JFK) on November 15 at 08:00
  - Arrival: Los Angeles International Airport (LAX) on November 15 at 11:28
  - Duration: 6h 28m

3. Delta - $129 - 0 stop(s):
  - Departure: John F. Kennedy International Airport (JFK) on November 15 at 08:05
  - Arrival: Los Angeles International Airport (LAX) on November 15 at 11:23
  - Duration: 6h 18m
2024-08-21 17:28:01,231 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_NgKEqbbRBCEbWArwJw7fN9ZB', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='find me a flight from new york to los angeles november 15'), type='text')], created_at=1724286473, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_svR9qfAIpdEAGUqSeg0Ak0l2'), Message(id='msg_Dj7V98HthJGWRfyqaM20THgi', assistant_id='asst_LchyTrJxoG8J8nvNUnyfVkeU', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='I found some flight options for you from New York to Los Angeles on November 15th:\n\n1. JetBlue - $119 - 0 stop(s):\n   - Departure: John F. Kennedy International Airport (JFK) on November 15 at 10:29\n   - Arrival: Los Angeles International Airport (LAX) on November 15 at 13:45\n   - Duration: 6h 16m\n\n2. American - $129 - 0 stop(s):\n   - Departure: John F. Kennedy International Airport (JFK) on November 15 at 08:00\n   - Arrival: Los Angeles International Airport (LAX) on November 15 at 11:28\n   - Duration: 6h 28m\n\n3. Delta - $129 - 0 stop(s):\n   - Departure: John F. Kennedy International Airport (JFK) on November 15 at 08:05\n   - Arrival: Los Angeles International Airport (LAX) on November 15 at 11:23\n   - Duration: 6h 18m\n\nLet me know if you need more information or assistance with booking.'), type='text')], created_at=1724286477, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_FFXlpVektHgF8tFWTOc7p62j', status=None, thread_id='thread_svR9qfAIpdEAGUqSeg0Ak0l2')], object='list', first_id='msg_NgKEqbbRBCEbWArwJw7fN9ZB', last_id='msg_Dj7V98HthJGWRfyqaM20THgi', has_more=False)
2024-08-21 17:28:01,232 - slack_ai_assistant - DEBUG - Messages: SyncCursorPage[Message](data=[Message(id='msg_NgKEqbbRBCEbWArwJw7fN9ZB', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='find me a flight from new york to los angeles november 15'), type='text')], created_at=1724286473, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_svR9qfAIpdEAGUqSeg0Ak0l2'), Message(id='msg_Dj7V98HthJGWRfyqaM20THgi', assistant_id='asst_LchyTrJxoG8J8nvNUnyfVkeU', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='I found some flight options for you from New York to Los Angeles on November 15th:\n\n1. JetBlue - $119 - 0 stop(s):\n   - Departure: John F. Kennedy International Airport (JFK) on November 15 at 10:29\n   - Arrival: Los Angeles International Airport (LAX) on November 15 at 13:45\n   - Duration: 6h 16m\n\n2. American - $129 - 0 stop(s):\n   - Departure: John F. Kennedy International Airport (JFK) on November 15 at 08:00\n   - Arrival: Los Angeles International Airport (LAX) on November 15 at 11:28\n   - Duration: 6h 28m\n\n3. Delta - $129 - 0 stop(s):\n   - Departure: John F. Kennedy International Airport (JFK) on November 15 at 08:05\n   - Arrival: Los Angeles International Airport (LAX) on November 15 at 11:23\n   - Duration: 6h 18m\n\nLet me know if you need more information or assistance with booking.'), type='text')], created_at=1724286477, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_FFXlpVektHgF8tFWTOc7p62j', status=None, thread_id='thread_svR9qfAIpdEAGUqSeg0Ak0l2')], object='list', first_id='msg_NgKEqbbRBCEbWArwJw7fN9ZB', last_id='msg_Dj7V98HthJGWRfyqaM20THgi', has_more=False)
2024-08-21 17:28:01,232 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 17:28:01,232 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_FFXlpVektHgF8tFWTOc7p62j
2024-08-21 17:28:01,232 - slack_ai_assistant - DEBUG - Dispatch result: {'thread_id': 'thread_svR9qfAIpdEAGUqSeg0Ak0l2', 'run_id': 'run_FFXlpVektHgF8tFWTOc7p62j', 'assistant_response': 'I found some flight options for you from New York to Los Angeles on November 15th:\n\n1. JetBlue - $119 - 0 stop(s):\n   - Departure: John F. Kennedy International Airport (JFK) on November 15 at 10:29\n   - Arrival: Los Angeles International Airport (LAX) on November 15 at 13:45\n   - Duration: 6h 16m\n\n2. American - $129 - 0 stop(s):\n   - Departure: John F. Kennedy International Airport (JFK) on November 15 at 08:00\n   - Arrival: Los Angeles International Airport (LAX) on November 15 at 11:28\n   - Duration: 6h 28m\n\n3. Delta - $129 - 0 stop(s):\n   - Departure: John F. Kennedy International Airport (JFK) on November 15 at 08:05\n   - Arrival: Los Angeles International Airport (LAX) on November 15 at 11:23\n   - Duration: 6h 18m\n\nLet me know if you need more information or assistance with booking.'}
2024-08-21 17:28:01,232 - slack_ai_assistant - DEBUG - Thread ID: thread_svR9qfAIpdEAGUqSeg0Ak0l2, Run ID: run_FFXlpVektHgF8tFWTOc7p62j
2024-08-21 17:28:01,232 - slack_ai_assistant - DEBUG - Function outputs: None
2024-08-21 17:28:01,232 - slack_ai_assistant - DEBUG - Assistant response: I found some flight options for you from New York to Los Angeles on November 15th:

1. JetBlue - $119 - 0 stop(s):
   - Departure: John F. Kennedy International Airport (JFK) on November 15 at 10:29
   - Arrival: Los Angeles International Airport (LAX) on November 15 at 13:45
   - Duration: 6h 16m

2. American - $129 - 0 stop(s):
   - Departure: John F. Kennedy International Airport (JFK) on November 15 at 08:00
   - Arrival: Los Angeles International Airport (LAX) on November 15 at 11:28
   - Duration: 6h 28m

3. Delta - $129 - 0 stop(s):
   - Departure: John F. Kennedy International Airport (JFK) on November 15 at 08:05
   - Arrival: Los Angeles International Airport (LAX) on November 15 at 11:23
   - Duration: 6h 18m

Let me know if you need more information or assistance with booking.
2024-08-21 17:28:01,233 - slack_ai_assistant - DEBUG - Sending assistant response: I found some flight options for you from New York to Los Angeles on November 15th:

1. JetBlue - $119 - 0 stop(s):
   - Departure: John F. Kennedy International Airport (JFK) on November 15 at 10:29
   - Arrival: Los Angeles International Airport (LAX) on November 15 at 13:45
   - Duration: 6h 16m

2. American - $129 - 0 stop(s):
   - Departure: John F. Kennedy International Airport (JFK) on November 15 at 08:00
   - Arrival: Los Angeles International Airport (LAX) on November 15 at 11:28
   - Duration: 6h 28m

3. Delta - $129 - 0 stop(s):
   - Departure: John F. Kennedy International Airport (JFK) on November 15 at 08:05
   - Arrival: Los Angeles International Airport (LAX) on November 15 at 11:23
   - Duration: 6h 18m

Let me know if you need more information or assistance with booking.
2024-08-21 17:28:01,233 - slack_ai_assistant - DEBUG - Sending Slack response - Channel: C07A869GUDT, Response: I found some flight options for you from New York to Los Angeles on November 15th:

1. JetBlue - $119 - 0 stop(s):
   - Departure: John F. Kennedy International Airport (JFK) on November 15 at 10:29
   - Arrival: Los Angeles International Airport (LAX) on November 15 at 13:45
   - Duration: 6h 16m

2. American - $129 - 0 stop(s):
   - Departure: John F. Kennedy International Airport (JFK) on November 15 at 08:00
   - Arrival: Los Angeles International Airport (LAX) on November 15 at 11:28
   - Duration: 6h 28m

3. Delta - $129 - 0 stop(s):
   - Departure: John F. Kennedy International Airport (JFK) on November 15 at 08:05
   - Arrival: Los Angeles International Airport (LAX) on November 15 at 11:23
   - Duration: 6h 18m

Let me know if you need more information or assistance with booking.
2024-08-21 17:28:06,141 - slack_ai_assistant - DEBUG - Formatted Slack message: {'channel': 'C07A869GUDT', 'text': 'Flight options from New York to Los Angeles on November 15th.', 'blocks': [{'type': 'section', 'text': {'type': 'mrkdwn', 'text': '*Flight options from New York to Los Angeles on November 15th:*'}}, {'type': 'divider'}, {'type': 'section', 'text': {'type': 'mrkdwn', 'text': '1. *JetBlue* - $119 - 0 stop(s):\n   - *Departure:* John F. Kennedy International Airport (JFK) on November 15 at 10:29\n   - *Arrival:* Los Angeles International Airport (LAX) on November 15 at 13:45\n   - *Duration:* 6h 16m'}}, {'type': 'section', 'text': {'type': 'mrkdwn', 'text': '2. *American* - $129 - 0 stop(s):\n   - *Departure:* John F. Kennedy International Airport (JFK) on November 15 at 08:00\n   - *Arrival:* Los Angeles International Airport (LAX) on November 15 at 11:28\n   - *Duration:* 6h 28m'}}, {'type': 'section', 'text': {'type': 'mrkdwn', 'text': '3. *Delta* - $129 - 0 stop(s):\n   - *Departure:* John F. Kennedy International Airport (JFK) on November 15 at 08:05\n   - *Arrival:* Los Angeles International Airport (LAX) on November 15 at 11:23\n   - *Duration:* 6h 18m'}}, {'type': 'divider'}, {'type': 'context', 'elements': [{'type': 'mrkdwn', 'text': 'Let me know if you need more information or assistance with booking.'}]}]}
2024-08-21 17:28:40,790 - slack_ai_assistant - DEBUG - Received message event: {'user': 'U079WGB6T0X', 'type': 'message', 'ts': '1724286520.514419', 'client_msg_id': '0a18c64f-e649-4a05-8ec7-b395affd8555', 'text': 'what should i do there', 'team': 'T07APNY0M4Z', 'blocks': [{'type': 'rich_text', 'block_id': 'SbH1i', 'elements': [{'type': 'rich_text_section', 'elements': [{'type': 'text', 'text': 'what should i do there'}]}]}], 'channel': 'C07A869GUDT', 'event_ts': '1724286520.514419', 'channel_type': 'channel'}
2024-08-21 17:28:40,792 - slack_ai_assistant - DEBUG - Processing message event - Text: what should i do there, User: U079WGB6T0X, Channel: C07A869GUDT
2024-08-21 17:28:42,157 - slack_ai_assistant - DEBUG - Dispatching message
2024-08-21 17:28:42,157 - slack_ai_assistant - INFO - Starting dispatch for user input: what should i do there
2024-08-21 17:28:42,478 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_Gxi7C4bczyHpb1fZXtOkY3R6', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='what should i do there'), type='text')], created_at=1724286522, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_R7GGCxCQQcXjLPo0ChH4zMz9'), Message(id='msg_3cSP3uh0FTqNIVyv6aY7wdux', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='travel'), type='text')], created_at=1724286472, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_pq79xgv03yVCcZK5tZksFdRS', status=None, thread_id='thread_R7GGCxCQQcXjLPo0ChH4zMz9'), Message(id='msg_tD4OiEgFVcNLjthOUyJ0onQi', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='find me a flight from new york to los angeles november 15'), type='text')], created_at=1724286470, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_R7GGCxCQQcXjLPo0ChH4zMz9')], object='list', first_id='msg_Gxi7C4bczyHpb1fZXtOkY3R6', last_id='msg_tD4OiEgFVcNLjthOUyJ0onQi', has_more=False)
2024-08-21 17:28:44,666 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_tD4OiEgFVcNLjthOUyJ0onQi', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='find me a flight from new york to los angeles november 15'), type='text')], created_at=1724286470, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_R7GGCxCQQcXjLPo0ChH4zMz9'), Message(id='msg_3cSP3uh0FTqNIVyv6aY7wdux', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='travel'), type='text')], created_at=1724286472, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_pq79xgv03yVCcZK5tZksFdRS', status=None, thread_id='thread_R7GGCxCQQcXjLPo0ChH4zMz9'), Message(id='msg_Gxi7C4bczyHpb1fZXtOkY3R6', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='what should i do there'), type='text')], created_at=1724286522, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_R7GGCxCQQcXjLPo0ChH4zMz9'), Message(id='msg_cVtDu5BTSGhtLF3NbTFKOs9E', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='general'), type='text')], created_at=1724286523, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_xeGqtOWvYsGGKLBix4gMOFOx', status=None, thread_id='thread_R7GGCxCQQcXjLPo0ChH4zMz9')], object='list', first_id='msg_tD4OiEgFVcNLjthOUyJ0onQi', last_id='msg_cVtDu5BTSGhtLF3NbTFKOs9E', has_more=False)
2024-08-21 17:28:44,666 - slack_ai_assistant - DEBUG - Messages: SyncCursorPage[Message](data=[Message(id='msg_tD4OiEgFVcNLjthOUyJ0onQi', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='find me a flight from new york to los angeles november 15'), type='text')], created_at=1724286470, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_R7GGCxCQQcXjLPo0ChH4zMz9'), Message(id='msg_3cSP3uh0FTqNIVyv6aY7wdux', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='travel'), type='text')], created_at=1724286472, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_pq79xgv03yVCcZK5tZksFdRS', status=None, thread_id='thread_R7GGCxCQQcXjLPo0ChH4zMz9'), Message(id='msg_Gxi7C4bczyHpb1fZXtOkY3R6', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='what should i do there'), type='text')], created_at=1724286522, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_R7GGCxCQQcXjLPo0ChH4zMz9'), Message(id='msg_cVtDu5BTSGhtLF3NbTFKOs9E', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='general'), type='text')], created_at=1724286523, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_xeGqtOWvYsGGKLBix4gMOFOx', status=None, thread_id='thread_R7GGCxCQQcXjLPo0ChH4zMz9')], object='list', first_id='msg_tD4OiEgFVcNLjthOUyJ0onQi', last_id='msg_cVtDu5BTSGhtLF3NbTFKOs9E', has_more=False)
2024-08-21 17:28:44,667 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 17:28:44,667 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_pq79xgv03yVCcZK5tZksFdRS
2024-08-21 17:28:44,667 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 17:28:44,667 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_xeGqtOWvYsGGKLBix4gMOFOx
2024-08-21 17:28:44,667 - slack_ai_assistant - INFO - Selected assistant: GeneralAssistant
2024-08-21 17:28:44,807 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_Dj7V98HthJGWRfyqaM20THgi', assistant_id='asst_LchyTrJxoG8J8nvNUnyfVkeU', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='I found some flight options for you from New York to Los Angeles on November 15th:\n\n1. JetBlue - $119 - 0 stop(s):\n   - Departure: John F. Kennedy International Airport (JFK) on November 15 at 10:29\n   - Arrival: Los Angeles International Airport (LAX) on November 15 at 13:45\n   - Duration: 6h 16m\n\n2. American - $129 - 0 stop(s):\n   - Departure: John F. Kennedy International Airport (JFK) on November 15 at 08:00\n   - Arrival: Los Angeles International Airport (LAX) on November 15 at 11:28\n   - Duration: 6h 28m\n\n3. Delta - $129 - 0 stop(s):\n   - Departure: John F. Kennedy International Airport (JFK) on November 15 at 08:05\n   - Arrival: Los Angeles International Airport (LAX) on November 15 at 11:23\n   - Duration: 6h 18m\n\nLet me know if you need more information or assistance with booking.'), type='text')], created_at=1724286477, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_FFXlpVektHgF8tFWTOc7p62j', status=None, thread_id='thread_svR9qfAIpdEAGUqSeg0Ak0l2'), Message(id='msg_NgKEqbbRBCEbWArwJw7fN9ZB', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='find me a flight from new york to los angeles november 15'), type='text')], created_at=1724286473, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_svR9qfAIpdEAGUqSeg0Ak0l2')], object='list', first_id='msg_Dj7V98HthJGWRfyqaM20THgi', last_id='msg_NgKEqbbRBCEbWArwJw7fN9ZB', has_more=False)
2024-08-21 17:28:50,178 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_NgKEqbbRBCEbWArwJw7fN9ZB', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='find me a flight from new york to los angeles november 15'), type='text')], created_at=1724286473, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_svR9qfAIpdEAGUqSeg0Ak0l2'), Message(id='msg_Dj7V98HthJGWRfyqaM20THgi', assistant_id='asst_LchyTrJxoG8J8nvNUnyfVkeU', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='I found some flight options for you from New York to Los Angeles on November 15th:\n\n1. JetBlue - $119 - 0 stop(s):\n   - Departure: John F. Kennedy International Airport (JFK) on November 15 at 10:29\n   - Arrival: Los Angeles International Airport (LAX) on November 15 at 13:45\n   - Duration: 6h 16m\n\n2. American - $129 - 0 stop(s):\n   - Departure: John F. Kennedy International Airport (JFK) on November 15 at 08:00\n   - Arrival: Los Angeles International Airport (LAX) on November 15 at 11:28\n   - Duration: 6h 28m\n\n3. Delta - $129 - 0 stop(s):\n   - Departure: John F. Kennedy International Airport (JFK) on November 15 at 08:05\n   - Arrival: Los Angeles International Airport (LAX) on November 15 at 11:23\n   - Duration: 6h 18m\n\nLet me know if you need more information or assistance with booking.'), type='text')], created_at=1724286477, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_FFXlpVektHgF8tFWTOc7p62j', status=None, thread_id='thread_svR9qfAIpdEAGUqSeg0Ak0l2'), Message(id='msg_jPkYXoSV2p58bR95JzCJJdmX', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='what should i do there'), type='text')], created_at=1724286525, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_svR9qfAIpdEAGUqSeg0Ak0l2'), Message(id='msg_1LvWYDfHXLS8nwe3DPCmTjFX', assistant_id='asst_8GaMumI3B69ralzkbu0jjcDy', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="Los Angeles is a vibrant city with a wide range of activities and attractions to explore. Here are some popular things to do in Los Angeles:\n\n1. Visit Hollywood: Explore the iconic Hollywood sign, walk along the Hollywood Walk of Fame, and visit famous landmarks like the TCL Chinese Theatre.\n\n2. Relax on the Beach: Enjoy the sun, sand, and ocean breeze at popular beaches like Santa Monica Beach, Venice Beach, or Malibu.\n\n3. Explore Museums: Visit museums such as the Los Angeles County Museum of Art (LACMA), The Getty Center, or the Griffith Observatory.\n\n4. Theme Parks: Have fun at attractions like Disneyland, Universal Studios Hollywood, or Six Flags Magic Mountain.\n\n5. Hiking: Take a hike in the stunning natural landscapes of Los Angeles, such as Griffith Park or Runyon Canyon.\n\n6. Shopping and Dining: Explore trendy shopping areas like Rodeo Drive in Beverly Hills or The Grove, and indulge in diverse dining options from food trucks to fine dining restaurants.\n\n7. Live Entertainment: Catch a show at the Hollywood Bowl, attend a concert at the Staples Center, or watch a live performance at one of the many theaters in the city.\n\nThese are just a few suggestions to get you started. Los Angeles has something for everyone, whether you're interested in culture, entertainment, outdoor activities, or shopping. Enjoy your time in the City of Angels! Let me know if you need more specific recommendations or information."), type='text')], created_at=1724286526, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_eyEEsUR5yM14UP1WqNMyeO4F', status=None, thread_id='thread_svR9qfAIpdEAGUqSeg0Ak0l2')], object='list', first_id='msg_NgKEqbbRBCEbWArwJw7fN9ZB', last_id='msg_1LvWYDfHXLS8nwe3DPCmTjFX', has_more=False)
2024-08-21 17:28:50,179 - slack_ai_assistant - DEBUG - Messages: SyncCursorPage[Message](data=[Message(id='msg_NgKEqbbRBCEbWArwJw7fN9ZB', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='find me a flight from new york to los angeles november 15'), type='text')], created_at=1724286473, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_svR9qfAIpdEAGUqSeg0Ak0l2'), Message(id='msg_Dj7V98HthJGWRfyqaM20THgi', assistant_id='asst_LchyTrJxoG8J8nvNUnyfVkeU', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='I found some flight options for you from New York to Los Angeles on November 15th:\n\n1. JetBlue - $119 - 0 stop(s):\n   - Departure: John F. Kennedy International Airport (JFK) on November 15 at 10:29\n   - Arrival: Los Angeles International Airport (LAX) on November 15 at 13:45\n   - Duration: 6h 16m\n\n2. American - $129 - 0 stop(s):\n   - Departure: John F. Kennedy International Airport (JFK) on November 15 at 08:00\n   - Arrival: Los Angeles International Airport (LAX) on November 15 at 11:28\n   - Duration: 6h 28m\n\n3. Delta - $129 - 0 stop(s):\n   - Departure: John F. Kennedy International Airport (JFK) on November 15 at 08:05\n   - Arrival: Los Angeles International Airport (LAX) on November 15 at 11:23\n   - Duration: 6h 18m\n\nLet me know if you need more information or assistance with booking.'), type='text')], created_at=1724286477, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_FFXlpVektHgF8tFWTOc7p62j', status=None, thread_id='thread_svR9qfAIpdEAGUqSeg0Ak0l2'), Message(id='msg_jPkYXoSV2p58bR95JzCJJdmX', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='what should i do there'), type='text')], created_at=1724286525, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_svR9qfAIpdEAGUqSeg0Ak0l2'), Message(id='msg_1LvWYDfHXLS8nwe3DPCmTjFX', assistant_id='asst_8GaMumI3B69ralzkbu0jjcDy', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="Los Angeles is a vibrant city with a wide range of activities and attractions to explore. Here are some popular things to do in Los Angeles:\n\n1. Visit Hollywood: Explore the iconic Hollywood sign, walk along the Hollywood Walk of Fame, and visit famous landmarks like the TCL Chinese Theatre.\n\n2. Relax on the Beach: Enjoy the sun, sand, and ocean breeze at popular beaches like Santa Monica Beach, Venice Beach, or Malibu.\n\n3. Explore Museums: Visit museums such as the Los Angeles County Museum of Art (LACMA), The Getty Center, or the Griffith Observatory.\n\n4. Theme Parks: Have fun at attractions like Disneyland, Universal Studios Hollywood, or Six Flags Magic Mountain.\n\n5. Hiking: Take a hike in the stunning natural landscapes of Los Angeles, such as Griffith Park or Runyon Canyon.\n\n6. Shopping and Dining: Explore trendy shopping areas like Rodeo Drive in Beverly Hills or The Grove, and indulge in diverse dining options from food trucks to fine dining restaurants.\n\n7. Live Entertainment: Catch a show at the Hollywood Bowl, attend a concert at the Staples Center, or watch a live performance at one of the many theaters in the city.\n\nThese are just a few suggestions to get you started. Los Angeles has something for everyone, whether you're interested in culture, entertainment, outdoor activities, or shopping. Enjoy your time in the City of Angels! Let me know if you need more specific recommendations or information."), type='text')], created_at=1724286526, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_eyEEsUR5yM14UP1WqNMyeO4F', status=None, thread_id='thread_svR9qfAIpdEAGUqSeg0Ak0l2')], object='list', first_id='msg_NgKEqbbRBCEbWArwJw7fN9ZB', last_id='msg_1LvWYDfHXLS8nwe3DPCmTjFX', has_more=False)
2024-08-21 17:28:50,179 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 17:28:50,180 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_FFXlpVektHgF8tFWTOc7p62j
2024-08-21 17:28:50,180 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 17:28:50,180 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_eyEEsUR5yM14UP1WqNMyeO4F
2024-08-21 17:28:50,180 - slack_ai_assistant - DEBUG - Dispatch result: {'thread_id': 'thread_svR9qfAIpdEAGUqSeg0Ak0l2', 'run_id': 'run_eyEEsUR5yM14UP1WqNMyeO4F', 'assistant_response': "Los Angeles is a vibrant city with a wide range of activities and attractions to explore. Here are some popular things to do in Los Angeles:\n\n1. Visit Hollywood: Explore the iconic Hollywood sign, walk along the Hollywood Walk of Fame, and visit famous landmarks like the TCL Chinese Theatre.\n\n2. Relax on the Beach: Enjoy the sun, sand, and ocean breeze at popular beaches like Santa Monica Beach, Venice Beach, or Malibu.\n\n3. Explore Museums: Visit museums such as the Los Angeles County Museum of Art (LACMA), The Getty Center, or the Griffith Observatory.\n\n4. Theme Parks: Have fun at attractions like Disneyland, Universal Studios Hollywood, or Six Flags Magic Mountain.\n\n5. Hiking: Take a hike in the stunning natural landscapes of Los Angeles, such as Griffith Park or Runyon Canyon.\n\n6. Shopping and Dining: Explore trendy shopping areas like Rodeo Drive in Beverly Hills or The Grove, and indulge in diverse dining options from food trucks to fine dining restaurants.\n\n7. Live Entertainment: Catch a show at the Hollywood Bowl, attend a concert at the Staples Center, or watch a live performance at one of the many theaters in the city.\n\nThese are just a few suggestions to get you started. Los Angeles has something for everyone, whether you're interested in culture, entertainment, outdoor activities, or shopping. Enjoy your time in the City of Angels! Let me know if you need more specific recommendations or information."}
2024-08-21 17:28:50,180 - slack_ai_assistant - DEBUG - Thread ID: thread_svR9qfAIpdEAGUqSeg0Ak0l2, Run ID: run_eyEEsUR5yM14UP1WqNMyeO4F
2024-08-21 17:28:50,181 - slack_ai_assistant - DEBUG - Function outputs: None
2024-08-21 17:28:50,181 - slack_ai_assistant - DEBUG - Assistant response: Los Angeles is a vibrant city with a wide range of activities and attractions to explore. Here are some popular things to do in Los Angeles:

1. Visit Hollywood: Explore the iconic Hollywood sign, walk along the Hollywood Walk of Fame, and visit famous landmarks like the TCL Chinese Theatre.

2. Relax on the Beach: Enjoy the sun, sand, and ocean breeze at popular beaches like Santa Monica Beach, Venice Beach, or Malibu.

3. Explore Museums: Visit museums such as the Los Angeles County Museum of Art (LACMA), The Getty Center, or the Griffith Observatory.

4. Theme Parks: Have fun at attractions like Disneyland, Universal Studios Hollywood, or Six Flags Magic Mountain.

5. Hiking: Take a hike in the stunning natural landscapes of Los Angeles, such as Griffith Park or Runyon Canyon.

6. Shopping and Dining: Explore trendy shopping areas like Rodeo Drive in Beverly Hills or The Grove, and indulge in diverse dining options from food trucks to fine dining restaurants.

7. Live Entertainment: Catch a show at the Hollywood Bowl, attend a concert at the Staples Center, or watch a live performance at one of the many theaters in the city.

These are just a few suggestions to get you started. Los Angeles has something for everyone, whether you're interested in culture, entertainment, outdoor activities, or shopping. Enjoy your time in the City of Angels! Let me know if you need more specific recommendations or information.
2024-08-21 17:28:50,181 - slack_ai_assistant - DEBUG - Sending assistant response: Los Angeles is a vibrant city with a wide range of activities and attractions to explore. Here are some popular things to do in Los Angeles:

1. Visit Hollywood: Explore the iconic Hollywood sign, walk along the Hollywood Walk of Fame, and visit famous landmarks like the TCL Chinese Theatre.

2. Relax on the Beach: Enjoy the sun, sand, and ocean breeze at popular beaches like Santa Monica Beach, Venice Beach, or Malibu.

3. Explore Museums: Visit museums such as the Los Angeles County Museum of Art (LACMA), The Getty Center, or the Griffith Observatory.

4. Theme Parks: Have fun at attractions like Disneyland, Universal Studios Hollywood, or Six Flags Magic Mountain.

5. Hiking: Take a hike in the stunning natural landscapes of Los Angeles, such as Griffith Park or Runyon Canyon.

6. Shopping and Dining: Explore trendy shopping areas like Rodeo Drive in Beverly Hills or The Grove, and indulge in diverse dining options from food trucks to fine dining restaurants.

7. Live Entertainment: Catch a show at the Hollywood Bowl, attend a concert at the Staples Center, or watch a live performance at one of the many theaters in the city.

These are just a few suggestions to get you started. Los Angeles has something for everyone, whether you're interested in culture, entertainment, outdoor activities, or shopping. Enjoy your time in the City of Angels! Let me know if you need more specific recommendations or information.
2024-08-21 17:28:50,181 - slack_ai_assistant - DEBUG - Sending Slack response - Channel: C07A869GUDT, Response: Los Angeles is a vibrant city with a wide range of activities and attractions to explore. Here are some popular things to do in Los Angeles:

1. Visit Hollywood: Explore the iconic Hollywood sign, walk along the Hollywood Walk of Fame, and visit famous landmarks like the TCL Chinese Theatre.

2. Relax on the Beach: Enjoy the sun, sand, and ocean breeze at popular beaches like Santa Monica Beach, Venice Beach, or Malibu.

3. Explore Museums: Visit museums such as the Los Angeles County Museum of Art (LACMA), The Getty Center, or the Griffith Observatory.

4. Theme Parks: Have fun at attractions like Disneyland, Universal Studios Hollywood, or Six Flags Magic Mountain.

5. Hiking: Take a hike in the stunning natural landscapes of Los Angeles, such as Griffith Park or Runyon Canyon.

6. Shopping and Dining: Explore trendy shopping areas like Rodeo Drive in Beverly Hills or The Grove, and indulge in diverse dining options from food trucks to fine dining restaurants.

7. Live Entertainment: Catch a show at the Hollywood Bowl, attend a concert at the Staples Center, or watch a live performance at one of the many theaters in the city.

These are just a few suggestions to get you started. Los Angeles has something for everyone, whether you're interested in culture, entertainment, outdoor activities, or shopping. Enjoy your time in the City of Angels! Let me know if you need more specific recommendations or information.
2024-08-21 17:28:58,355 - slack_ai_assistant - DEBUG - Formatted Slack message: {'channel': 'C07A869GUDT', 'text': 'Explore the vibrant city of Los Angeles and discover a range of activities and attractions.', 'blocks': [{'type': 'section', 'text': {'type': 'mrkdwn', 'text': '*Los Angeles* is a vibrant city with a wide range of activities and attractions to explore. Here are some popular things to do in Los Angeles:'}}, {'type': 'section', 'text': {'type': 'mrkdwn', 'text': '1. *Visit Hollywood:* Explore the iconic Hollywood sign, walk along the Hollywood Walk of Fame, and visit famous landmarks like the TCL Chinese Theatre.'}}, {'type': 'section', 'text': {'type': 'mrkdwn', 'text': '2. *Relax on the Beach:* Enjoy the sun, sand, and ocean breeze at popular beaches like Santa Monica Beach, Venice Beach, or Malibu.'}}, {'type': 'section', 'text': {'type': 'mrkdwn', 'text': '3. *Explore Museums:* Visit museums such as the Los Angeles County Museum of Art (LACMA), The Getty Center, or the Griffith Observatory.'}}, {'type': 'section', 'text': {'type': 'mrkdwn', 'text': '4. *Theme Parks:* Have fun at attractions like Disneyland, Universal Studios Hollywood, or Six Flags Magic Mountain.'}}, {'type': 'section', 'text': {'type': 'mrkdwn', 'text': '5. *Hiking:* Take a hike in the stunning natural landscapes of Los Angeles, such as Griffith Park or Runyon Canyon.'}}, {'type': 'section', 'text': {'type': 'mrkdwn', 'text': '6. *Shopping and Dining:* Explore trendy shopping areas like Rodeo Drive in Beverly Hills or The Grove, and indulge in diverse dining options from food trucks to fine dining restaurants.'}}, {'type': 'section', 'text': {'type': 'mrkdwn', 'text': '7. *Live Entertainment:* Catch a show at the Hollywood Bowl, attend a concert at the Staples Center, or watch a live performance at one of the many theaters in the city.'}}, {'type': 'divider'}, {'type': 'section', 'text': {'type': 'mrkdwn', 'text': "These are just a few suggestions to get you started. Los Angeles has something for everyone, whether you're interested in culture, entertainment, outdoor activities, or shopping. Enjoy your time in the City of Angels! Let me know if you need more specific recommendations or information."}}]}
2024-08-21 17:30:01,544 - slack_ai_assistant - INFO - Google authentication initialized successfully
2024-08-21 17:30:01,544 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 17:30:02,140 - slack_ai_assistant - DEBUG - Updated TravelAssistant with new tools and instructions
2024-08-21 17:30:02,140 - slack_ai_assistant - DEBUG - Assistants update completed
2024-08-21 17:30:02,357 - slack_ai_assistant - DEBUG - Updated CalendarAssistant with new tools and instructions
2024-08-21 17:30:02,357 - slack_ai_assistant - DEBUG - Assistants update completed
2024-08-21 17:30:02,496 - slack_ai_assistant - DEBUG - Updated GmailAssistant with new tools and instructions
2024-08-21 17:30:02,496 - slack_ai_assistant - DEBUG - Assistants update completed
2024-08-21 17:30:02,496 - slack_ai_assistant - DEBUG - Creating Slack bot
2024-08-21 17:30:02,619 - slack_ai_assistant - DEBUG - Slack bot created successfully
2024-08-21 17:30:02,620 - slack_ai_assistant - INFO - Starting the AI-Powered Personal Assistant Slack Bot
2024-08-21 17:30:09,135 - slack_ai_assistant - DEBUG - Received message event: {'user': 'U079WGB6T0X', 'type': 'message', 'ts': '1724286608.611119', 'client_msg_id': '79f849b3-8223-4c17-abad-342926007ad9', 'text': 'what should i do in new york', 'team': 'T07APNY0M4Z', 'blocks': [{'type': 'rich_text', 'block_id': '/URa6', 'elements': [{'type': 'rich_text_section', 'elements': [{'type': 'text', 'text': 'what should i do in new york'}]}]}], 'channel': 'C07A869GUDT', 'event_ts': '1724286608.611119', 'channel_type': 'channel'}
2024-08-21 17:30:09,136 - slack_ai_assistant - DEBUG - Processing message event - Text: what should i do in new york, User: U079WGB6T0X, Channel: C07A869GUDT
2024-08-21 17:30:10,211 - slack_ai_assistant - DEBUG - Dispatching message
2024-08-21 17:30:10,211 - slack_ai_assistant - INFO - Starting dispatch for user input: what should i do in new york
2024-08-21 17:30:10,895 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_jhZ5r5wItjtYg95wibj3GpI3', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='what should i do in new york'), type='text')], created_at=1724286610, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_HO2JyScW0TbqU6bAiiHBSzZm')], object='list', first_id='msg_jhZ5r5wItjtYg95wibj3GpI3', last_id='msg_jhZ5r5wItjtYg95wibj3GpI3', has_more=False)
2024-08-21 17:30:14,037 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_jhZ5r5wItjtYg95wibj3GpI3', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='what should i do in new york'), type='text')], created_at=1724286610, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_HO2JyScW0TbqU6bAiiHBSzZm'), Message(id='msg_TaRAO0KwfNDwueN3QAKqkpIz', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='travel'), type='text')], created_at=1724286613, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_SFR18rv1F4tiIVgrXvVsYn2a', status=None, thread_id='thread_HO2JyScW0TbqU6bAiiHBSzZm')], object='list', first_id='msg_jhZ5r5wItjtYg95wibj3GpI3', last_id='msg_TaRAO0KwfNDwueN3QAKqkpIz', has_more=False)
2024-08-21 17:30:14,037 - slack_ai_assistant - DEBUG - Messages: SyncCursorPage[Message](data=[Message(id='msg_jhZ5r5wItjtYg95wibj3GpI3', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='what should i do in new york'), type='text')], created_at=1724286610, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_HO2JyScW0TbqU6bAiiHBSzZm'), Message(id='msg_TaRAO0KwfNDwueN3QAKqkpIz', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='travel'), type='text')], created_at=1724286613, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_SFR18rv1F4tiIVgrXvVsYn2a', status=None, thread_id='thread_HO2JyScW0TbqU6bAiiHBSzZm')], object='list', first_id='msg_jhZ5r5wItjtYg95wibj3GpI3', last_id='msg_TaRAO0KwfNDwueN3QAKqkpIz', has_more=False)
2024-08-21 17:30:14,038 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 17:30:14,038 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_SFR18rv1F4tiIVgrXvVsYn2a
2024-08-21 17:30:14,038 - slack_ai_assistant - INFO - Selected assistant: TravelAssistant
2024-08-21 17:30:23,866 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_F6tIkWxWGzjRpqXtkXxLAQkU', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='what should i do in new york'), type='text')], created_at=1724286614, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_nuCvw8i1CcI7z4ImFihT1lvh'), Message(id='msg_SdGK1oritL6LjV2JVA1stdYa', assistant_id='asst_LchyTrJxoG8J8nvNUnyfVkeU', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="New York City, also known as the Big Apple, offers a plethora of activities and attractions for all types of travelers. Here are some recommendations to make the most of your trip to New York:\n\n### Must-Visit Attractions:\n1. **The Statue of Liberty**:\n   - The iconic symbol of freedom and democracy, located on Liberty Island. You can take a ferry to get up close and learn about its history.\n   \n2. **Central Park**:\n   - A sprawling green oasis in the heart of Manhattan, perfect for picnics, boat rides, and leisurely strolls.\n\n3. **Times Square**:\n   - The bustling commercial hub known for its bright lights, Broadway theaters, and diverse street performers.\n\n4. **The Metropolitan Museum of Art**:\n   - One of the world's largest and most prestigious art museums, housing a wide range of artistic masterpieces.\n\n5. **The High Line**:\n   - An elevated park built on a disused railway, offering stunning views of the city and unique green spaces.\n\n### Unique Experiences:\n1. **Brooklyn Flea Market**:\n   - Explore this vintage and artisanal market in Brooklyn, showcasing local craftsmanship and unique finds.\n\n2. **Harlem Jazz Club**:\n   - Immerse yourself in the rich jazz history of Harlem by visiting one of its legendary jazz clubs for live performances.\n\n3. **Take a Graffiti Tour**:\n   - Discover the vibrant street art scene in neighborhoods like Bushwick with a guided graffiti tour.\n\n4. **Visit The Cloisters**:\n   - Explore this medieval European art museum located in Upper Manhattan, offering a tranquil escape from the city buzz.\n\n5. **Smorgasburg Food Market**:\n   - Indulge in a variety of local and global cuisines at this popular open-air food market in Brooklyn.\n\n### Recommended Restaurants:\n1. **Russ & Daughters ($$)**:\n   - A century-old Jewish deli on the Lower East Side famous for its smoked fish and bagels.\n\n2. **Joe's Pizza ($)**\n   - Enjoy a slice of authentic New York-style pizza at this no-frills pizzeria in Greenwich Village.\n\n3. **Le Bernardin ($$$)**:\n   - Experience Michelin-starred seafood cuisine at this upscale restaurant in Midtown Manhattan.\n\n### Day Trips:\n1. **Hudson Valley**:\n   - Explore scenic vineyards, historic mansions, and outdoor activities just a short drive from the city.\n\n2. **Coney Island**:\n   - Visit this vibrant seaside neighborhood in Brooklyn for its iconic boardwalk, amusement park, and beach.\n\n3. **Storm King Art Center**:\n   - A sculpture park in the Hudson Valley featuring large-scale contemporary artworks in a beautiful natural setting.\n\n### Accommodation Options:\n1. **Budget**: The Pod Hotel (Midtown Manhattan)\n2. **Mid-Range**: The Williamsburg Hotel (Brooklyn)\n3. **Luxury**: The Plaza Hotel (Central Park South)\n\n### Getting Around:\nPublic transportation in NYC is efficient with the subway and bus system covering the entire city. Taxis and ride-sharing services are also readily available. Consider getting a MetroCard for unlimited rides during your stay.\n\n### Events/Festivals:\n**New York Fashion Week**:\n   - If you're into fashion, plan your trip around February or September to catch one of the biggest events in the industry.\n\nFeel free to explore these suggestions and tailor your itinerary to suit your interests. If you need more specific recommendations or assistance with flights and hotels, feel free to let me know!"), type='text')], created_at=1724286616, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_o4rMnLZnQmHnXOlJhZOM6skg', status=None, thread_id='thread_nuCvw8i1CcI7z4ImFihT1lvh')], object='list', first_id='msg_F6tIkWxWGzjRpqXtkXxLAQkU', last_id='msg_SdGK1oritL6LjV2JVA1stdYa', has_more=False)
2024-08-21 17:30:23,866 - slack_ai_assistant - DEBUG - Messages: SyncCursorPage[Message](data=[Message(id='msg_F6tIkWxWGzjRpqXtkXxLAQkU', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='what should i do in new york'), type='text')], created_at=1724286614, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_nuCvw8i1CcI7z4ImFihT1lvh'), Message(id='msg_SdGK1oritL6LjV2JVA1stdYa', assistant_id='asst_LchyTrJxoG8J8nvNUnyfVkeU', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="New York City, also known as the Big Apple, offers a plethora of activities and attractions for all types of travelers. Here are some recommendations to make the most of your trip to New York:\n\n### Must-Visit Attractions:\n1. **The Statue of Liberty**:\n   - The iconic symbol of freedom and democracy, located on Liberty Island. You can take a ferry to get up close and learn about its history.\n   \n2. **Central Park**:\n   - A sprawling green oasis in the heart of Manhattan, perfect for picnics, boat rides, and leisurely strolls.\n\n3. **Times Square**:\n   - The bustling commercial hub known for its bright lights, Broadway theaters, and diverse street performers.\n\n4. **The Metropolitan Museum of Art**:\n   - One of the world's largest and most prestigious art museums, housing a wide range of artistic masterpieces.\n\n5. **The High Line**:\n   - An elevated park built on a disused railway, offering stunning views of the city and unique green spaces.\n\n### Unique Experiences:\n1. **Brooklyn Flea Market**:\n   - Explore this vintage and artisanal market in Brooklyn, showcasing local craftsmanship and unique finds.\n\n2. **Harlem Jazz Club**:\n   - Immerse yourself in the rich jazz history of Harlem by visiting one of its legendary jazz clubs for live performances.\n\n3. **Take a Graffiti Tour**:\n   - Discover the vibrant street art scene in neighborhoods like Bushwick with a guided graffiti tour.\n\n4. **Visit The Cloisters**:\n   - Explore this medieval European art museum located in Upper Manhattan, offering a tranquil escape from the city buzz.\n\n5. **Smorgasburg Food Market**:\n   - Indulge in a variety of local and global cuisines at this popular open-air food market in Brooklyn.\n\n### Recommended Restaurants:\n1. **Russ & Daughters ($$)**:\n   - A century-old Jewish deli on the Lower East Side famous for its smoked fish and bagels.\n\n2. **Joe's Pizza ($)**\n   - Enjoy a slice of authentic New York-style pizza at this no-frills pizzeria in Greenwich Village.\n\n3. **Le Bernardin ($$$)**:\n   - Experience Michelin-starred seafood cuisine at this upscale restaurant in Midtown Manhattan.\n\n### Day Trips:\n1. **Hudson Valley**:\n   - Explore scenic vineyards, historic mansions, and outdoor activities just a short drive from the city.\n\n2. **Coney Island**:\n   - Visit this vibrant seaside neighborhood in Brooklyn for its iconic boardwalk, amusement park, and beach.\n\n3. **Storm King Art Center**:\n   - A sculpture park in the Hudson Valley featuring large-scale contemporary artworks in a beautiful natural setting.\n\n### Accommodation Options:\n1. **Budget**: The Pod Hotel (Midtown Manhattan)\n2. **Mid-Range**: The Williamsburg Hotel (Brooklyn)\n3. **Luxury**: The Plaza Hotel (Central Park South)\n\n### Getting Around:\nPublic transportation in NYC is efficient with the subway and bus system covering the entire city. Taxis and ride-sharing services are also readily available. Consider getting a MetroCard for unlimited rides during your stay.\n\n### Events/Festivals:\n**New York Fashion Week**:\n   - If you're into fashion, plan your trip around February or September to catch one of the biggest events in the industry.\n\nFeel free to explore these suggestions and tailor your itinerary to suit your interests. If you need more specific recommendations or assistance with flights and hotels, feel free to let me know!"), type='text')], created_at=1724286616, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_o4rMnLZnQmHnXOlJhZOM6skg', status=None, thread_id='thread_nuCvw8i1CcI7z4ImFihT1lvh')], object='list', first_id='msg_F6tIkWxWGzjRpqXtkXxLAQkU', last_id='msg_SdGK1oritL6LjV2JVA1stdYa', has_more=False)
2024-08-21 17:30:23,866 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 17:30:23,866 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_o4rMnLZnQmHnXOlJhZOM6skg
2024-08-21 17:30:23,867 - slack_ai_assistant - DEBUG - Dispatch result: {'thread_id': 'thread_nuCvw8i1CcI7z4ImFihT1lvh', 'run_id': 'run_o4rMnLZnQmHnXOlJhZOM6skg', 'assistant_response': "New York City, also known as the Big Apple, offers a plethora of activities and attractions for all types of travelers. Here are some recommendations to make the most of your trip to New York:\n\n### Must-Visit Attractions:\n1. **The Statue of Liberty**:\n   - The iconic symbol of freedom and democracy, located on Liberty Island. You can take a ferry to get up close and learn about its history.\n   \n2. **Central Park**:\n   - A sprawling green oasis in the heart of Manhattan, perfect for picnics, boat rides, and leisurely strolls.\n\n3. **Times Square**:\n   - The bustling commercial hub known for its bright lights, Broadway theaters, and diverse street performers.\n\n4. **The Metropolitan Museum of Art**:\n   - One of the world's largest and most prestigious art museums, housing a wide range of artistic masterpieces.\n\n5. **The High Line**:\n   - An elevated park built on a disused railway, offering stunning views of the city and unique green spaces.\n\n### Unique Experiences:\n1. **Brooklyn Flea Market**:\n   - Explore this vintage and artisanal market in Brooklyn, showcasing local craftsmanship and unique finds.\n\n2. **Harlem Jazz Club**:\n   - Immerse yourself in the rich jazz history of Harlem by visiting one of its legendary jazz clubs for live performances.\n\n3. **Take a Graffiti Tour**:\n   - Discover the vibrant street art scene in neighborhoods like Bushwick with a guided graffiti tour.\n\n4. **Visit The Cloisters**:\n   - Explore this medieval European art museum located in Upper Manhattan, offering a tranquil escape from the city buzz.\n\n5. **Smorgasburg Food Market**:\n   - Indulge in a variety of local and global cuisines at this popular open-air food market in Brooklyn.\n\n### Recommended Restaurants:\n1. **Russ & Daughters ($$)**:\n   - A century-old Jewish deli on the Lower East Side famous for its smoked fish and bagels.\n\n2. **Joe's Pizza ($)**\n   - Enjoy a slice of authentic New York-style pizza at this no-frills pizzeria in Greenwich Village.\n\n3. **Le Bernardin ($$$)**:\n   - Experience Michelin-starred seafood cuisine at this upscale restaurant in Midtown Manhattan.\n\n### Day Trips:\n1. **Hudson Valley**:\n   - Explore scenic vineyards, historic mansions, and outdoor activities just a short drive from the city.\n\n2. **Coney Island**:\n   - Visit this vibrant seaside neighborhood in Brooklyn for its iconic boardwalk, amusement park, and beach.\n\n3. **Storm King Art Center**:\n   - A sculpture park in the Hudson Valley featuring large-scale contemporary artworks in a beautiful natural setting.\n\n### Accommodation Options:\n1. **Budget**: The Pod Hotel (Midtown Manhattan)\n2. **Mid-Range**: The Williamsburg Hotel (Brooklyn)\n3. **Luxury**: The Plaza Hotel (Central Park South)\n\n### Getting Around:\nPublic transportation in NYC is efficient with the subway and bus system covering the entire city. Taxis and ride-sharing services are also readily available. Consider getting a MetroCard for unlimited rides during your stay.\n\n### Events/Festivals:\n**New York Fashion Week**:\n   - If you're into fashion, plan your trip around February or September to catch one of the biggest events in the industry.\n\nFeel free to explore these suggestions and tailor your itinerary to suit your interests. If you need more specific recommendations or assistance with flights and hotels, feel free to let me know!"}
2024-08-21 17:30:23,867 - slack_ai_assistant - DEBUG - Thread ID: thread_nuCvw8i1CcI7z4ImFihT1lvh, Run ID: run_o4rMnLZnQmHnXOlJhZOM6skg
2024-08-21 17:30:23,867 - slack_ai_assistant - DEBUG - Function outputs: None
2024-08-21 17:30:23,867 - slack_ai_assistant - DEBUG - Assistant response: New York City, also known as the Big Apple, offers a plethora of activities and attractions for all types of travelers. Here are some recommendations to make the most of your trip to New York:

### Must-Visit Attractions:
1. **The Statue of Liberty**:
   - The iconic symbol of freedom and democracy, located on Liberty Island. You can take a ferry to get up close and learn about its history.
   
2. **Central Park**:
   - A sprawling green oasis in the heart of Manhattan, perfect for picnics, boat rides, and leisurely strolls.

3. **Times Square**:
   - The bustling commercial hub known for its bright lights, Broadway theaters, and diverse street performers.

4. **The Metropolitan Museum of Art**:
   - One of the world's largest and most prestigious art museums, housing a wide range of artistic masterpieces.

5. **The High Line**:
   - An elevated park built on a disused railway, offering stunning views of the city and unique green spaces.

### Unique Experiences:
1. **Brooklyn Flea Market**:
   - Explore this vintage and artisanal market in Brooklyn, showcasing local craftsmanship and unique finds.

2. **Harlem Jazz Club**:
   - Immerse yourself in the rich jazz history of Harlem by visiting one of its legendary jazz clubs for live performances.

3. **Take a Graffiti Tour**:
   - Discover the vibrant street art scene in neighborhoods like Bushwick with a guided graffiti tour.

4. **Visit The Cloisters**:
   - Explore this medieval European art museum located in Upper Manhattan, offering a tranquil escape from the city buzz.

5. **Smorgasburg Food Market**:
   - Indulge in a variety of local and global cuisines at this popular open-air food market in Brooklyn.

### Recommended Restaurants:
1. **Russ & Daughters ($$)**:
   - A century-old Jewish deli on the Lower East Side famous for its smoked fish and bagels.

2. **Joe's Pizza ($)**
   - Enjoy a slice of authentic New York-style pizza at this no-frills pizzeria in Greenwich Village.

3. **Le Bernardin ($$$)**:
   - Experience Michelin-starred seafood cuisine at this upscale restaurant in Midtown Manhattan.

### Day Trips:
1. **Hudson Valley**:
   - Explore scenic vineyards, historic mansions, and outdoor activities just a short drive from the city.

2. **Coney Island**:
   - Visit this vibrant seaside neighborhood in Brooklyn for its iconic boardwalk, amusement park, and beach.

3. **Storm King Art Center**:
   - A sculpture park in the Hudson Valley featuring large-scale contemporary artworks in a beautiful natural setting.

### Accommodation Options:
1. **Budget**: The Pod Hotel (Midtown Manhattan)
2. **Mid-Range**: The Williamsburg Hotel (Brooklyn)
3. **Luxury**: The Plaza Hotel (Central Park South)

### Getting Around:
Public transportation in NYC is efficient with the subway and bus system covering the entire city. Taxis and ride-sharing services are also readily available. Consider getting a MetroCard for unlimited rides during your stay.

### Events/Festivals:
**New York Fashion Week**:
   - If you're into fashion, plan your trip around February or September to catch one of the biggest events in the industry.

Feel free to explore these suggestions and tailor your itinerary to suit your interests. If you need more specific recommendations or assistance with flights and hotels, feel free to let me know!
2024-08-21 17:30:23,867 - slack_ai_assistant - DEBUG - Sending assistant response: New York City, also known as the Big Apple, offers a plethora of activities and attractions for all types of travelers. Here are some recommendations to make the most of your trip to New York:

### Must-Visit Attractions:
1. **The Statue of Liberty**:
   - The iconic symbol of freedom and democracy, located on Liberty Island. You can take a ferry to get up close and learn about its history.
   
2. **Central Park**:
   - A sprawling green oasis in the heart of Manhattan, perfect for picnics, boat rides, and leisurely strolls.

3. **Times Square**:
   - The bustling commercial hub known for its bright lights, Broadway theaters, and diverse street performers.

4. **The Metropolitan Museum of Art**:
   - One of the world's largest and most prestigious art museums, housing a wide range of artistic masterpieces.

5. **The High Line**:
   - An elevated park built on a disused railway, offering stunning views of the city and unique green spaces.

### Unique Experiences:
1. **Brooklyn Flea Market**:
   - Explore this vintage and artisanal market in Brooklyn, showcasing local craftsmanship and unique finds.

2. **Harlem Jazz Club**:
   - Immerse yourself in the rich jazz history of Harlem by visiting one of its legendary jazz clubs for live performances.

3. **Take a Graffiti Tour**:
   - Discover the vibrant street art scene in neighborhoods like Bushwick with a guided graffiti tour.

4. **Visit The Cloisters**:
   - Explore this medieval European art museum located in Upper Manhattan, offering a tranquil escape from the city buzz.

5. **Smorgasburg Food Market**:
   - Indulge in a variety of local and global cuisines at this popular open-air food market in Brooklyn.

### Recommended Restaurants:
1. **Russ & Daughters ($$)**:
   - A century-old Jewish deli on the Lower East Side famous for its smoked fish and bagels.

2. **Joe's Pizza ($)**
   - Enjoy a slice of authentic New York-style pizza at this no-frills pizzeria in Greenwich Village.

3. **Le Bernardin ($$$)**:
   - Experience Michelin-starred seafood cuisine at this upscale restaurant in Midtown Manhattan.

### Day Trips:
1. **Hudson Valley**:
   - Explore scenic vineyards, historic mansions, and outdoor activities just a short drive from the city.

2. **Coney Island**:
   - Visit this vibrant seaside neighborhood in Brooklyn for its iconic boardwalk, amusement park, and beach.

3. **Storm King Art Center**:
   - A sculpture park in the Hudson Valley featuring large-scale contemporary artworks in a beautiful natural setting.

### Accommodation Options:
1. **Budget**: The Pod Hotel (Midtown Manhattan)
2. **Mid-Range**: The Williamsburg Hotel (Brooklyn)
3. **Luxury**: The Plaza Hotel (Central Park South)

### Getting Around:
Public transportation in NYC is efficient with the subway and bus system covering the entire city. Taxis and ride-sharing services are also readily available. Consider getting a MetroCard for unlimited rides during your stay.

### Events/Festivals:
**New York Fashion Week**:
   - If you're into fashion, plan your trip around February or September to catch one of the biggest events in the industry.

Feel free to explore these suggestions and tailor your itinerary to suit your interests. If you need more specific recommendations or assistance with flights and hotels, feel free to let me know!
2024-08-21 17:30:23,867 - slack_ai_assistant - DEBUG - Sending Slack response - Channel: C07A869GUDT, Response: New York City, also known as the Big Apple, offers a plethora of activities and attractions for all types of travelers. Here are some recommendations to make the most of your trip to New York:

### Must-Visit Attractions:
1. **The Statue of Liberty**:
   - The iconic symbol of freedom and democracy, located on Liberty Island. You can take a ferry to get up close and learn about its history.
   
2. **Central Park**:
   - A sprawling green oasis in the heart of Manhattan, perfect for picnics, boat rides, and leisurely strolls.

3. **Times Square**:
   - The bustling commercial hub known for its bright lights, Broadway theaters, and diverse street performers.

4. **The Metropolitan Museum of Art**:
   - One of the world's largest and most prestigious art museums, housing a wide range of artistic masterpieces.

5. **The High Line**:
   - An elevated park built on a disused railway, offering stunning views of the city and unique green spaces.

### Unique Experiences:
1. **Brooklyn Flea Market**:
   - Explore this vintage and artisanal market in Brooklyn, showcasing local craftsmanship and unique finds.

2. **Harlem Jazz Club**:
   - Immerse yourself in the rich jazz history of Harlem by visiting one of its legendary jazz clubs for live performances.

3. **Take a Graffiti Tour**:
   - Discover the vibrant street art scene in neighborhoods like Bushwick with a guided graffiti tour.

4. **Visit The Cloisters**:
   - Explore this medieval European art museum located in Upper Manhattan, offering a tranquil escape from the city buzz.

5. **Smorgasburg Food Market**:
   - Indulge in a variety of local and global cuisines at this popular open-air food market in Brooklyn.

### Recommended Restaurants:
1. **Russ & Daughters ($$)**:
   - A century-old Jewish deli on the Lower East Side famous for its smoked fish and bagels.

2. **Joe's Pizza ($)**
   - Enjoy a slice of authentic New York-style pizza at this no-frills pizzeria in Greenwich Village.

3. **Le Bernardin ($$$)**:
   - Experience Michelin-starred seafood cuisine at this upscale restaurant in Midtown Manhattan.

### Day Trips:
1. **Hudson Valley**:
   - Explore scenic vineyards, historic mansions, and outdoor activities just a short drive from the city.

2. **Coney Island**:
   - Visit this vibrant seaside neighborhood in Brooklyn for its iconic boardwalk, amusement park, and beach.

3. **Storm King Art Center**:
   - A sculpture park in the Hudson Valley featuring large-scale contemporary artworks in a beautiful natural setting.

### Accommodation Options:
1. **Budget**: The Pod Hotel (Midtown Manhattan)
2. **Mid-Range**: The Williamsburg Hotel (Brooklyn)
3. **Luxury**: The Plaza Hotel (Central Park South)

### Getting Around:
Public transportation in NYC is efficient with the subway and bus system covering the entire city. Taxis and ride-sharing services are also readily available. Consider getting a MetroCard for unlimited rides during your stay.

### Events/Festivals:
**New York Fashion Week**:
   - If you're into fashion, plan your trip around February or September to catch one of the biggest events in the industry.

Feel free to explore these suggestions and tailor your itinerary to suit your interests. If you need more specific recommendations or assistance with flights and hotels, feel free to let me know!
2024-08-21 17:30:36,950 - slack_ai_assistant - DEBUG - Formatted Slack message: {'channel': 'C07A869GUDT', 'text': 'Explore the multitude of activities and attractions available in New York City, including must-visit attractions, unique experiences, recommended restaurants, accommodation options, and more.', 'blocks': [{'type': 'section', 'text': {'type': 'mrkdwn', 'text': '*New York City, also known as the Big Apple, offers a plethora of activities and attractions for all types of travelers. Here are some recommendations to make the most of your trip to New York:*'}}, {'type': 'divider'}, {'type': 'section', 'text': {'type': 'mrkdwn', 'text': '*Must-Visit Attractions:*'}}, {'type': 'section', 'text': {'type': 'mrkdwn', 'text': "1. *The Statue of Liberty*: \n   - The iconic symbol of freedom and democracy, located on Liberty Island. You can take a ferry to get up close and learn about its history.\n\n2. *Central Park*: \n   - A sprawling green oasis in the heart of Manhattan, perfect for picnics, boat rides, and leisurely strolls.\n\n3. *Times Square*: \n   - The bustling commercial hub known for its bright lights, Broadway theaters, and diverse street performers.\n\n4. *The Metropolitan Museum of Art*: \n   - One of the world's largest and most prestigious art museums, housing a wide range of artistic masterpieces.\n\n5. *The High Line*: \n   - An elevated park built on a disused railway, offering stunning views of the city and unique green spaces."}}, {'type': 'divider'}, {'type': 'section', 'text': {'type': 'mrkdwn', 'text': '*Unique Experiences:*'}}, {'type': 'section', 'text': {'type': 'mrkdwn', 'text': '1. *Brooklyn Flea Market*: \n   - Explore this vintage and artisanal market in Brooklyn, showcasing local craftsmanship and unique finds.\n\n2. *Harlem Jazz Club*: \n   - Immerse yourself in the rich jazz history of Harlem by visiting one of its legendary jazz clubs for live performances.\n\n3. *Take a Graffiti Tour*: \n   - Discover the vibrant street art scene in neighborhoods like Bushwick with a guided graffiti tour.\n\n4. *Visit The Cloisters*: \n   - Explore this medieval European art museum located in Upper Manhattan, offering a tranquil escape from the city buzz.\n\n5. *Smorgasburg Food Market*: \n   - Indulge in a variety of local and global cuisines at this popular open-air food market in Brooklyn.'}}, {'type': 'divider'}, {'type': 'section', 'text': {'type': 'mrkdwn', 'text': '*Recommended Restaurants:*'}}, {'type': 'section', 'text': {'type': 'mrkdwn', 'text': "1. *Russ & Daughters ($$)*: \n   - A century-old Jewish deli on the Lower East Side famous for its smoked fish and bagels.\n\n2. *Joe's Pizza ($)*: \n   - Enjoy a slice of authentic New York-style pizza at this no-frills pizzeria in Greenwich Village.\n\n3. *Le Bernardin ($$$)*: \n   - Experience Michelin-starred seafood cuisine at this upscale restaurant in Midtown Manhattan."}}, {'type': 'divider'}, {'type': 'section', 'text': {'type': 'mrkdwn', 'text': '*Day Trips:*'}}, {'type': 'section', 'text': {'type': 'mrkdwn', 'text': '1. *Hudson Valley*: \n   - Explore scenic vineyards, historic mansions, and outdoor activities just a short drive from the city.\n\n2. *Coney Island*: \n   - Visit this vibrant seaside neighborhood in Brooklyn for its iconic boardwalk, amusement park, and beach.\n\n3. *Storm King Art Center*: \n   - A sculpture park in the Hudson Valley featuring large-scale contemporary artworks in a beautiful natural setting.'}}, {'type': 'divider'}, {'type': 'section', 'text': {'type': 'mrkdwn', 'text': '*Accommodation Options:*'}}, {'type': 'section', 'text': {'type': 'mrkdwn', 'text': '1. *Budget*: The Pod Hotel (Midtown Manhattan)\n2. *Mid-Range*: The Williamsburg Hotel (Brooklyn)\n3. *Luxury*: The Plaza Hotel (Central Park South)'}}, {'type': 'divider'}, {'type': 'section', 'text': {'type': 'mrkdwn', 'text': '*Getting Around:*'}}, {'type': 'section', 'text': {'type': 'mrkdwn', 'text': 'Public transportation in NYC is efficient with the subway and bus system covering the entire city. Taxis and ride-sharing services are also readily available. Consider getting a MetroCard for unlimited rides during your stay.'}}, {'type': 'divider'}, {'type': 'section', 'text': {'type': 'mrkdwn', 'text': '*Events/Festivals:*'}}, {'type': 'section', 'text': {'type': 'mrkdwn', 'text': "*New York Fashion Week*: \n   - If you're into fashion, plan your trip around February or September to catch one of the biggest events in the industry."}}, {'type': 'divider'}, {'type': 'section', 'text': {'type': 'mrkdwn', 'text': 'Feel free to explore these suggestions and tailor your itinerary to suit your interests. If you need more specific recommendations or assistance with flights and hotels, feel free to let me know!'}}]}
2024-08-21 17:32:32,800 - slack_ai_assistant - INFO - Google authentication initialized successfully
2024-08-21 17:32:32,800 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 17:32:33,340 - slack_ai_assistant - DEBUG - Updated TravelAssistant with new tools and instructions
2024-08-21 17:32:33,340 - slack_ai_assistant - DEBUG - Assistants update completed
2024-08-21 17:32:33,542 - slack_ai_assistant - DEBUG - Updated CalendarAssistant with new tools and instructions
2024-08-21 17:32:33,542 - slack_ai_assistant - DEBUG - Assistants update completed
2024-08-21 17:32:33,712 - slack_ai_assistant - DEBUG - Updated GmailAssistant with new tools and instructions
2024-08-21 17:32:33,712 - slack_ai_assistant - DEBUG - Assistants update completed
2024-08-21 17:32:33,712 - slack_ai_assistant - DEBUG - Creating Slack bot
2024-08-21 17:32:33,840 - slack_ai_assistant - DEBUG - Slack bot created successfully
2024-08-21 17:32:33,840 - slack_ai_assistant - INFO - Starting the AI-Powered Personal Assistant Slack Bot
2024-08-21 17:32:43,139 - slack_ai_assistant - DEBUG - Received message event: {'user': 'U079WGB6T0X', 'type': 'message', 'ts': '1724286762.514439', 'client_msg_id': '137b0e4c-f9ba-484f-8d9f-b2dffc92c6f5', 'text': 'what should i do in new york', 'team': 'T07APNY0M4Z', 'blocks': [{'type': 'rich_text', 'block_id': '/URa6', 'elements': [{'type': 'rich_text_section', 'elements': [{'type': 'text', 'text': 'what should i do in new york'}]}]}], 'channel': 'C07A869GUDT', 'event_ts': '1724286762.514439', 'channel_type': 'channel'}
2024-08-21 17:32:43,139 - slack_ai_assistant - DEBUG - Processing message event - Text: what should i do in new york, User: U079WGB6T0X, Channel: C07A869GUDT
2024-08-21 17:32:44,438 - slack_ai_assistant - DEBUG - Dispatching message
2024-08-21 17:32:44,438 - slack_ai_assistant - INFO - Starting dispatch for user input: what should i do in new york
2024-08-21 17:32:48,178 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_5tHled9XPVgTAz6BXTENhzhP', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='what should i do in new york'), type='text')], created_at=1724286768, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_2SjAr6KordIPcPj3kC1yELQV')], object='list', first_id='msg_5tHled9XPVgTAz6BXTENhzhP', last_id='msg_5tHled9XPVgTAz6BXTENhzhP', has_more=False)
2024-08-21 17:32:50,438 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_5tHled9XPVgTAz6BXTENhzhP', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='what should i do in new york'), type='text')], created_at=1724286768, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_2SjAr6KordIPcPj3kC1yELQV'), Message(id='msg_D8GsDCaRpUjKLPMbLxFv1fOJ', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='travel'), type='text')], created_at=1724286769, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_WfqDygyET9PmRRS4Yt4e0DdV', status=None, thread_id='thread_2SjAr6KordIPcPj3kC1yELQV')], object='list', first_id='msg_5tHled9XPVgTAz6BXTENhzhP', last_id='msg_D8GsDCaRpUjKLPMbLxFv1fOJ', has_more=False)
2024-08-21 17:32:50,438 - slack_ai_assistant - DEBUG - Messages: SyncCursorPage[Message](data=[Message(id='msg_5tHled9XPVgTAz6BXTENhzhP', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='what should i do in new york'), type='text')], created_at=1724286768, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_2SjAr6KordIPcPj3kC1yELQV'), Message(id='msg_D8GsDCaRpUjKLPMbLxFv1fOJ', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='travel'), type='text')], created_at=1724286769, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_WfqDygyET9PmRRS4Yt4e0DdV', status=None, thread_id='thread_2SjAr6KordIPcPj3kC1yELQV')], object='list', first_id='msg_5tHled9XPVgTAz6BXTENhzhP', last_id='msg_D8GsDCaRpUjKLPMbLxFv1fOJ', has_more=False)
2024-08-21 17:32:50,438 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 17:32:50,439 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_WfqDygyET9PmRRS4Yt4e0DdV
2024-08-21 17:32:50,439 - slack_ai_assistant - INFO - Selected assistant: TravelAssistant
2024-08-21 17:32:56,502 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_Hi95oQDA9Ilo6HnCsAYPdLpc', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='what should i do in new york'), type='text')], created_at=1724286770, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_fSTpeJCc7wEGt6QOs5fcrJLx'), Message(id='msg_u9wAnlkZNvaNO6MN1lSCsemT', assistant_id='asst_LchyTrJxoG8J8nvNUnyfVkeU', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="Hey there! New York is a bustling city with tons to offer. Here are some recommendations for your trip:\n\n1. **Must-See Attractions:**\n   - Central Park: A vast oasis in the heart of the city with scenic views and recreational activities.\n   - Times Square: Known for its bright lights, Broadway theaters, and vibrant atmosphere.\n   - Statue of Liberty: Iconic symbol of freedom and a must-visit landmark in NYC.\n\n2. **Unique Local Experiences:**\n   - Walk the High Line: Stroll along this elevated park built on a historic freight rail line with great views.\n   - Explore Chelsea Market: A food hall and shopping mall with a variety of unique vendors and eateries.\n\n3. **Great Places to Eat:**\n   - $ Joe's Pizza: Grab a slice of classic New York pizza at this local favorite.\n   - $$ The Spotted Pig: Cozy gastropub known for its delicious burgers and relaxed ambiance.\n\n4. **Cool Day Trip:**\n   - Visit The Hamptons: Explore the upscale seaside towns, beautiful beaches, and luxurious estates just a couple of hours from NYC.\n\n5. **Quick Tip on Getting Around:**\n   - Subway System: The NYC subway is a convenient and affordable way to navigate the city. Grab a MetroCard and hop on the train to your next adventure!"), type='text')], created_at=1724286772, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_TmghUlpkWyomu9fdphPJDUMa', status=None, thread_id='thread_fSTpeJCc7wEGt6QOs5fcrJLx')], object='list', first_id='msg_Hi95oQDA9Ilo6HnCsAYPdLpc', last_id='msg_u9wAnlkZNvaNO6MN1lSCsemT', has_more=False)
2024-08-21 17:32:56,502 - slack_ai_assistant - DEBUG - Messages: SyncCursorPage[Message](data=[Message(id='msg_Hi95oQDA9Ilo6HnCsAYPdLpc', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='what should i do in new york'), type='text')], created_at=1724286770, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_fSTpeJCc7wEGt6QOs5fcrJLx'), Message(id='msg_u9wAnlkZNvaNO6MN1lSCsemT', assistant_id='asst_LchyTrJxoG8J8nvNUnyfVkeU', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="Hey there! New York is a bustling city with tons to offer. Here are some recommendations for your trip:\n\n1. **Must-See Attractions:**\n   - Central Park: A vast oasis in the heart of the city with scenic views and recreational activities.\n   - Times Square: Known for its bright lights, Broadway theaters, and vibrant atmosphere.\n   - Statue of Liberty: Iconic symbol of freedom and a must-visit landmark in NYC.\n\n2. **Unique Local Experiences:**\n   - Walk the High Line: Stroll along this elevated park built on a historic freight rail line with great views.\n   - Explore Chelsea Market: A food hall and shopping mall with a variety of unique vendors and eateries.\n\n3. **Great Places to Eat:**\n   - $ Joe's Pizza: Grab a slice of classic New York pizza at this local favorite.\n   - $$ The Spotted Pig: Cozy gastropub known for its delicious burgers and relaxed ambiance.\n\n4. **Cool Day Trip:**\n   - Visit The Hamptons: Explore the upscale seaside towns, beautiful beaches, and luxurious estates just a couple of hours from NYC.\n\n5. **Quick Tip on Getting Around:**\n   - Subway System: The NYC subway is a convenient and affordable way to navigate the city. Grab a MetroCard and hop on the train to your next adventure!"), type='text')], created_at=1724286772, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_TmghUlpkWyomu9fdphPJDUMa', status=None, thread_id='thread_fSTpeJCc7wEGt6QOs5fcrJLx')], object='list', first_id='msg_Hi95oQDA9Ilo6HnCsAYPdLpc', last_id='msg_u9wAnlkZNvaNO6MN1lSCsemT', has_more=False)
2024-08-21 17:32:56,503 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 17:32:56,503 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_TmghUlpkWyomu9fdphPJDUMa
2024-08-21 17:32:56,503 - slack_ai_assistant - DEBUG - Dispatch result: {'thread_id': 'thread_fSTpeJCc7wEGt6QOs5fcrJLx', 'run_id': 'run_TmghUlpkWyomu9fdphPJDUMa', 'assistant_response': "Hey there! New York is a bustling city with tons to offer. Here are some recommendations for your trip:\n\n1. **Must-See Attractions:**\n   - Central Park: A vast oasis in the heart of the city with scenic views and recreational activities.\n   - Times Square: Known for its bright lights, Broadway theaters, and vibrant atmosphere.\n   - Statue of Liberty: Iconic symbol of freedom and a must-visit landmark in NYC.\n\n2. **Unique Local Experiences:**\n   - Walk the High Line: Stroll along this elevated park built on a historic freight rail line with great views.\n   - Explore Chelsea Market: A food hall and shopping mall with a variety of unique vendors and eateries.\n\n3. **Great Places to Eat:**\n   - $ Joe's Pizza: Grab a slice of classic New York pizza at this local favorite.\n   - $$ The Spotted Pig: Cozy gastropub known for its delicious burgers and relaxed ambiance.\n\n4. **Cool Day Trip:**\n   - Visit The Hamptons: Explore the upscale seaside towns, beautiful beaches, and luxurious estates just a couple of hours from NYC.\n\n5. **Quick Tip on Getting Around:**\n   - Subway System: The NYC subway is a convenient and affordable way to navigate the city. Grab a MetroCard and hop on the train to your next adventure!"}
2024-08-21 17:32:56,503 - slack_ai_assistant - DEBUG - Thread ID: thread_fSTpeJCc7wEGt6QOs5fcrJLx, Run ID: run_TmghUlpkWyomu9fdphPJDUMa
2024-08-21 17:32:56,503 - slack_ai_assistant - DEBUG - Function outputs: None
2024-08-21 17:32:56,503 - slack_ai_assistant - DEBUG - Assistant response: Hey there! New York is a bustling city with tons to offer. Here are some recommendations for your trip:

1. **Must-See Attractions:**
   - Central Park: A vast oasis in the heart of the city with scenic views and recreational activities.
   - Times Square: Known for its bright lights, Broadway theaters, and vibrant atmosphere.
   - Statue of Liberty: Iconic symbol of freedom and a must-visit landmark in NYC.

2. **Unique Local Experiences:**
   - Walk the High Line: Stroll along this elevated park built on a historic freight rail line with great views.
   - Explore Chelsea Market: A food hall and shopping mall with a variety of unique vendors and eateries.

3. **Great Places to Eat:**
   - $ Joe's Pizza: Grab a slice of classic New York pizza at this local favorite.
   - $$ The Spotted Pig: Cozy gastropub known for its delicious burgers and relaxed ambiance.

4. **Cool Day Trip:**
   - Visit The Hamptons: Explore the upscale seaside towns, beautiful beaches, and luxurious estates just a couple of hours from NYC.

5. **Quick Tip on Getting Around:**
   - Subway System: The NYC subway is a convenient and affordable way to navigate the city. Grab a MetroCard and hop on the train to your next adventure!
2024-08-21 17:32:56,504 - slack_ai_assistant - DEBUG - Sending assistant response: Hey there! New York is a bustling city with tons to offer. Here are some recommendations for your trip:

1. **Must-See Attractions:**
   - Central Park: A vast oasis in the heart of the city with scenic views and recreational activities.
   - Times Square: Known for its bright lights, Broadway theaters, and vibrant atmosphere.
   - Statue of Liberty: Iconic symbol of freedom and a must-visit landmark in NYC.

2. **Unique Local Experiences:**
   - Walk the High Line: Stroll along this elevated park built on a historic freight rail line with great views.
   - Explore Chelsea Market: A food hall and shopping mall with a variety of unique vendors and eateries.

3. **Great Places to Eat:**
   - $ Joe's Pizza: Grab a slice of classic New York pizza at this local favorite.
   - $$ The Spotted Pig: Cozy gastropub known for its delicious burgers and relaxed ambiance.

4. **Cool Day Trip:**
   - Visit The Hamptons: Explore the upscale seaside towns, beautiful beaches, and luxurious estates just a couple of hours from NYC.

5. **Quick Tip on Getting Around:**
   - Subway System: The NYC subway is a convenient and affordable way to navigate the city. Grab a MetroCard and hop on the train to your next adventure!
2024-08-21 17:32:56,504 - slack_ai_assistant - DEBUG - Sending Slack response - Channel: C07A869GUDT, Response: Hey there! New York is a bustling city with tons to offer. Here are some recommendations for your trip:

1. **Must-See Attractions:**
   - Central Park: A vast oasis in the heart of the city with scenic views and recreational activities.
   - Times Square: Known for its bright lights, Broadway theaters, and vibrant atmosphere.
   - Statue of Liberty: Iconic symbol of freedom and a must-visit landmark in NYC.

2. **Unique Local Experiences:**
   - Walk the High Line: Stroll along this elevated park built on a historic freight rail line with great views.
   - Explore Chelsea Market: A food hall and shopping mall with a variety of unique vendors and eateries.

3. **Great Places to Eat:**
   - $ Joe's Pizza: Grab a slice of classic New York pizza at this local favorite.
   - $$ The Spotted Pig: Cozy gastropub known for its delicious burgers and relaxed ambiance.

4. **Cool Day Trip:**
   - Visit The Hamptons: Explore the upscale seaside towns, beautiful beaches, and luxurious estates just a couple of hours from NYC.

5. **Quick Tip on Getting Around:**
   - Subway System: The NYC subway is a convenient and affordable way to navigate the city. Grab a MetroCard and hop on the train to your next adventure!
2024-08-21 17:33:07,035 - slack_ai_assistant - DEBUG - Formatted Slack message: {'channel': 'C07A869GUDT', 'text': 'Recommendations for visiting New York City.', 'blocks': [{'type': 'section', 'text': {'type': 'mrkdwn', 'text': 'Hey there! New York is a bustling city with tons to offer. Here are some recommendations for your trip:'}}, {'type': 'divider'}, {'type': 'section', 'text': {'type': 'mrkdwn', 'text': '1. *Must-See Attractions:*\n   - _Central Park_: A vast oasis in the heart of the city with scenic views and recreational activities.\n   - _Times Square_: Known for its bright lights, Broadway theaters, and vibrant atmosphere.\n   - _Statue of Liberty_: Iconic symbol of freedom and a must-visit landmark in NYC.'}}, {'type': 'divider'}, {'type': 'section', 'text': {'type': 'mrkdwn', 'text': '2. *Unique Local Experiences:*\n   - _Walk the High Line_: Stroll along this elevated park built on a historic freight rail line with great views.\n   - _Explore Chelsea Market_: A food hall and shopping mall with a variety of unique vendors and eateries.'}}, {'type': 'divider'}, {'type': 'section', 'text': {'type': 'mrkdwn', 'text': "3. *Great Places to Eat:*\n   - $ _Joe's Pizza_: Grab a slice of classic New York pizza at this local favorite.\n   - $$ _The Spotted Pig_: Cozy gastropub known for its delicious burgers and relaxed ambiance."}}, {'type': 'divider'}, {'type': 'section', 'text': {'type': 'mrkdwn', 'text': '4. *Cool Day Trip:*\n   - _Visit The Hamptons_: Explore the upscale seaside towns, beautiful beaches, and luxurious estates just a couple of hours from NYC.'}}, {'type': 'divider'}, {'type': 'section', 'text': {'type': 'mrkdwn', 'text': '5. *Quick Tip on Getting Around:*\n   - _Subway System_: The NYC subway is a convenient and affordable way to navigate the city. Grab a MetroCard and hop on the train to your next adventure!'}}, {'type': 'divider'}, {'type': 'context', 'elements': [{'type': 'mrkdwn', 'text': 'Have a great trip exploring New York!'}]}]}
2024-08-21 17:34:40,695 - slack_ai_assistant - INFO - Google authentication initialized successfully
2024-08-21 17:34:40,695 - slack_ai_assistant - DEBUG - Updating assistants...
2024-08-21 17:34:41,197 - slack_ai_assistant - DEBUG - Updated TravelAssistant with new tools and instructions
2024-08-21 17:34:41,198 - slack_ai_assistant - DEBUG - Assistants update completed
2024-08-21 17:34:41,460 - slack_ai_assistant - DEBUG - Updated CalendarAssistant with new tools and instructions
2024-08-21 17:34:41,460 - slack_ai_assistant - DEBUG - Assistants update completed
2024-08-21 17:34:41,589 - slack_ai_assistant - DEBUG - Updated GmailAssistant with new tools and instructions
2024-08-21 17:34:41,589 - slack_ai_assistant - DEBUG - Assistants update completed
2024-08-21 17:34:41,589 - slack_ai_assistant - DEBUG - Creating Slack bot
2024-08-21 17:34:41,710 - slack_ai_assistant - DEBUG - Slack bot created successfully
2024-08-21 17:34:41,710 - slack_ai_assistant - INFO - Starting the AI-Powered Personal Assistant Slack Bot
2024-08-21 17:34:49,731 - slack_ai_assistant - DEBUG - Received message event: {'user': 'U079WGB6T0X', 'type': 'message', 'ts': '1724286888.625399', 'client_msg_id': '606b6c71-8724-4d74-8950-b5cbc639c2fb', 'text': 'what should i do in new yorkl', 'team': 'T07APNY0M4Z', 'blocks': [{'type': 'rich_text', 'block_id': 'fc4AZ', 'elements': [{'type': 'rich_text_section', 'elements': [{'type': 'text', 'text': 'what should i do in new yorkl'}]}]}], 'channel': 'C07A869GUDT', 'event_ts': '1724286888.625399', 'channel_type': 'channel'}
2024-08-21 17:34:49,732 - slack_ai_assistant - DEBUG - Processing message event - Text: what should i do in new yorkl, User: U079WGB6T0X, Channel: C07A869GUDT
2024-08-21 17:34:50,701 - slack_ai_assistant - DEBUG - Dispatching message
2024-08-21 17:34:50,701 - slack_ai_assistant - INFO - Starting dispatch for user input: what should i do in new yorkl
2024-08-21 17:34:51,370 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_I9PJrvEkt9HEuzTZzd28WuC8', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='what should i do in new yorkl'), type='text')], created_at=1724286891, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_RiCQB0evRohZrNhGnFteCIe8')], object='list', first_id='msg_I9PJrvEkt9HEuzTZzd28WuC8', last_id='msg_I9PJrvEkt9HEuzTZzd28WuC8', has_more=False)
2024-08-21 17:34:53,759 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_I9PJrvEkt9HEuzTZzd28WuC8', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='what should i do in new yorkl'), type='text')], created_at=1724286891, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_RiCQB0evRohZrNhGnFteCIe8'), Message(id='msg_mnVmDkaemPcnj2vrqp6vwZum', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='travel'), type='text')], created_at=1724286893, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_rLrffiqKdIsfFNUdoiturJ4x', status=None, thread_id='thread_RiCQB0evRohZrNhGnFteCIe8')], object='list', first_id='msg_I9PJrvEkt9HEuzTZzd28WuC8', last_id='msg_mnVmDkaemPcnj2vrqp6vwZum', has_more=False)
2024-08-21 17:34:53,759 - slack_ai_assistant - DEBUG - Messages: SyncCursorPage[Message](data=[Message(id='msg_I9PJrvEkt9HEuzTZzd28WuC8', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='what should i do in new yorkl'), type='text')], created_at=1724286891, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_RiCQB0evRohZrNhGnFteCIe8'), Message(id='msg_mnVmDkaemPcnj2vrqp6vwZum', assistant_id='asst_kKzgCfGyKH7gS8gqj1o05Ovs', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='travel'), type='text')], created_at=1724286893, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_rLrffiqKdIsfFNUdoiturJ4x', status=None, thread_id='thread_RiCQB0evRohZrNhGnFteCIe8')], object='list', first_id='msg_I9PJrvEkt9HEuzTZzd28WuC8', last_id='msg_mnVmDkaemPcnj2vrqp6vwZum', has_more=False)
2024-08-21 17:34:53,760 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 17:34:53,760 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_rLrffiqKdIsfFNUdoiturJ4x
2024-08-21 17:34:53,760 - slack_ai_assistant - INFO - Selected assistant: TravelAssistant
2024-08-21 17:34:58,652 - slack_ai_assistant - DEBUG - List messages response: SyncCursorPage[Message](data=[Message(id='msg_F6oSgSEt5TOAoRDzCbzy5A7L', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='what should i do in new yorkl'), type='text')], created_at=1724286894, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_1SLSPT8utaG1HiSELgKQUlFK'), Message(id='msg_nbilhtR2CqXNcj1dR1o7EnJR', assistant_id='asst_LchyTrJxoG8J8nvNUnyfVkeU', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="Hey there! New York City is a bustling place with tons to do. Here are some recommendations for your trip:\n\n1. Must-see attractions:\n   - Statue of Liberty: Symbol of freedom and a must-visit landmark.\n   - Central Park: Escape the city buzz in this iconic green oasis.\n   - Times Square: Bright lights, bustling streets, and endless entertainment.\n\n2. Unique local experiences:\n   - Walk across the Brooklyn Bridge for stunning views of the city skyline.\n   - Catch a Broadway show for a taste of NYC's legendary theater scene.\n\n3. Great places to eat:\n   - $ Joe's Pizza: Grab a slice of classic New York pizza.\n   - $$ The Spotted Pig: Try some delicious gastropub fare.\n\n4. Cool day trip:\n   - Visit the charming town of Sleepy Hollow for a spooky and historical adventure.\n\n5. Quick tip on getting around:\n   - Take the subway for a fast and convenient way to explore different neighborhoods. Enjoy your trip to the Big Apple!"), type='text')], created_at=1724286896, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_UFzhCtEwGymctiNLNQH1e6LG', status=None, thread_id='thread_1SLSPT8utaG1HiSELgKQUlFK')], object='list', first_id='msg_F6oSgSEt5TOAoRDzCbzy5A7L', last_id='msg_nbilhtR2CqXNcj1dR1o7EnJR', has_more=False)
2024-08-21 17:34:58,653 - slack_ai_assistant - DEBUG - Messages: SyncCursorPage[Message](data=[Message(id='msg_F6oSgSEt5TOAoRDzCbzy5A7L', assistant_id=None, attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value='what should i do in new yorkl'), type='text')], created_at=1724286894, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='user', run_id=None, status=None, thread_id='thread_1SLSPT8utaG1HiSELgKQUlFK'), Message(id='msg_nbilhtR2CqXNcj1dR1o7EnJR', assistant_id='asst_LchyTrJxoG8J8nvNUnyfVkeU', attachments=[], completed_at=None, content=[TextContentBlock(text=Text(annotations=[], value="Hey there! New York City is a bustling place with tons to do. Here are some recommendations for your trip:\n\n1. Must-see attractions:\n   - Statue of Liberty: Symbol of freedom and a must-visit landmark.\n   - Central Park: Escape the city buzz in this iconic green oasis.\n   - Times Square: Bright lights, bustling streets, and endless entertainment.\n\n2. Unique local experiences:\n   - Walk across the Brooklyn Bridge for stunning views of the city skyline.\n   - Catch a Broadway show for a taste of NYC's legendary theater scene.\n\n3. Great places to eat:\n   - $ Joe's Pizza: Grab a slice of classic New York pizza.\n   - $$ The Spotted Pig: Try some delicious gastropub fare.\n\n4. Cool day trip:\n   - Visit the charming town of Sleepy Hollow for a spooky and historical adventure.\n\n5. Quick tip on getting around:\n   - Take the subway for a fast and convenient way to explore different neighborhoods. Enjoy your trip to the Big Apple!"), type='text')], created_at=1724286896, incomplete_at=None, incomplete_details=None, metadata={}, object='thread.message', role='assistant', run_id='run_UFzhCtEwGymctiNLNQH1e6LG', status=None, thread_id='thread_1SLSPT8utaG1HiSELgKQUlFK')], object='list', first_id='msg_F6oSgSEt5TOAoRDzCbzy5A7L', last_id='msg_nbilhtR2CqXNcj1dR1o7EnJR', has_more=False)
2024-08-21 17:34:58,653 - slack_ai_assistant - DEBUG - Checking message - Role: user, Run ID: None
2024-08-21 17:34:58,653 - slack_ai_assistant - DEBUG - Checking message - Role: assistant, Run ID: run_UFzhCtEwGymctiNLNQH1e6LG
2024-08-21 17:34:58,653 - slack_ai_assistant - DEBUG - Dispatch result: {'thread_id': 'thread_1SLSPT8utaG1HiSELgKQUlFK', 'run_id': 'run_UFzhCtEwGymctiNLNQH1e6LG', 'assistant_response': "Hey there! New York City is a bustling place with tons to do. Here are some recommendations for your trip:\n\n1. Must-see attractions:\n   - Statue of Liberty: Symbol of freedom and a must-visit landmark.\n   - Central Park: Escape the city buzz in this iconic green oasis.\n   - Times Square: Bright lights, bustling streets, and endless entertainment.\n\n2. Unique local experiences:\n   - Walk across the Brooklyn Bridge for stunning views of the city skyline.\n   - Catch a Broadway show for a taste of NYC's legendary theater scene.\n\n3. Great places to eat:\n   - $ Joe's Pizza: Grab a slice of classic New York pizza.\n   - $$ The Spotted Pig: Try some delicious gastropub fare.\n\n4. Cool day trip:\n   - Visit the charming town of Sleepy Hollow for a spooky and historical adventure.\n\n5. Quick tip on getting around:\n   - Take the subway for a fast and convenient way to explore different neighborhoods. Enjoy your trip to the Big Apple!"}
2024-08-21 17:34:58,653 - slack_ai_assistant - DEBUG - Thread ID: thread_1SLSPT8utaG1HiSELgKQUlFK, Run ID: run_UFzhCtEwGymctiNLNQH1e6LG
2024-08-21 17:34:58,653 - slack_ai_assistant - DEBUG - Function outputs: None
2024-08-21 17:34:58,653 - slack_ai_assistant - DEBUG - Assistant response: Hey there! New York City is a bustling place with tons to do. Here are some recommendations for your trip:

1. Must-see attractions:
   - Statue of Liberty: Symbol of freedom and a must-visit landmark.
   - Central Park: Escape the city buzz in this iconic green oasis.
   - Times Square: Bright lights, bustling streets, and endless entertainment.

2. Unique local experiences:
   - Walk across the Brooklyn Bridge for stunning views of the city skyline.
   - Catch a Broadway show for a taste of NYC's legendary theater scene.

3. Great places to eat:
   - $ Joe's Pizza: Grab a slice of classic New York pizza.
   - $$ The Spotted Pig: Try some delicious gastropub fare.

4. Cool day trip:
   - Visit the charming town of Sleepy Hollow for a spooky and historical adventure.

5. Quick tip on getting around:
   - Take the subway for a fast and convenient way to explore different neighborhoods. Enjoy your trip to the Big Apple!
2024-08-21 17:34:58,654 - slack_ai_assistant - DEBUG - Sending assistant response: Hey there! New York City is a bustling place with tons to do. Here are some recommendations for your trip:

1. Must-see attractions:
   - Statue of Liberty: Symbol of freedom and a must-visit landmark.
   - Central Park: Escape the city buzz in this iconic green oasis.
   - Times Square: Bright lights, bustling streets, and endless entertainment.

2. Unique local experiences:
   - Walk across the Brooklyn Bridge for stunning views of the city skyline.
   - Catch a Broadway show for a taste of NYC's legendary theater scene.

3. Great places to eat:
   - $ Joe's Pizza: Grab a slice of classic New York pizza.
   - $$ The Spotted Pig: Try some delicious gastropub fare.

4. Cool day trip:
   - Visit the charming town of Sleepy Hollow for a spooky and historical adventure.

5. Quick tip on getting around:
   - Take the subway for a fast and convenient way to explore different neighborhoods. Enjoy your trip to the Big Apple!
2024-08-21 17:34:58,654 - slack_ai_assistant - DEBUG - Sending Slack response - Channel: C07A869GUDT, Response: Hey there! New York City is a bustling place with tons to do. Here are some recommendations for your trip:

1. Must-see attractions:
   - Statue of Liberty: Symbol of freedom and a must-visit landmark.
   - Central Park: Escape the city buzz in this iconic green oasis.
   - Times Square: Bright lights, bustling streets, and endless entertainment.

2. Unique local experiences:
   - Walk across the Brooklyn Bridge for stunning views of the city skyline.
   - Catch a Broadway show for a taste of NYC's legendary theater scene.

3. Great places to eat:
   - $ Joe's Pizza: Grab a slice of classic New York pizza.
   - $$ The Spotted Pig: Try some delicious gastropub fare.

4. Cool day trip:
   - Visit the charming town of Sleepy Hollow for a spooky and historical adventure.

5. Quick tip on getting around:
   - Take the subway for a fast and convenient way to explore different neighborhoods. Enjoy your trip to the Big Apple!
2024-08-21 17:35:04,482 - slack_ai_assistant - DEBUG - Formatted Slack message: {'channel': 'C07A869GUDT', 'text': 'Recommendations for a trip to New York City, including attractions, experiences, dining, and travel tips.', 'blocks': [{'type': 'section', 'text': {'type': 'mrkdwn', 'text': 'Hey there! New York City is a bustling place with tons to do. Here are some recommendations for your trip:'}}, {'type': 'divider'}, {'type': 'section', 'text': {'type': 'mrkdwn', 'text': '*1. Must-see attractions:*\n- Statue of Liberty: Symbol of freedom and a must-visit landmark.\n- Central Park: Escape the city buzz in this iconic green oasis.\n- Times Square: Bright lights, bustling streets, and endless entertainment.'}}, {'type': 'divider'}, {'type': 'section', 'text': {'type': 'mrkdwn', 'text': "*2. Unique local experiences:*\n- Walk across the Brooklyn Bridge for stunning views of the city skyline.\n- Catch a Broadway show for a taste of NYC's legendary theater scene."}}, {'type': 'divider'}, {'type': 'section', 'text': {'type': 'mrkdwn', 'text': "*3. Great places to eat:*\n- $ Joe's Pizza: Grab a slice of classic New York pizza.\n- $$ The Spotted Pig: Try some delicious gastropub fare."}}, {'type': 'divider'}, {'type': 'section', 'text': {'type': 'mrkdwn', 'text': '*4. Cool day trip:*\n- Visit the charming town of Sleepy Hollow for a spooky and historical adventure.'}}, {'type': 'divider'}, {'type': 'section', 'text': {'type': 'mrkdwn', 'text': '*5. Quick tip on getting around:*\n- Take the subway for a fast and convenient way to explore different neighborhoods.'}}, {'type': 'divider'}, {'type': 'context', 'elements': [{'type': 'plain_text', 'text': 'Enjoy your trip to the Big Apple!'}]}]}
